//定义用到的颜色
var colors1 = [
  "#0602ff","#307ef3","#30c8e2","#3be285","#86e26f","#b5e22e",
  "#fff705","#ffb613","#ff6e08","#ff0000","#de0101",
]; // 由绿到红
var colors2 = [
  "#ff6e08","#ff8b13","#ff9613","#ffd611","#fff705","#d6e21f",
  "#b5e22e","#3ae237","#86e26f","#3ff38f","#3be285","#32d3ef",
]; // 由红到绿

//定义图例（标签与位置）
function addMapLegend(INDEX) {
  var colors = colors1;
  var data = {
    title: INDEX,
    colors: colors,
    labels: ["0", "0.2", "0.4", "0.6", "0.8", "1.0"],
    step: 30,
    fontSize:'20px'
    };
  var style = {
    right: "100px",
    bottom: "50px",
    height: "70px",
    width: "300px",
    fontSize:'30px'
    };
//图例选择器（NDVI FVC EVI NDWI VSWI VCI TCI MBDI NDDI MNDWI
//K-Means ZDQW 随机森林算法 svm算法 LST slpoe aspect cucaodu EI UHII）
    switch (INDEX) {
        case "NDVI":
            var data = {
                title: "NDVI",
                colors: ['CA7A41', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
                    '74A901', '66A000', '529400', '3E8601', '207401', '056201', '004C00',
                    '023B01', '012E01', '011D01', '011301'
                ],
                labels: ["-1", "1"],
                step: 30
            };
            break;

        case "FVC":
            var data = {
                title: "FVC",
            colors : ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
                           '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
                           '012E01', '011D01', '011301'
                           ],
            labels: ["-1", "1"],
            step: 30};
            break;
        
        case "EVI":
            var data = {
                title: "EVI",
                colors: ['CA7A41', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
                    '74A901', '66A000', '529400', '3E8601', '207401', '056201', '004C00',
                    '023B01', '012E01', '011D01', '011301'
                ],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;

        case "NDWI":
            var data = {
                title: "NDWI",
                colors: ['CA7A41', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
                    '74A901', '66A000', '529400', '3E8601', '207401', '056201', '004C00',
                    '023B01', '012E01', '011D01', '011301'
                ],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;

        case "VSWI":
            var data = {
                title: "VSWI",
                colors: ['#331418','#682325','#973b1c','#b66413','#cb921a','#dac62f','#e1fd4b'],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;

        case "VCI":
            var data = {
                title: "VCI",
                colors: ['#331418','#682325','#973b1c','#b66413','#cb921a','#dac62f','#e1fd4b'],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;
        
        case "TCI":
            var data = {
                title: "TCI",
                colors: ['#331418','#682325','#973b1c','#b66413','#cb921a','#dac62f','#e1fd4b'],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;
        
        case "MBDI":
            var data = {
                title: "MBDI",
                colors: ['#040613','#292851','#3f4b96','#427bb7','#61a8c7','#9cd4da','#eafdfd'],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;

        case "NDDI":
            var data = {
                title: "NDDI",
                colors: ['#2a186c','#14439c','#206e8b','#3c9387','#5ab978','#aad85c','#fdef9a'],
                labels: ["0", "0.5", "1"],
                step: 30
            };
            break;

        case "MNDWI":
            var data = {
                title: "MNDWI",
                colors: ['CA7A41', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718',
                    '74A901', '66A000', '529400', '3E8601', '207401', '056201', '004C00',
                    '023B01', '012E01', '011D01', '011301'
                ],
                labels: ["0.2", "0.6"],
                step: 30
            };
            break;
       
        case "NBR":
            var data = {
                title: "NBR",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["0.2", "0.6"],
                step: 30
            };
            break;

        case "RVI":
            var data = {
                title: "RVI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["0.8", "1.8"],
                step: 30
            };
            break;

        case "SAVI":
            var data = {
                title: "SAVI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-0.3", "0.3"],
                step: 30
            };
            break;

        case "LSWI":
            var data = {
                title: "LSWI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-0.2", "0.8"],
                step: 30
            };
            break;

        case "DVI":
            var data = {
                title: "DVI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-0.2", "0.8"],
                step: 30
            };
            break;

        case "NDBI":
            var data = {
                title: "NDBI",
                colors: [' FFFFF0','00FF00', '0000FF'
                ],
                labels: ["-0.5", "0.5"],
                step: 30
            };
            break;

        case "NDSI":
            var data = {
                title: "NDSI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-0.3", "0.3"],
                step: 30
            };
            break;

        case "BSI":
            var data = {
                title: "BSI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-1", "1"],
                step: 30
            };
            break;

        case "ARVI":
            var data = {
                title: "ARVI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-1", "1"],
                step: 30
            };
            break;

        case "GNDVI":
            var data = {
                title: "GNDVI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["-1", "1"],
                step: 30
            };
            break;

        case "CIWI":
            var data = {
                title: "CIWI",
                colors: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301'
                ],
                labels: ["0", "3000"],
                step: 30
            };
            break;

        case "K-means":
            var data = {
                title: "K-means算法",                
            };
            break;

        case "ZDQW":
            var data = {
                title: "最大期望算法",                
            };
            break;
        
        case "随机森林算法":
            var data = {
                title: "随机森林算法",                
            };
            break;
        
        case "svm算法":
            var data = {
                title: "svm算法",                
            };
            break;

        case "LST":
            var data = {
                title: INDEX,
                colors: colors,
                labels: ["5", "10", "15", "20", "25", "30"],
                step: 30,
                fontSize:'20px'
            };
            colors = colors1;
            break;
            case "slope":
            var data = {title: "坡度（°）",colors: colors,
                labels: ["0", "90"],
                step: 30,
                fontSize:'20px'}
            break;

        case "aspect":
            var data = {title: "坡向（°）",colors: colors,labels: ["0", "60", "120", "180", "240", "300","360"],
            step: 30,
            fontSize:'20px'}
            break;

        case "cucaodu":
            var data = {title: "粗糙度（μm）",colors: colors,labels: ["0.1", "100"],
            step: 30,
            fontSize:'20px'}
            break;
        case "EI":
            var data = {title: "生态环境状况指数EI",colors: colors2,labels: ["0", "0.2", "0.4", "0.6", "0.8", "1.0"],
            step: 30,}
            break;
        case "UHII":
            var data = {title: "温度等级法",colors: ["0000FF", "0000FF", "FF0000", "FF0000"],labels: ["非热岛", "热岛"],
            step: 30,
            fontSize:'20px'}
            break;
            //colors = ["0000FF", "0000FF", "FF0000"    , "FF0000"];           
    }
  var legend = ui.Legend(data, style);
  Map.addUI(legend);
}
/***********初始化组件，定义触发事件************/


//------------------------日期选择模块集合--------------------
//日期切换
function getdate(value) {
    if (basemaplayer !== null) {
        Map.removeLayer(basemaplayer);
        basemaplayer = null;
    }
    selectdate = pie.Date(value);
    year = selectdate.select("year");
    startdate = selectdate.advance(-3, "month");
    startdate2 = selectdate.advance(-1, "year");
    var startDate = selectdate;
    var endDate = pie.Date(startDate).advance(4, "month");
    // lulcimg=lulc.filterDate(startdate2,selectdate).first().select('LC_Type1').eq(12);
    updatead();
}

//新建日期选择
var dateselectlabel = ui.Label("日期选择:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: "5px" ,width:'150px',left:'10px',fontSize:'20px'});
var dateselect = ui.DateSelect({
    type: "year",
    placeholder: "年份",
    style: { backgroundColor: "#FFFFFF" },
    onChange: getdate
})


//--------------------地区切换模块集合------------------------
var center = pie.Geometry.Point([117.530, 33.830], null);
var polygon = pie.Geometry.Polygon([
    [
        [119.438, 34.772],
        [119.508, 34.772],
        [119.508, 34.721],
        [119.438, 34.721],
        [119.438, 34.772]
    ]
], null);
var china = pie.FeatureCollection("RESDC/WORLD_COUNTRY_BOUNDARY")
                .filter(pie.Filter.eq("fcname", "中国"));
var cityFeature = pie.FeatureCollection("NGCC/CHINA_CITY_BOUNDARY");
var shengFeature = pie.FeatureCollection("NGCC/CHINA_PROVINCE_BOUNDARY");
var selectarea = polygon;
var selectarealayer = null;
// var selectyear = 2019;
// var maskflag = false;
// var pointzoom = false
// var areaname = '长三角'
// var areaname2 = '长三角'
//地区切换
function funAreaCascader(value, selectData) {
    if (selectarealayer !== null) {
        Map.removeLayer(selectarealayer);
        selectarealayer = null; 
    }
    var index = parseInt(value.length);
    areaname = selectData[index - 1].label;
    var level1name = selectData[0].label;
    if (index == 1) {
        selectarea = shengFeature.filter(pie.Filter.eq("name", areaname));
        Map.centerObject(selectarea, 7);
        if (selectarealayer !== null) {
            Map.removeLayer(selectarealayer);
            selectarealayer = null;
        }                                                                                                                                                                   
        selectarealayer = Map.addLayer(selectarea, { color: "#00ffff", fillColor: "00000000", width: 5 }, "selectarea");
        selectarea = selectarea.first().geometry();
        updateloca(areaname);
        areal1value = selectData[0].value;
        //print(areal1value,areaname)
        //updateColumn(areal1value, areaname, cropsetvalue)
        areaname2 = selectData[index - 1].label;
        updatead()
    } 
    else {
        selectarea = cityFeature.filter(pie.Filter.eq("name", areaname));
        Map.centerObject(selectarea, 8);
        if (selectarealayer !== null) {
            Map.removeLayer(selectarealayer);
            selectarealayer = null;
        }
        selectarealayer = Map.addLayer(selectarea, { color: "#00ffff", fillColor: "00000000", width: 5 }, "selectarea");
        selectarea = selectarea.first().geometry();
        //updateloca(level1name.concat(', ').concat(areaname));
    }
}

//新建地区选择
var areacascaderlabel = ui.Label("地区选择:", 
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: '5px' ,width:'150px',left:'10px',fontSize:'20px'});
var areaselectcascader = ui.Cascader({
    placeholder: "省市",
    content: [
        {
            label: "江苏省",
            value: 'jiangsu',
            children: 
            [
                { label: "南京市" },
                { label: "无锡市" },
                { label: "常州市" },
                { label: "苏州市" },
                { label: "南通市" },
                { label: "盐城市" },
                { label: "扬州市" },
                { label: "镇江市" },
                { label: "泰州市" },
                { label: "淮安市" },
                { label: "徐州市" },
                { label: "连云港市"},
                { label: "宿迁市" },
            ]
        },
                {
            label: "浙江省",
            value: 'zhejiang',
            children: [
                { label: "杭州市" },
                { label: "宁波市" },
                { label: "嘉兴市" },
                { label: "湖州市" },
                { label: "绍兴市" },
                { label: "金华市" },
                { label: "舟山市" },
                { label: "台州市" },
                { label: "丽水市" },
                { label: "温州市" },
                { label: "衢州市" },
            ]
        },
        {
            label: "安徽省",
            value: 'anhui',
            children: [
                { label: "合肥市" },
                { label: "芜湖市" },
                { label: "马鞍山市" },
                { label: "铜陵市" },
                { label: "安庆市" },
                { label: "滁州市" },
                { label: "池州市" },
                { label: "宣城市" },
                { label: "六安市" },
                { label: "蚌埠市" },
                { label: "淮南市" },
                { label: "淮北市" },
                { label: "黄山市" },
            ]
        }, 
        {
            label: "河北省",
            value: 'hebei',
            children: [
                { label: "石家庄市" },
                { label: "唐山市" },
                { label: "秦皇岛市" },
                { label: "邯郸市" },
                { label: "邢台市" },
                { label: "保定市" },
                { label: "张家口市" },
                { label: "承德市" },
                { label: "沧州市" },
                { label: "廊坊市" },
                { label: "衡水市" },
            ]
        },
        {
            label: "山西省",
            value: 'shanxi',
            children: [
                { label: "太原市" },
                { label: "大同市" },
                { label: "阳泉市" },
                { label: "长治市" },
                { label: "晋城市" },
                { label: "晋中市" },
                { label: "运城市" },
                { label: "临汾市" },
                { label: "忻州市" },
                { label: "吕梁市" },
            ]
        },
        {
            label: "辽宁省",
            value: 'liaoning',
            children: [
                { label: "沈阳市" },
                { label: "大连市" },
                { label: "鞍山市" },
                { label: "抚顺市" },
                { label: "本溪市" },
                { label: "丹东市" },
                { label: "锦州市" },
                { label: "营口市" },
                { label: "阜新市" },
                { label: "辽阳市" },
                { label: "盘锦市" },
                { label: "铁岭市" },
                { label: "朝阳市" },
                { label: "葫芦岛市" },
            ]
        },
        {
            label: "吉林省",
            value: 'jilin',
            children: [
                { label: "长春市" },
                { label: "吉林市" },
                { label: "四平市" },
                { label: "辽源市" },
                { label: "通化市" },
                { label: "白山市" },
                { label: "松原市" },
                { label: "白城市" },
            ]
        },
        {
            label: "黑龙江省",
            value: 'heilongjiang',
            children: [
                { label: "哈尔滨市" },
                { label: "齐齐哈尔市" },
                { label: "大庆市" },
                { label: "绥化市" },
                { label: "伊春市" },
                { label: "黑河市" },
                { label: "佳木斯市" },
                { label: "鹤岗市" },
                { label: "双鸭山市" },
                { label: "七台河市" },
                { label: "鸡西市" },
                { label: "牡丹江市" },
            ]
        },
        {
            label: "福建省",
            value: 'fujian',
            children: [
                { label: "福州市" },
                { label: "莆田市" },
                { label: "宁德市" },
                { label: "南平市" },
                { label: "三明市" },
                { label: "龙岩市" },
                { label: "漳州市" },
                { label: "泉州市" },
                { label: "厦门市" },
            ]
        },
        {
            label: "江西省",
            value: 'jiangxi',
            children: [
                { label: "南昌市" },
                { label: "赣州市" },
                { label: "宜春市" },
                { label: "吉安市" },
                { label: "上饶市" },
                { label: "抚州市" },
                { label: "九江市" },
                { label: "景德镇市" },
                { label: "萍乡市" },
                { label: "新余市" },
                { label: "鹰潭市" },
            ]
        },
        {
            label: "山东省",
            value: 'shandong',
            children: [
                { label: "济南市" },
                { label: "青岛市" },
                { label: "淄博市" },
                { label: "枣庄市" },
                { label: "东营市" },
                { label: "烟台市" },
                { label: "潍坊市" },
                { label: "济宁市" },
                { label: "泰安市" },
                { label: "威海市" },
                { label: "日照市" },
                { label: "滨州市" },
                { label: "聊城市" },
                { label: "德州市" },
                { label: "临沂市" },
                { label: "菏泽市" },
            ]
        },
        {
            label: "河南省",
            value: 'henan',
            children: [
                { label: "郑州市" },
                { label: "开封市" },
                { label: "洛阳市" },
                { label: "平顶山市" },
                { label: "安阳市" },
                { label: "鹤壁市" },
                { label: "新乡市" },
                { label: "焦作市" },
                { label: "濮阳市" },
                { label: "许昌市" },
                { label: "漯河市" },
                { label: "三门峡市" },
                { label: "南阳市" },
                { label: "商丘市" },
                { label: "信阳市" },
                { label: "周口市" },
                { label: "驻马店市" },
            ]
        },
        {
            label: "湖北省",
            value: 'hubei',
            children: [
                { label: "武汉市" },
                { label: "黄石市" },
                { label: "十堰市" },
                { label: "荆州市" },
                { label: "宜昌市" },
                { label: "襄阳市" },
                { label: "鄂州市" },
                { label: "荆门市" },
                { label: "黄冈市" },
                { label: "孝感市" },
                { label: "咸宁市" },
                { label: "随州市" },
                { label: "恩施土家族苗族自治州" },
            ]
        },
        {
            label: "湖南省",
            value: 'hunan',
            children: [
                { label: "长沙市" },
                { label: "株洲市" },
                { label: "湘潭市" },
                { label: "衡阳市" },
                { label: "邵阳市" },
                { label: "张家界市" },
                { label: "岳阳市" },
                { label: "益阳市" },
                { label: "常德市" },
                { label: "娄底市" },
                { label: "郴州市" },
                { label: "永州市" },
                { label: "怀化市" },
                { label: "湘西土家族苗族自治州" },
            ]
        },
        {
            label: "广东省",
            value: 'guangdong',
            children: [
                { label: "广州市" },
                { label: "深圳市" },
                { label: "珠海市" },
                { label: "汕头市" },
                { label: "佛山市" },
                { label: "韶关市" },
                { label: "湛江市" },
                { label: "肇庆市" },
                { label: "江门市" },
                { label: "茂名市" },
                { label: "惠州市" },
                { label: "梅州市" },
                { label: "汕尾市" },
                { label: "河源市" },
                { label: "阳江市" },
                { label: "清远市" },
                { label: "东莞市" },
                { label: "中山市" },
                { label: "潮州市" },
                { label: "揭阳市" },
            ]
        },
        {
            label: "海南省",
            value: 'hainan',
            children: [
                { label: "海口市" },
                { label: "三亚市" },
                { label: "三沙市" },
                { label: "儋州市" },
            ]
        },
        {
            label: "四川省",
            value: 'sichuan',
            children: [
                { label: "成都市" },
                { label: "自贡市" },
                { label: "攀枝花市" },
                { label: "泸州市" },
                { label: "德阳市" },
                { label: "绵阳市" },
                { label: "广元市" },
                { label: "遂宁市" },
                { label: "内江市" },
                { label: "乐山市" },
                { label: "南充市" },
                { label: "眉山市" },
                { label: "宜宾市" },
                { label: "广安市" },
                { label: "达州市" },
                { label: "雅安市" },
                { label: "巴中市" },
                { label: "资阳市" },
            ]
        },
        {
            label: "贵州省",
            value: 'guizhou',
            children: [
                { label: "贵阳市" },
                { label: "遵义市" },
                { label: "毕节市" },
                { label: "六盘水市" },
                { label: "铜仁市" },
                { label: "安顺市" },
            ]
        },
        {
            label: "云南省",
            value: 'yunnan',
            children: [
                { label: "昆明市" },
                { label: "曲靖市" },
                { label: "玉溪市" },
                { label: "昭通市" },
                { label: "保山市" },
                { label: "丽江市" },
                { label: "普洱市" },
                { label: "临沧市" },
            ]
        },
        {
            label: "陕西省",
            value: 'shanxi',
            children: [
                { label: "西安市" },
                { label: "铜川市" },
                { label: "宝鸡市" },
                { label: "咸阳市" },
                { label: "渭南市" },
                { label: "汉中市" },
                { label: "安康市" },
                { label: "商洛市" },
                { label: "延安市" },
                { label: "榆林市" },
            ]
        },
        {
            label: "甘肃省",
            value: 'gansu',
            children: [
                { label: "兰州市" },
                { label: "嘉峪关市" },
                { label: "金昌市" },
                { label: "白银市" },
                { label: "天水市" },
                { label: "酒泉市" },
                { label: "张掖市" },
                { label: "武威市" },
                { label: "定西市" },
                { label: "陇南市" },
                { label: "平凉市" },
                { label: "庆阳市" },
            ]
        },
        {
            label: "青海省",
            value: 'qinghai',
            children: [
                { label: "西宁市" },
                { label: "海东市" },
                { label: "海北藏族自治州" },
                { label: "黄南藏族自治州" },
                { label: "海南藏族自治州" },
                { label: "果洛藏族自治州" },
                { label: "玉树藏族自治州" },
                { label: "海西蒙古族藏族自治州" },
            ]
        },
        {
            label: "台湾省",
            value: 'taiwan',
        },
        {
            label: "内蒙古自治区",
            value: 'neimenggu',
            children: [
                { label: "呼和浩特市" },
                { label: "包头市" },
                { label: "乌海市" },
                { label: "赤峰市" },
                { label: "呼伦贝尔市" },
                { label: "鄂尔多斯市" },
                { label: "通辽市" },
                { label: "乌兰察布市" },
                { label: "巴彦淖尔市" },
                { label: "兴安盟" },
                { label: "锡林郭勒盟" },
                { label: "阿拉善盟" },
            ]
        },
        {
            label: "广西壮族自治区",
            value: 'guangxi',
            children: [
                { label: "南宁市" },
                { label: "柳州市" },
                { label: "桂林市" },
                { label: "梧州市" },
                { label: "北海市" },
                { label: "崇左市" },
                { label: "来宾市" },
                { label: "贺州市" },
                { label: "玉林市" },
                { label: "百色市" },
                { label: "河池市" },
                { label: "钦州市" },
                { label: "防城港市" },
                { label: "贵港市" },
            ]
        },
        {
            label: "西藏自治区",
            value: 'xizang',
            children: [
                { label: "拉萨市" },
                { label: "昌都市" },
                { label: "日喀则市" },
                { label: "那曲市" },
                { label: "山南市" },
                { label: "林芝市" },
                { label: "阿里地区" },
            ]
        },
        {
            label: "宁夏回族自治区",
            value: 'ningxia',
            children: [
                { label: "银川市" },
                { label: "石嘴山市" },
                { label: "吴忠市" },
                { label: "固原市" },
                { label: "中卫市" },
            ]
        },
        {
            label: "新疆维吾尔自治区",
            value: 'xinjiang',
            children: [
                { label: "乌鲁木齐市" },
                { label: "克拉玛依市" },
                { label: "吐鲁番市" },
                { label: "哈密市" },
                { label: "昌吉回族自治州" },
                { label: "博尔塔拉蒙古自治州" },
                { label: "巴音郭楞蒙古自治州" },
                { label: "克孜勒苏柯尔克孜自治州" },
                { label: "伊犁哈萨克自治州" },
                { label: "阿克苏地区" },
                { label: "喀什地区" },
                { label: "和田地区" },
                { label: "塔城地区" },
                { label: "阿勒泰地区" },
            ]
        },
        {
            label: "北京市",
            value: 'shanghai',
        },
        {
            label: "天津市",
            value: 'shanghai',
        },
        {
            label: "上海市",
            value: 'shanghai',
        },
        {
            label: "重庆市",
            value: 'shanghai',
        },
        {
            label: "香港特别行政区",
            value: 'shanghai',
        },
        {
            label: "澳门特别行政区",
            value: 'shanghai',
        }, 
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: funAreaCascader
});


//--------------------地表温度反演模块集合------------------------
var MOD09A1 = pie.ImageCollection("USGS/MOD09A1/006");
var MOD11A2 = pie.ImageCollection("USGS/MOD11A2/006");
var MOD13A1 = pie.ImageCollection("USGS/MOD13A1/006");

var selectdate = pie.Date("2019-08-01");
var endDate = selectdate.advance(-1, "month");

//LC08/01/T1数据去云操作
function landsat8cloud(image){
    var qa = image.select("BQA");
    var cloudMask = qa.bitwiseAnd(1<<4).eq(0);
    var rgbImage = image.select(['B2','B3','B4','B5','B6','B7','B8','B9','B10'])
                        .updateMask(cloudMask);
    return rgbImage;
}

//单通道算法L8地表温度反演
function LST30(image) {
  var ndvi = image
    .expression("(B5-B4)/(B5+B4)", {
      B4: image.select("B4"),
      B5: image.select("B5"),
    })
    .rename("NDVI");
  var normalNdvi = ndvi.subtract(-0.3).divide(pie.Number(0.81).subtract(-0.3));
  var fv = normalNdvi.power(2.0).rename("fv");
  var a = pie.Number(0.025); 
  var b = pie.Number(0.986);
  var EM = fv
    .multiply(a)
    .add(pie.Image(1).subtract(fv).multiply(0.02).add(pie.Image(b)))
    .rename("EMM");
  var thermal = image.select("B10").multiply(0.1);
  var EM_LOG = EM.log();
  var FenMU = thermal.divide(1.438).multiply(0.00115);
  var Fenmu2 = FenMU.multiply(EM_LOG).add(1.0);
  var LST = thermal.divide(Fenmu2).subtract(273.15).rename("LST");
  //var LST_mean = LST.reduceRegion(pie.Reducer.mean(), roi, 30).get("LST");
  //LST_mean = pie.Number(LST_mean);
  //print(LST_mean);
  return LST;
}

//大气校正L8地表温度反演
function LST302(image) { 
    var ndvi = image
      .expression("(B5-B4)/(B5+B4)", {
        B4: image.select("B4"),
        B5: image.select("B5"),
      })
      .rename("NDVI");      
    var pv = ((ndvi.gt(0.35)).multiply(1)).add((ndvi.lt(0.03)).multiply(0))
        .add(((ndvi.gte(0.03)).and((ndvi.lte(0.35)))).multiply((ndvi.subtract(0.03)).divide(0.32)));      
    var x = pv.multiply(0.004).add(0.986);  
    var thermal = image.select("B10").multiply(0.1);

    var a = pie.Number(1);
    var b = pie.Number(0.74);
    var c = pie.Number(774.89);
    var d = pie.Number(1321.08);   
    
    var zh = thermal.subtract(2.13).subtract(0.74).multiply(a.subtract(x)).multiply(3.45);
    var dt = zh.divide(b.multiply(x)); 
    var em = c.divide(dt).add(1);  
    var em_log = em.log();
    var LST = (d.divide(em_log)).subtract(273);
    print(LST)

    /*
    var normalNdvi = ndvi.subtract(-0.3).divide(pie.Number(0.81).subtract(-0.3));
    var fv = normalNdvi.power(2.0).rename("fv");
    var a = pie.Number(0.025); 
    var b = pie.Number(0.986);
    var EM = fv
      .multiply(a)
      .add(pie.Image(1).subtract(fv).multiply(0.02).add(pie.Image(b)))
      .rename("EMM");
    var thermal = image.select("B10").multiply(0.1);
    var EM_LOG = EM.log();
    var FenMU = thermal.divide(1.438).multiply(0.00115);
    var Fenmu2 = FenMU.multiply(EM_LOG).add(1.0);
    var LST = thermal.divide(Fenmu2).subtract(273.15).rename("LST");*/
    
    return LST;
}



function LSTDataset(value) {
    var endDate = pie.Date(selectdate).advance(4, "month");
    var l8Col = pie.ImageCollection("LC08/01/T1")
        .filterBounds(selectarea)
        .filterDate(selectdate, endDate)
        .map(landsat8cloud)
        .mean()
        .clip(selectarea);

    switch (value) { 
        case 'LSTM':
            print("1000m lst");
            var LST = MOD11A2.filterDate(selectdate, endDate)
                .filterBounds(selectarea)
                .select('LST_Day_1km')
                .mean()
                .clip(selectarea)
                .multiply(0.02)
                .subtract(273.15)
                .rename('lst');
            layerKey = Map.addLayer(LST,{ min: 0, max:40, palette: colors2 },"LST",true);
            addMapLegend("LST");       
            break;
        case 'LSTL':
            print('开始地表温度反演')
            var LSTL = LST30(l8Col);
            print('结束地表温度反演')
            layerKey1 = Map.addLayer(LSTL,{ min: 0, max:40, palette: colors2 },"LSTL",true);
            addMapLegend("LST");     
            break;
        case 'SEN':
            print('开始地表温度反演')
            var LSTL = LST30(l8Col);
            print('结束地表温度反演')
            layerKey1 = Map.addLayer(SEN,{ min: 0, max:40, palette: colors2 },"LSTL",true);
            addMapLegend("SEN");     
            break;
        case 'LSTJ':
            var image5 = pie.Image('user/15262924545/nantongrdzj/2020LST');
        layerKey = Map.addLayer(
            image5,
            { min: 25, max: 41,palette:colors2},
            "LSTJ",
            true
            );
        addMapLegend("LST"); 
             
            break;
        //////////////////////////测试以下------------------
        case 'LSTM2':
            print("1000m lst");
            var LST = MOD11A2.filterDate(selectdate, endDate)
                .filterBounds(selectarea)
                .select('LST_Day_1km')
                .mean()
                .clip(selectarea)
                .multiply(0.02)
                .subtract(273.15)
                .rename('lst');
            layerKey = Map.addLayer(LST,{ min: 0, max:40, palette: colors2 },"LST",true);
            addMapLegend("LST");       
            break;
        case 'LSTL2':
            print('开始地表温度反演')
            var LSTL2 = LST302(l8Col);
            print('结束地表温度反演')
            layerKey1 = Map.addLayer(LSTL2,{ min: 0, max:40, palette: colors2 },"LSTL2",true);
            addMapLegend("LST");     
            break;
            ////////////////测试以上----------------------
        case 'dbwd':
            //加载中国地表温度产品,选择时间和所需波段
        var images = pie.ImageCollection("CAAS/LSTC")
                        .filterDate("2015-03-01","2015-04-01") 
                        .select("B1")
                        .mean()
                        .clip(selectarea);  
        // 输出影像信息
        print(images)
        // 设置图层显示参数
        var visParam = {min: -20, max: 30,
        palette: [
                "#040274","#040281","#0502a3","#0502b8","#0502ce","#0502e6","#0602ff", "#235cb1", "#307ef3",
                "#269db1", "#30c8e2", "#32d3ef","#3be285", "#3ff38f", "#86e26f","#3ae237", "#b5e22e", "#d6e21f",
                 "#fff705","#ffd611","#ffb613", "#ff8b13","#ff6e08",  "#ff500d", "#ff0000", "#de0101","#c21301", 
                 "#a71001","#911003"
              ],

        };
        //加载显示数据
        Map.addLayer(images, visParam,"img")
        //图例
        var data = {title: "地表温度（以2015年3月为例）\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0\xa0℃",
                    colors: ["#040274","#040281","#0502a3","#0502b8","#0502ce","#0502e6","#0602ff", "#235cb1", "#307ef3",
                "#269db1", "#30c8e2", "#32d3ef","#3be285", "#3ff38f", "#86e26f","#3ae237", "#b5e22e", "#d6e21f",
                 "#fff705","#ffd611","#ffb613", "#ff8b13","#ff6e08",  "#ff500d", "#ff0000", "#de0101","#c21301", 
                 "#a71001","#911003"],
                    labels: ["-20","30"],
                    step: 30};
        var style = {right: "100px", bottom: "50px", height: "70px", width: "300px"};
        var legend = ui.Legend(data, style);
        Map.addUI(legend);
            break;          
        
        
        
        case 'CSRDQD':
            var chartLAIstyle = { right: "500px", top: "180px", height: "240px", width: "2000px", backgroundColor: "#FFFFFF" }
            var chartLAI = ui.Chart.array(CSRDQD).setOptions({ title: { name: '城市热岛强度(UHII)' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            chartLAI.setStyle(chartLAIstyle)
            Map.addUI(chartLAI);
            break; 
        case 'CSRDBJWD':
            var chartGPPstyle = { right: "500px", top: "505px", height: "240px", width: "900px", backgroundColor: "#FFFFFF" }        
            var chartGPP = ui.Chart.array(CSRDBJWD).setOptions({ title: { name: '城市热岛背景温度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            chartGPP.setStyle(chartGPPstyle)
            Map.addUI(chartGPP);
            break;  
    }
}

//城市热岛强度
var CSRDQD = {
    legend: ['城市热岛强度(UHII)'],
    xAxis: ['安庆市', '常州市', '池州市','滁州市','杭州市','合肥市','湖州市','嘉兴市','金华市','马鞍山市','南京市','南通市',
        '宁波市','上海市','绍兴市','苏州市','台州市','泰州市','铜陵市','无锡市','芜湖市','宣城市','盐城市','扬州市','镇江市','舟山市',],    yAxisName: '°C',
    series: [
        [4.3,3.5,4.3,0.9,4.5,2.8,1.4,2.8,1.9,1.1,1.8,2.3,4.2,2.3,3.8,2.9,4.4,2.1,2.1,3.2,3.0,1.0,2.8,1.0,0.8,0.6],    ],
    chartType: "line",
};
//城市热岛背景温度
var CSRDBJWD = {
    legend: ['热岛背景温度'],
    xAxis: ['合肥市','宁波市','绍兴市','泰州市','盐城市', '常州市', '杭州市','嘉兴市','南京市','南通市','上海市','苏州市','台州市','无锡市', '扬州市'
],    yAxisName: '°C',
    series: [
        [34.09,40.05,36.52,32.34,31.66,34.55,35.75,34.41,34.17,30.84,33.17,33.82,33.96,35.30,32.76],    ],
    chartType: "line",
};

function LSTCascader(value, selectData) {
    var index = parseInt(value.length);
    var dataset = selectData[index - 1].value;
    datasetvalue = dataset;
    LSTDataset(datasetvalue);
}

//地表温度反演选择
var LSTlabel = ui.Label("地表温度反演:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: '5px' ,width:'150px',left:'10px',fontSize:'20px'});
var LSTcascader = ui.Cascader({
    placeholder: "反演方法",
    content: [
        {
            label: "单通道算法",
            value: 'dantongdao',
            children: [
                { value: 'LSTM', label: 'MODIS数据反演（1000m）'},
                { value: 'LSTL', label: 'Landsat数据反演（30m）'},               
                { value: 'LSTJ', label: 'LST精度提升' },
            ]
        },
        {
            label: "大气校正法",
            value: 'daqi',
            children: [
                { value: 'LSTM2', label: 'MODIS数据反演（1000m）'},
                { value: 'LSTL2', label: 'Landsat数据反演（30m）'  },
                { value: 'LSTJ', label: 'LST精度提升' },
            ]
        },
        {
            label: "劈窗算法",
            value: 'pichuang',
            children: [
                { value: 'LSTM', label: 'MODIS数据反演（1000m）'},
                { value: 'LSTL', label: 'Landsat数据反演（30m）'  },
                { value: 'LSTJ', label: 'LST精度提升' },
            ]
        },
        {label:"地表温度",value:"dbwd"},
        {
            label: "图表参数",
            value:"tubiao",
            children: [
                { value: 'CSRDQD', label: '城市热岛强度'},
                { value: 'CSRDBJWD', label: '城市热岛背景温度'  },
            ]
        },
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: LSTCascader
});



//-----------------------热岛足迹提取集合----------------------
//UHI分级计算
//地表温度反演
function UHII(image,roi) {
  var ndvi = image
    .expression("(B5-B4)/(B5+B4)", {
      B4: image.select("B4"),
      B5: image.select("B5"),
    })
    .rename("NDVI");
  print(ndvi);
  var normalNdvi = ndvi.subtract(-0.3).divide(pie.Number(0.81).subtract(-0.3));
  var fv = normalNdvi.power(2.0).rename("fv");
  var a = pie.Number(0.025);
  var b = pie.Number(0.986);
  var EM = fv
    .multiply(a)
    .add(pie.Image(1).subtract(fv).multiply(0.02).add(pie.Image(b)))
    .rename("EMM");
  var thermal = image.select("B10").multiply(0.1);
  var EM_LOG = EM.log();
  var FenMU = thermal.divide(1.438).multiply(0.00115);
  var Fenmu2 = FenMU.multiply(EM_LOG).add(1.0);
  var LST = thermal.divide(Fenmu2).subtract(273.15).rename("LST");
  var LST_mean = LST.reduceRegion(pie.Reducer.mean(), roi, 30).get("LST");
  LST_mean = pie.Number(LST_mean);
  print(LST_mean);
  var Tr = LST.divide(LST_mean);
  var cot_Tr = Tr.where(Tr.lte(1.0),1)
                .where(Tr.gt(1.0).and(Tr.lte(1.1)),2)
                .where(Tr.gt(1.1).and(Tr.lte(1.2)),3)
                .where(Tr.gt(1.2),4);
  Map.addLayer(cot_Tr, { min: 1, max: 4, palette: ["0000FF", "0000FF", "FF0000", "FF0000"] }, "HUI");
  return Tr;
}


function RDDataset(value) {
    var endDate = pie.Date(selectdate).advance(4, "month");
    var l8Col = pie.ImageCollection("LC08/01/T1")
        .filterBounds(selectarea)
        .filterDate(selectdate, endDate)
        .map(landsat8cloud)
        .mean()
        .clip(selectarea);
    switch (value) {
        case 'UHII':
            var uhires = UHII(l8Col,selectarea);
            addMapLegend("UHII");
            break;

        case 'NEW':
        var roi = pie.FeatureCollection("user/15262924545/nantongrdzj/nantongnew");
            Map.addLayer(roi,{color:"FF0000",fillColor:"00000000",width:5},"热岛足迹");
        var fanwei = pie.FeatureCollection("user/15262924545/nantongrdzj/nantongland");
            Map.addLayer(fanwei,{color:"000000",fillColor:"00000000",width:1},"足迹范围")
        var image5 = pie.Image('user/15262924545/nantongrdzj/nantong_xuan');
        layerKey = Map.addLayer(
            image5,
            { min: 6, max: 31,palette: ['#3B4CC0','#6F91F2','#A9C5FC','#DDDDDD','#F6B69B',
            '#E6745B','#B40426']},
            "NEW",
            true
            );
        ;
        //图例
        var data = {
            title: "地表温度℃",
            colors: ['#3B4CC0','#6F91F2','#A9C5FC','#DDDDDD','#F6B69B','#E6745B','#B40426'],
            labels: ["6", "11", "16", "21", "26", "31","36"],
            step: 1
        };
        var style = {
            left: "70%",
            top: "80%",
            height: "70px",
            width: "350px"
        };
        var legend = ui.Legend(data, style);
        Map.addUI(legend);
            break;
        
        case 'OLD':
        var roi = pie.FeatureCollection("user/15262924545/nantongrdzj/nantongold");
            Map.addLayer(roi,{color:"FF0000",fillColor:"00000000",width:5},"热岛足迹");
        var image5 = pie.Image("user/15262924545/nantongrdzj/cfl1");
        layerKey = Map.addLayer(
            image5,
            { min: 1, max: 9,palette: ['#3B4CC0','#6F91F2','#A9C5FC','#DDDDDD','#F6B69B',
            '#E6745B','#B40426']},
            "NEW",
            true
            );
        ;
        //图例
        var data = {
            title: "地表温度℃",
            colors: ['#3B4CC0','#6F91F2','#A9C5FC','#DDDDDD','#F6B69B','#E6745B','#B40426'],
            labels: ["6", "11", "16", "21", "26", "31","36"],
            step: 1
        };
        var style = {
            left: "70%",
            top: "80%",
            height: "70px",
            width: "350px"
        };
        var legend = ui.Legend(data, style);
        Map.addUI(legend);            
            break;
    }
};

function RDCascader(value, selectData) {
    var index = parseInt(value.length);
    var dataset = selectData[index - 1].value;
    datasetvalue = dataset;
    RDDataset(datasetvalue);
}

//热岛足迹提取选择
var RDlabel = ui.Label("热岛足迹提取:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: '5px' ,width:'150px',left:'10px',fontSize:'20px'});
var RDcascader = ui.Cascader({
    placeholder: "提取方法",
    content: [
        { value: 'UHII', label: '温度等级法（UHII）' },
        { value: 'OLD', label: '指数衰减法' },
        { value: 'NEW', label: '旋转扫描法' },
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: RDCascader
});


//----------------------蓝绿空间分析模块集合----------------------
//新加功能
//归一化燃烧指数BSI计算
function NBR(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var b6 = image.select("B6");
    var nbrimage = (b5.subtract(b6)).divide(b5.add(b6)).rename("NBR");
    return nbrimage;
}

//比例植被指数RVI计算
function RVI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b4 = image.select("B4");
    var b5 = image.select("B5");
    var rviimage = (b5.divide(b4)).rename("RVI");
    return rviimage;
}

//土壤调节植被指数SAVI计算
function SAVI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b4 = image.select("B4");
    var b5 = image.select("B5");
    var saviimage = (b5.subtract(b4).divide(b5.add(b4).add(0.5)).multiply(1.5)).rename("SAVI");
    return saviimage;
}

//地表水分含量指数LSWI计算
function LSWI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var b6 = image.select("B6");
    var lswiimage = (b5.subtract(b6).divide(b5.add(b6))).rename("LSWI");
    return lswiimage;
}

//差异环境植被指数DVI计算
function DVI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b4 = image.select("B4");
    var b5 = image.select("B5");
    var dviimage = (b5.subtract(b4)).rename("DVI");
    return dviimage;
}

//归一化建筑指数NDBI计算
function NDBI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var b6 = image.select("B6");
    var ndbiimage = (b6.subtract(b5)).divide(b6.add(b5)).rename("NDBI");
    return ndbiimage;
}

//归一化积雪指数NDSI计算
function NDSI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b3 = image.select("B3");
    var b6 = image.select("B6");
    var ndsiimage = (b3.subtract(b6)).divide(b3.add(b6)).rename("NDSI");
    return ndsiimage;
}

//裸土指数BSI计算
function BSI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b2 = image.select("B2");
    var b4 = image.select("B4");
    var b5 = image.select("B5");
    var b6 = image.select("B6");
    var bsiimage = (b6.add(b4).subtract(b5.add(b2)).divide(b6.add(b4).add(b5.add(b2)))).rename("BSI");
    return bsiimage;
}

//大气阻抗植被指数ARVI计算
function ARVI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b2 = image.select("B2");
    var b4 = image.select("B4");
    var b5 = image.select("B5");
    var a = (b5.subtract((b4).multiply(2).subtract(b2)));
    var b = (b5.add((b4).multiply(2)).subtract(b2));
    var arviimage = a.divide(b).rename("ARVI");
    return arviimage;
}

//绿光归一化差值植被指数GNDVI计算
function GNDVI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b3 = image.select("B3");
    var b5 = image.select("B5");
    var gndviimage =(b5.subtract(b3)).divide(b5.add(b3)).rename("GNDVI");
    return gndviimage;
}

//混合水体指数CIWI计算
function CIWI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var ciwiimage =(b5).rename("CIWI");
    return ciwiimage;
}

//混合水体指数CIWI计算
function EBSI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b2 = image.select("B2");
    var b3 = imageCollection.select("B3");
    var b4 = image.select("B4");
    var b5 = image.select("B5");
    var b6 = image.select("B6");
    var bsiimage = (b6.add(b4).subtract(b5.add(b2)).divide(b6.add(b4).add(b5.add(b2))));
    //计算MNDWI
    var mndwiimage = (b3.subtract(b6)).divide(b3.add(b6));
    var ebsiimage =(bsiimage.subtract(mndwiimage)).divide(bsiimage.add(mndwiimage)).clip(roi).rename("EBSI");
    return ebsiimage;
}

//浑浊水体指数TWI计算
function TWI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6","B7","B8","B9","B10","B11","B12"])
        .median()
        .clip(roi);
    var b4 = image.select("B4");
    var b6 = image.select("B6");
    var twiimage =(b4.subtract(b6)).rename("TWI");
    return twiimage;
}


















//-------------------------------------------------------------------------------------------------------------
//NDVI计算
function NDVI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var b4 = image.select("B4");
    var ndviimage = (b5.subtract(b4)).divide(b5.add(b4)).rename("NDVI");
    return ndviimage;
}

//Fvc植被覆盖度计算
function FVC(image,roi){
    var b4 = image.select("B4")//定义红波段;
    var b5 = image.select("B5")//定义近红外波段;
    var  Ndvi = (b5.subtract(b4)).divide(b4.add(b5)).rename('ndvi');//ndvi计算，ndwi=(b5-b4)/(b5+b3)
        print(Ndvi);
    //var ndvi_per = ndvi.reduceRegion(pie.Reducer.percentile([2, 98]), roi,30).get("ndvi");
    //var ndvi_min = pie.Number(pie.Dictionary(ndvi_per).get("p2"));
    //var ndvi_max = pie.Number(pie.Dictionary(ndvi_per).get("p98"));
    //var fvc = (ndvi.subtract(ndvi_min)).divide(ndvi_max.subtract(ndvi_min));
    var ndvi_max = Ndvi.reduceRegion(pie.Reducer.max(), roi, 1000).get("ndvi");
        ndvi_max = pie.Number(ndvi_max);
        print(ndvi_max);
    var ndvi_min = Ndvi.reduceRegion(pie.Reducer.min(), roi, 1000).get("ndvi");
        ndvi_min = pie.Number(ndvi_min);
    var res = (Ndvi.subtract(ndvi_min)).divide(ndvi_max.subtract(ndvi_min));
        print(res);
    return res;
}

//EVI计算
function EVI(roi){
    var imageCollection = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
        .median()
        .clip(roi);
    //计算EVI
    var nir = imageCollection.select("B5").divide(10000);
    var red = imageCollection.select("B4").divide(10000);
    var blue = imageCollection.select("B2").divide(10000);
    var esvimage = ((nir.subtract(red)).multiply(2.5)).divide(nir.add(red.multiply(6)).subtract(blue.multiply(7.5)).add(1)).rename("EVI");
    return esvimage;
}

//NDWI计算
function NDWI(roi){
    var imageCollection = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
        .median()
        .clip(roi);
    //计算NDWI
    var b3 = imageCollection.select("B3");
    var b5 = imageCollection.select("B5");
    var ndwiimage = (b3.subtract(b5)).divide(b3.add(b5)).rename("NDWI");
    return ndwiimage;
}

//MNDWI计算
function MNDWI(roi){
    var imageCollection = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
        .median()
        .clip(roi);
    //计算MNDWI
    var b3 = imageCollection.select("B3");
    var b6 = imageCollection.select("B6");
    mndwiimage = (b3.subtract(b6)).divide(b3.add(b6)).rename("MNDWI");
    return mndwiimage;
}


//VSWI计算
function VSWI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var b4 = image.select("B4");
    var ndvi = (b5.subtract(b4)).divide(b5.add(b4)).rename("NDVI");
    print(ndvi);
    var vswiimage = ndvi.divide(LST)
    return vswiimage;
}

//MBDI计算
function MBDI(roi){
    var image = pie.ImageCollection("LC09/02/T1")
        .filterBounds(roi)
        .filter(pie.Filter.lte("cloud_cover", 30))
        .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
        .median()
        .clip(roi);
    var b5 = image.select("B5");
    var b4 = image.select("B4");
    var ndviimage = (b5.subtract(b4)).divide(b5.add(b4)).rename("NDVI");
    var LST = MOD11A2.filterDate(startdate, enddate)
            .filterBounds(js)
            .select('LST_Day_1km')
            .mean()
            .clip(js)
            .multiply(0.02)
            .subtract(273.15)
            .rename('lst')
            .updateMask(WaterMask);
        var lst_max = LST.reduceRegion(pie.Reducer.max(), js, 2000).get('lst');
            lst_max = pie.Number(lst_max);
        //print(lst_max)
        var lst_min = LST.reduceRegion(pie.Reducer.min(), js, 2000).get('lst');
            lst_min = pie.Number(lst_min);
        //print(lst_min)
        var finallst = (LST.subtract(lst_min)).divide(lst_max.subtract(lst_min));
    var mbdiimage = ndviimage.divide(finallst);
    return mbdiimage;
}



//地表反射率计算
function Albedo(image){
    var b2 = image.select('B2');
    var b4 = image.select('B4');
    var b5 = image.select('B5');
    var b6 = image.select('B6');
    var b7 = image.select('B7');
    var albedo = (b2.multiply(0.356)).add(b4.multiply(0.130)).add(b5.multiply(0.373))
    .add(b6.multiply(0.085)).add(b7.multiply(0.072)).subtract(0.0018);
    print(albedo);
    return albedo;
}
//水体面积
function shuiti(image,roi){
    var b3 = image.select("B3");
    var b5 = image.select("B5");
    var NDWI = (b3.subtract(b5)).divide(b3.add(b5));//计算NDWI
    NDWI = NDWI.updateMask(NDWI.gt(0));
    //按影像定位地图中心
    Map.centerObject(roi, 8);
    //加载显示计算结果
    Map.addLayer(NDWI,{min:-0.5,max:0.5,
    palette: ["#ffffff", "#f0f8ff", "#add8e6", "#87ceeb", "#6495ed", 
    "#4169e1", "#0000ff", "#0000cd", "#000080"]},"ImageLayer");//由红到绿
    //添加设置图例
    var data = {
      title: "NDWI",
      colors: [
       "#ffffff",
       "#f0f8ff", 
       "#add8e6", 
       "#87ceeb", 
       "#6495ed", 
       "#4169e1", 
       "#0000ff", 
       "#0000cd", 
       "#000080"
      ],
      labels: ["-0.5","0.5"],
      step: 30,
    };
    var style = {
      right: "150px",
      bottom: "10px",
      height: "70px",
      width: "350px",
    };
    var legend1 = ui.Legend(data,style);
    Map.addUI(legend1);

    var areaImage = NDWI.pixelArea().multiply(NDWI.gt(0));
    var water = areaImage.reduceRegion(pie.Reducer.sum(), roi, 30); 
    print("water area is: ", water);
    // var areaImage = NDWI.where(NDWI.gt(0),1);
    // var waterarea = areaImage.reduceRegion(pie.Reducer.sum(), roi, 30);
    // print( "水域面积", waterarea);
    
    return areaImage;
}

function cacluateZB(roi, startDate, tag) {
    //影像集合
    selectyear = startDate.get('year');
    var endDate = pie.Date(startDate).advance(4, "month");
    //print('结束时间',endDate);
  
    var l5Col = pie.ImageCollection("LT05/02/SR")
        .filterBounds(roi)
        .filterDate(startDate, endDate)
        .filter(pie.Filter.lte('cloud_cover', 5))
        .mean()
        .clip(roi);
    var l8Col = pie
        .ImageCollection("LC08/01/T1")
        .filterBounds(roi)
        .filterDate(startDate, endDate)
        .map(landsat8cloud)
        .mean()
        .clip(roi);


//------------------------case------·---------------------
  switch (tag) {
//------------------------------------------------------------------------------
    case 'NBR':
        var NBRimage = NBR(selectarea);
            layerKey = Map.addLayer(
            NBRimage,
            {   min: 0,
                max: 0.8,
                palette: 'CA7A41, CE7E45, DF923D, F1B555, FCD163, 99B718, ' +
                    '74A901, 66A000, 529400,3E8601, 207401, 056201, 004C00,' +
                    '023B01, 012E01, 011D01, 011301' },
            "NBR",
            true
          );
            addMapLegend("NBR");
            break;
    case 'RVI':
        var RVIimage = RVI(selectarea);
            layerKey = Map.addLayer(
            RVIimage,
            {   min: 0.8,
                max: 1.8,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "RVI",
            true
          );
            addMapLegend("RVI");
            break;
    case 'SAVI':
        var SAVIimage = SAVI(selectarea);
            layerKey = Map.addLayer(
            SAVIimage,
            {   min: -0.3,
                max: 0.3,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "SAVI",
            true
          );
            addMapLegend("SAVI");
            break;
    case 'LSWI':
        var LSWIimage = LSWI(selectarea);
            layerKey = Map.addLayer(
            LSWIimage,
            {   min: -0.2,
                max: 0.8,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "LSWI",
            true
          );
            addMapLegend("LSWI");
            break;
    case 'DVI':
        var DVIimage = DVI(selectarea);
            layerKey = Map.addLayer(
            DVIimage,
            {   min: -0.2,
                max: 0.8,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "DVI",
            true
          );
            addMapLegend("DVI");
            break;
    case 'NDBI':
        var NDBIimage = NDBI(selectarea);
            layerKey = Map.addLayer(
            NDBIimage,
            {   min: -0.5,
                max: 0.5,
                palette: ' FFFFF0, 00FF00, 0000FF,'},
            "NDBI",
            true
          );
            addMapLegend("NDBI");
            break;
    case 'NDSI':
        var NDSIimage = NDSI(selectarea);
            layerKey = Map.addLayer(
            NDSIimage,
            {   min: -0.2,
                max: 0.8,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "NDSI",
            true
          );
            addMapLegend("NDSI");
            break; 

    case 'BSI':
        var BSIimage = BSI(selectarea);
            layerKey = Map.addLayer(
            BSIimage,
            {   min: -1,
                max: 1,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "BSI",
            true
          );
            addMapLegend("BSI");
            break; 

    case 'ARVI':
        var ARVIimage = ARVI(selectarea);
            layerKey = Map.addLayer(
            ARVIimage,
            {   min: 0.2,
                max: 0.8,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "ARVI",
            true
          );
            addMapLegend("ARVI");
            break; 

    case 'GNDVI':
        var GNDVIimage = GNDVI(selectarea);
            layerKey = Map.addLayer(
            GNDVIimage,
            {   min: 0.2,
                max: 0.8,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "GNDVI",
            true
          );
            addMapLegend("GNDVI");
            break; 

    case 'CIWI':
        var CIWIimage = CIWI(selectarea);
            layerKey = Map.addLayer(
            CIWIimage,
            {   min: 0,
                max: 3000,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "CIWI",
            true
          );
            addMapLegend("CIWI");
            break; 

    case 'TWI':
        var TWIimage = TWI(selectarea);
            layerKey = Map.addLayer(
            TWIimage,
            {   min: 10,
                max: 100,
                palette: [ '0000FF', 'FF0000']},
            "TWI",
            true
          );
            addMapLegend("TWI");
            break; 

    case 'EBSI':
        var EBSIimage = EBSI(selectarea);
            layerKey = Map.addLayer(
            EBSIimage,
            {   min: -1,
                max: 1,
                palette: ['FFFFFF', 'CE7E45', 'DF923D', 'F1B555', 'FCD163', '99B718', '74A901',
    '66A000', '529400', '3E8601', '207401', '056201', '004C00', '023B01',
    '012E01', '011D01', '011301']},
            "EBSI",
            true
          );
            addMapLegend("EBSI");
            break; 







    //计算归一化植被指数
    case 'NDVI':
        var NDVIimage = NDVI(selectarea);
            layerKey = Map.addLayer(
            NDVIimage,
            {   min: -0.2,
                max: 0.8,
                palette: 'CA7A41, CE7E45, DF923D, F1B555, FCD163, 99B718, ' +
                    '74A901, 66A000, 529400,3E8601, 207401, 056201, 004C00,' +
                    '023B01, 012E01, 011D01, 011301' },
            "NDVI",
            true
          );
            addMapLegend("NDVI");
            break;
    case "FVC":
        print('开始',selectyear);
        if(pie.Number(selectyear)>pie.Number(2012)){
            var imgFVC = FVC(l8Col, roi);
            //print('计算完成');
            layerKey = Map.addLayer(
                imgFVC,
                { min: 0, max: 0.9, palette: 'FFFFFF,CE7E45, DF923D, F1B555, FCD163, 99B718, 74A901,'+
                           '66A000, 529400, 3E8601, 207401, 056201, 004C00, 023B01,'+
                           '012E01, 011D01, 011301' },
                "FVC",
                true
            );         
            addMapLegend("FVC");
            print('l8');
        }
        else{
            var imgFVC = l5FVC(l5Col, roi);//加入l5
            layerKey = Map.addLayer(
                imgFVC,
                { min: 0, max: 0.9, palette: colors2 },
                "FVC",
                true
            );
            print('l5'); 
            addMapLegend("FVC");
        }
        break;

    case 'EVI':
        var EVIimage = EVI(selectarea);
            layerKey = Map.addLayer(
            EVIimage,
            {   min: -0.2,
                max: 0.8,
                palette: 'CA7A41, CE7E45, DF923D, F1B555, FCD163, 99B718, ' +
                    '74A901, 66A000, 529400,3E8601, 207401, 056201, 004C00,' +
                    '023B01, 012E01, 011D01, 011301' },
            "EVI",
            true
          );
            addMapLegend("EVI");
            break;

    case 'NDWI':
        var NDWIimage = NDWI(selectarea);
            layerKey = Map.addLayer(
            NDWIimage,
            {   min: -1,
                max: 0.3,
                palette: 'CA7A41, CE7E45, DF923D, F1B555, FCD163, 99B718, ' +
                    '74A901, 66A000, 529400,3E8601, 207401, 056201, 004C00,' +
                    '023B01, 012E01, 011D01, 011301' },
            "NDWI",
            true
          );
            addMapLegend("NDWI");
            break;

    case 'MNDWI':
        var MNDWIimage = MNDWI(selectarea);
            layerKey = Map.addLayer(
            MNDWIimage,
            {   min: -1,
                max: 0.3,
                palette: 'CA7A41, CE7E45, DF923D, F1B555, FCD163, 99B718, ' +
                    '74A901, 66A000, 529400,3E8601, 207401, 056201, 004C00,' +
                    '023B01, 012E01, 011D01, 011301' },
            "MNDWI",
            true
          );
            addMapLegend("MNDWI");
            break;


    case 'VSWI':
        var VSWIimage = VSWI(selectarea);
            layerKey = Map.addLayer(
            VSWIimage,
            {   min: -0.2,
                max: 0.8,
                palette: ['#331418','#682325','#973b1c','#b66413','#cb921a','#dac62f','#e1fd4b'] },
            "VSWI",
            true
          );
            addMapLegend("VSWI");
            break;
    case 'MBDI':
        var MBDIimage = NDWI(selectarea);
            layerKey = Map.addLayer(
            MBDIimage,
            {   min: -1,
                max: 0.3,
                palette: ['#040613','#292851','#3f4b96','#427bb7','#61a8c7','#9cd4da','#eafdfd']},
            "MBDI",
            true
          );``
            addMapLegend("MBDI");
            break;
    case 'NDDI':
        var NDDIimage = NDVI(selectarea);
            layerKey = Map.addLayer(
            NDDIimage,
            {   min: -1,
                max: 0.3,
                palette: ['#2a186c','#14439c','#206e8b','#3c9387','#5ab978','#aad85c','#fdef9a']},
            "NDDI",
            true
          );
            addMapLegend("NDDI");
            break;
    case "Albedo":
      var ALmap = Albedo(l8Col);
      var viseImap = { min: 0, max: 1000, palette:["blue","green"] };
      layerKey = Map.addLayer(ALmap, viseImap, "Albedo", true);      
      addMapLegend("Albedo");
      break;
    case 'Water':
        var shuitiimg = shuiti(l8Col,roi);    
        Map.addLayer(shuitiimg,{min: 0,max: 1,palette: ['ffffcc', 'a1dab4', '41b6c4', '225ea8']},"ImageLayer");
        break;
  }
}


//计算指标切换
var pointlayer = null;
var IndexTag = 'FVC';
function LVKJ(value, selectData) {
    var index = parseInt(value.length);
    IndexTag = value[index - 1];
    print("选择的指标为:", IndexTag);
    print("选择的时间为：",selectdate);
    print("选择的地区为为：",selectarea);
    if (pointlayer != null) {
        Map.removeLayer(pointlayer);
        print("pointlayer", pointlayer);
    } //清空现有层
    cacluateZB(selectarea,selectdate,IndexTag);
}

//蓝绿空间
var LVKJlabel = ui.Label("蓝绿空间分析:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: "5px",width:'150px',left:'10px',fontSize:'20px'});
var LVKJcascader = ui.Cascader({
    placeholder: "蓝绿空间指数",
    content: [
        {
            label:"水体指数",
            value:"1",
            children:[
                { value: 'NDWI', label: '归一化水体指数（NDWI）'},
                { value: 'MNDWI', label: '水体提取指数（MNDWI）'},
                { value: 'CIWI', label: '混合水体指数（CIWI）' },
                { value: 'TWI', label: '浑浊水体指数（TWI）' }, 
                { value: 'Water', label: '水体面积（Area）' },
            ]
        },           
        {
            label:"植被指数",
            value:"2",
            children:[
                { value: 'NDVI', label: '归一化植被指数（NDVI）'},
                { value: 'FVC', label: '植被覆盖度（FVC）'},
                { value: 'EVI', label: '增强型植被指数（EVI）'},
                { value: 'RVI', label: '比例植被指数（RVI）' }, 
                { value: 'SAVI', label: '土壤调节植被指数（SAVI）' },
                { value: 'GNDVI', label: '绿光归一化植被指数（GNDVI）' },
                { value: 'MBDI', label: '冠层温度植被指数（MBDI）' },
                { value: 'ARVI', label: '大气阻抗植被指数（ARVI）' },
                { value: 'DVI', label: '差异环境植被指数（DVI）' },
            ]
        },

/*        {
            label:"其它",
            children:[
        { value: 'Albedo', label: '地表反照率（Albedo）' },
        { value: 'NBR', label: '归一化燃烧指数（NBR）' },

        { value: 'NDBI', label: '归一化建筑指数（NDBI）' }, 
        { value: 'NDSI', label: '归一化积雪指数（NDSI）' },    
        { value: 'BSI', label: '裸土指数（BSI）' },
            ]
        },
//        { value: 'VSWI', label: '遥感植被供水指数（VSWI）' },
//        { value: 'VCI', label: '植被指数（VCI）' },
//        { value: 'TCI', label: '冠层温度（TCI）' },
//        { value: 'NDDI', label: '归一化差异干旱指数（NDDI）' },             
/*      { value: 'LSWI', label: '地表水分含量指数（LSWI）' }, 
        { value: 'NWI', label: '新型水体指数（NWI）' }, 
        { value: 'NDBBI', label: '归一化差值裸地与建筑用地指数（NDBBI）' }, 
        { value: 'IBI', label: '城市建筑指数（IBI）' },    
        { value: 'EBSI', label: '增强型裸土指数（EBSI）' },
        { value: 'EIBI', label: '增强的指数型建筑用地指数（EIBI）' },
        { value: 'NDISI', label: '归一化不透水面指数（NDISI）' },*/
                                
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: LVKJ
});



//---------------热岛影响因素模块集合-------------------------


//DEM数据
//坡向计算
function aspect(roi){
var image = pie.ImageCollection("DEM/ASTGTM_003")
                .filterBounds(roi)
                .select("dem")
                .mosaic()
                .clip(roi);
var imageAspect = pie.Terrain.aspect(image);   
var image_out2 = pie.Image(255).subtract(imageAspect).abs();  
//Map.addLayer(image_out2, visParam, "坡向");    
return image_out2;
}
//坡度计算
function slope(roi){
var image = pie.ImageCollection("DEM/ASTGTM_003")
                .filterBounds(roi)
                .select("dem")
                .mosaic()
                .clip(roi);
var imageSlope = pie.Terrain.slope(image).multiply(180 / 3.1415926);  
//Map.addLayer(imageSlope, { color: "ffff00ff", fillColor: "00000000" }, "坡度"); 
return imageSlope;
}
//粗糙度计算
function cucaodu(roi){
var image = pie.ImageCollection("DEM/ASTGTM_003")
                .filterBounds(roi)
                .select("dem")
                .mosaic()
                .clip(roi);
var imageSlope = pie.Terrain.slope(image).multiply(180 / 3.1415926);  
var num1 = pie.Image(1);   
var imagecucaodu = num1.divide((imageSlope).cos());  
return imagecucaodu;
}

var chengshi = ['安\n庆\n市','常\n州\n市','池\n州\n市','滁\n州\n市','杭\n州\n市', '合\n肥\n市', '湖\n州\n市','嘉\n兴\n市','金\n华\n市','马\n鞍\n山\n市','南\n京\n市','南\n通\n市','宁\n波\n市','上\n海\n市', '绍\n兴\n市', '苏\n州\n市', '台\n州\n市', '泰\n州\n市', '铜\n陵\n市'
, '无\n锡\n市', '芜\n湖\n市', '宣\n城\n市', '盐\n城\n市', '扬\n州\n市', '镇\n江\n市','舟\n山\n市'];


//引用数据集
var MBData = {
//社会面板数据集
    //人口密度 (人/平方公里)
    RKMD: {
        year2000: [391,781,185.8,314.2,375,603,780,846,409,706,826,981,578,2537,521,681,581,866,620,908,659,223,531,679,694,683],
        year2005: [393,804,189,324.4,397.96,648,810,854,415.95,745,905.2,963.45,594.45,2981,527,715,594.89,866.05,649,946,683.99,221.99,471,688,696,671.74],
        year2010: [383,825.25,194,333.36,524,701.5,862,873,426.51,564,960,954,585,3632,530.15,751,620,872.04,665,1008,691.89,225.89,481,697,704,672.01],
        year2015: [388,1075,192.4,332.2,436.25,627.35,453,893,437,564,1250,692,598,3809,535.09,770,635,802,615,1039,638.9,227.4,427,700,827,666.67],
        year2020: [308,1205,162,297,719,814,580,1379,646,532,1414,965,1017,3923,638,1552,703,779,416,1612,608,203,395,690,824,799]
    },
    //人均GPD（元）
    RJGDP: {
        year2000: [4210,17635,3915,6060,22342,7481,13445,15845,11436,10640,19838,9176,21208,30307,16586,26692,11257,8340,11013,27109,9224,5846,6664,10515,15887,12353],
        year2005: [7331.26,32116,8462,7942,44871,79512,25030,34668,27062,30001.3,36112,20138,44156,49377,33336,55667,22438,18309,24427,51034,18065.19,9572.34,13529,21911,29880,29152],
        year2010: [18647,67327,21476,17693.4,69828,54796,45323,52143,51758,60712.36,65273,48083,69368,76074,63889,93043,41777,44118,64496,92166,49013,20779,30741,50401,64281,66581],
        year2015: [31101,112221,38014,32634,139653,73102,79024,100852,77644,60802,118171,84236,136773,103141,100796,136702,59499,79479,97471,130938,67592,37610,58299,89647,110351,112172],
        year2020: [59243.7,147880.8,64708,76047.7,134936.3,107212.6,95064.7,102011.1,66716,101250,159081.3,129892.8,131947,155605.9,113849.3,158221,79462.4,117726.6,76519,165777.4,102980.4,64297.4,88729.5,132644.6,131450.5,130601.1]
    },
    //公路里程
    GLLC: {
        year2000: [2766,1384,2638,4404,6339,5077,2240.2,1511,6049,386,3017,2369,5103,5970,3893,1925,3766,1446,627,1475,584,2450,3269,2204,1548,961],
        year2005: [11036,5444,3775,5732,11644.14,6566,3044.86,2837,7442,1124,8330,8986,5824,8110,7603,6993,3766,4748,692,4297,3175,4772,7767,5479,3192,952],
        year2010: [14956,8348,6828,14538,14399.39,8512,7143.51,7357,11512.04,2223,10749,17474,10197,16687,8749,12296,11005,8696,1555,7628,4809,11956,18415,10231,6936,1597.4],
        year2015: [17105,9010,8519,16635,16210,18860,7666,8088,12431,7008,11303,18255,11183,13195,9959,12692,12480,9538,1584,7659,10898,11619,19525,10530,7333,1925],
        year2020: [19613,8715,9168,18396.12,16919,19037,8139,8276,13215,7378,9793,17409,11433,12916.6,10381,11742,13239,9980,4648,7983,10933,15347,21920,9632,6890,1929]
    },
    //第三产业占比
    DSCYZB: {
        year2000: [31.9,36.4,38.75,32.1,41.2,40,32.7,34.4,35.3,36,46.2,32,36.22,52,30.9,37.6,33.6,34,37.6,37.4,36.3,38.1,45.3,33.47,35.5,43.7],
        year2005: [34.56,34.6,42.64,35.5,44.1,49.02,35.4,33.91,40.9,31.9,46.9,33.1,39.77,51.5,33.6,33,39.22,33.5,35.63,37.81,32.84,34.77,33.3,34.76,35.1,46],
        year2010: [31.72,41.4,38.19,29.5,48.69,41.17,37.07,36.24,43.7,27.8,51.9,37.2,40.63,57,38.6,41.4,41.69,37.6,25.19,42.8,30.38,35.98,37,37.24,39.5,48],
        year2015: [36.53,49.5,40.91,29.81,58.24,42.75,44.87,43.44,50.4,37.5,57.3,45.8,45.24,67.3,45.1,49.9,49.42,45,33.07,49.1,37.92,38.79,42.1,43.9,46.9,54],
        year2020: [47.04,51.6,45.8,42.3,68.1,61.1,46,45.8,58.1,47.7,62.8,47.9,51.4,73.1,51.2,52.5,50.7,46.4,49,52.5,48.1,42.7,48.9,48.9,49.3,50.9]
    },//建成区面积
    JCQMJ: {
        year2000: [],
        year2005: [],
        year2010: [],
        year2015: [],
        year2020: []
    },//新增固定资产
    XZGDZC: {
        year2000: [],
        year2005: [],
        year2010: [],
        year2015: [],
        year2020: []
    },
//生态服务因子数据集
    //供给服务 (元/公顷)
    GJFW: {
        "南京市":{BAU:{xiu: [653047638.5,134832757.3,64023276.99,1589830458],xie: [653047638.5,134832757.3,64023276.99,1589830458]},
                BEE:{xiu: [647794006.4,136606617.9,66129931.48,1595371709],xie: [647794006.4,136606617.9,66129931.48,1595371709]},
                ELP:{xiu: [669448877.3,144208031.1,57323460.24,1611169967],xie: [669448877.3,144208031.1,57323460.24,1611169967]},
                RED:{xiu: [660206060,114436718.1,65946720.78,1539556889],xie: [660206060,114436718.1,65946720.78,1539556889]},
        },
        "无锡市":{BAU:{xiu: [325753290.3,148869599.2,7393438.523,2024253150],xie: [325753290.3,148869599.2,7393438.523,2024253150]},
                BEE:{xiu: [311438989,150988673.4,6254147.309,2023941929],xie: [311438989,150988673.4,6254147.309,2023941929]},
                ELP:{xiu: [333902512.9,150582237.7,6526814.27,2027278066],xie: [333902512.9,150582237.7,6526814.27,2027278066]},
                RED:{xiu: [310672696,156088275.6,6262475.069,2010622052],xie: [310672696,156088275.6,6262475.069,2010622052]},
        },
        "苏州市":{BAU:{xiu: [476445708.2,61901453.66,7053343.574,6265348286],xie: [476445708.2,61901453.66,7053343.574,6265348286]},
                BEE:{xiu: [459268574.9,63263743.82,6001359.516,6267234588],xie: [459268574.9,63263743.82,6001359.516,6267234588]},
                ELP:{xiu: [504620211.4,61826407.24,5931513.792,6271984503],xie: [504620211.4,61826407.24,5931513.792,6271984503]},
                RED:{xiu: [459448463.8,66321293.29,5989539.47,6248887734],xie: [459448463.8,66321293.29,5989539.47,6248887734]},
        },
        "常州市":{BAU:{xiu: [430207335.1,77156022.59,12853493.68,1046438684],xie: [430207335.1,77156022.59,12853493.68,1046438684]},
                BEE:{xiu: [419937710.6,82452325.5,11598688.38,1045372183],xie: [419937710.6,82452325.5,11598688.38,1045372183]},
                ELP:{xiu: [439544615.3,80534691.77,10964704.12,1055088350],xie: [439544615.3,80534691.77,10964704.12,1055088350]},
                RED:{xiu: [418998871.1,92227715.22,11623671.66,1010287715],xie: [418998871.1,92227715.22,11623671.66,1010287715]},
        },
        "南通市":{BAU:{xiu: [1050665143,1539241.736,11414671.76,2399232642],xie: [1050665143,1539241.736,11414671.76,2399232642]},
                BEE:{xiu: [990001061.9,1518307.733,8769399.286,2423995582],xie: [990001061.9,1518307.733,8769399.286,2423995582]},
                ELP:{xiu: [1080950306,1533317.018,8758385.152,2424559195],xie: [1080950306,1533317.018,8758385.152,2424559195]},
                RED:{xiu: [990233336.1,1545166.454,8765369.725,2420811260],xie: [990233336.1,1545166.454,8765369.725,2420811260]},
        },
        "盐城市":{BAU:{xiu: [2041216321,4042237.601,32567180.64,3927600758],xie: [2041216321,4042237.601,32567180.64,3927600758]},
                BEE:{xiu: [2026683583,5297882.836,28224657.07,3984174653],xie: [2026683583,5297882.836,28224657.07,3984174653]},
                ELP:{xiu: [2063612633,3623557.529,28070727.84,4016467622],xie: [2063612633,3623557.529,28070727.84,4016467622]},
                RED:{xiu: [2020151525,48372557.6,28201822.89,3863392461],xie: [2020151525,48372557.6,28201822.89,3863392461]},
        },
        "扬州市":{BAU:{xiu: [745506593.6,989427.906,18170365.1,2005412897],xie: [745506593.6,989427.906,18170365.1,2005412897]},
                BEE:{xiu: [726978457.7,1390333.824,18315160.66,2052830444],xie: [726978457.7,1390333.824,18315160.66,2052830444]},
                ELP:{xiu: [751952236.9,1512383.015,16440877.52,2085284716],xie: [751952236.9,1512383.015,16440877.52,2085284716]},
                RED:{xiu: [736150251.4,1407318.016,18285073.27,1929480679],xie: [736150251.4,1407318.016,18285073.27,1929480679]},
        },
        "镇江市":{BAU:{xiu: [416950763.7,59037050,24735863.15,597709316.8],xie: [416950763.7,59037050,24735863.15,597709316.8]},
                BEE:{xiu: [410298827,65025359.97,23105234.14,588008332.1],xie: [410298827,65025359.97,23105234.14,588008332.1]},
                ELP:{xiu: [427454215.5,65506447.08,21204087.26,589611879.1],xie: [427454215.5,65506447.08,21204087.26,589611879.1]},
                RED:{xiu: [411860500.1,61521876.73,23362588.77,582271619.2],xie: [411860500.1,61521876.73,23362588.77,582271619.2]},
        },
        "泰州市":{BAU:{xiu: [633813643.3,136268.514,5451190.121,1479844216],xie: [633813643.3,136268.514,5451190.121,1479844216]},
                BEE:{xiu: [611047668.8,195515.694,4754613.343,1566318095],xie: [611047668.8,195515.694,4754613.343,1566318095]},
                ELP:{xiu: [638515183,220004.5284,4638024.711,1614136054],xie: [638515183,220004.5284,4638024.711,1614136054]},
                RED:{xiu: [623763726.2,186431.1264,4747628.77,1393812499],xie: [623763726.2,186431.1264,4747628.77,1393812499]},
        },
        "淮安市":{BAU:{xiu: [1212779237,41078834.76,30565832.01,3316106630],xie: [1212779237,41078834.76,30565832.01,3316106630]},
                BEE:{xiu: [1190945889,46767748.99,41164920.63,3353546131],xie: [1190945889,46767748.99,41164920.63,3353546131]},
                ELP:{xiu: [1217203884,44313730.79,26849770.86,3391628948],xie: [1217203884,44313730.79,26849770.86,3391628948]},
                RED:{xiu: [1200074758,50635799.88,41203335.77,3210957597],xie: [1200074758,50635799.88,41203335.77,3210957597]},
        },
        "徐州市":{BAU:{xiu: [1400781664,7744396.388,62108698.24,563507273.3],xie: [1400781664,7744396.388,62108698.24,563507273.3]},
                BEE:{xiu: [1367871450,10272671.05,79466435.21,552369738.4],xie: [1367871450,10272671.05,79466435.21,552369738.4]},
                ELP:{xiu: [1420824171,9087332.468,58463288.72,555656535.2],xie: [1420824171,9087332.468,58463288.72,555656535.2]},
                RED:{xiu: [1368170371,11684728.84,79751459.49,541357450.8],xie: [1368170371,11684728.84,79751459.49,541357450.8]},
        },
        "连云港市":{BAU:{xiu: [887489224.5,18539627.57,56034806.63,1471052224],xie: [887489224.5,18539627.57,56034806.63,1471052224]},
                BEE:{xiu: [876305753,18838628.33,64921331.82,1491196190],xie: [876305753,18838628.33,64921331.82,1491196190]},
                ELP:{xiu: [899672110.4,20046480.84,54529631.28,1502039583],xie: [899672110.4,20046480.84,54529631.28,1502039583]},
                RED:{xiu: [881207514.5,14059355.81,64581505.51,1450906361],xie: [881207514.5,14059355.81,64581505.51,1450906361]},
        },
        "宿迁市":{BAU:{xiu: [1048949703,221584.4532,16077948.39,2456793336],xie: [1048949703,221584.4532,16077948.39,2456793336]},
                BEE:{xiu: [1035917922,814451.2344,17035640.72,2482184410],xie: [1035917922,814451.2344,17035640.72,2482184410]},
                ELP:{xiu: [1055225483,915171.4404,14533014.7,2503222187],xie: [1055225483,915171.4404,14533014.7,2503222187]},
                RED:{xiu: [1041700490,817611.084,17016836.1,2404940890],xie: [1041700490,817611.084,17016836.1,2404940890]},
        },

        //------------------------------浙江省（数据）,前5条的------------------------
        "杭州市":{BAU:{xiu: [444704772.9,5053213178,31747546.27,1821721767],xie: [444704772.9,5053213178,31747546.27,1821721767]},
                BEE:{xiu: [431566386,4988044927,37685534.72,1850223938],xie: [431566386,4988044927,37685534.72,1850223938]},
                ELP:{xiu: [408556276.5,5245662225,19759954.04,1850223938],xie: [408556276.5,5245662225,19759954.04,1850223938]},
                RED:{xiu: [458532781.1,4823551244,37894476.43,1850223938],xie: [458532781.1,4823551244,37894476.43,1850223938]},
        },
        "宁波市":{BAU:{xiu: [458689654.5,1850900472,4918352.935,3123515116],xie: [458689654.5,1850900472,4918352.935,3123515116]},
                BEE:{xiu: [445202926.9,1832838646,4853109.202,3144173594],xie: [445202926.9,1832838646,4853109.202,3144173594]},
                ELP:{xiu: [477701683.1,1849892563,6262859.106,3144173594],xie: [477701683.1,1849892563,6262859.106,3144173594]},
                RED:{xiu: [472886618.5,1791956148,4832619.435,3144173594],xie: [472886618.5,1791956148,4832619.435,3144173594]},
        },
        "嘉兴市":{BAU:{xiu: [415928192.6,10059745.91,1599819.455,1601954121],xie: [415928192.6,10059745.91,1599819.455,1601954121]},
                BEE:{xiu: [392318829.8,9630210.042,1436979.726,1630137536],xie: [392318829.8,9630210.042,1436979.726,1630137536]},
                ELP:{xiu: [440768820.2,10448223.21,2782564.306,1630147023],xie: [440768820.2,10448223.21,2782564.306,1630147023]},
                RED:{xiu: [440783505,8916027.696,1490630.564,1630133741],xie: [440783505,8916027.696,1490630.564,1630133741]},
        },
        "湖州市":{BAU:{xiu: [405591498,923885075,9984178.273,899190209.6],xie: [405591498,923885075,9984178.273,899190209.6]},
                BEE:{xiu: [396245887,917426639.9,10478898.31,916469485.3],xie: [396245887,917426639.9,10478898.31,916469485.3]},
                ELP:{xiu: [400846468.7,968617209.2,11236210.89,916469485.3],xie: [400846468.7,968617209.2,11236210.89,916469485.3]},
                RED:{xiu: [414965772.7,899300068.2,10365665.39,916469485.3],xie: [414965772.7,899300068.2,10365665.39,916469485.3]},
        },
        "绍兴市":{BAU:{xiu: [373743674.3,2022771671,2062726.432,819453571.5],xie: [373743674.3,2022771671,2062726.432,819453571.5]},
                BEE:{xiu: [366614340,2002483207,1965130.436,840529468.6],xie: [366614340,2002483207,1965130.436,840529468.6]},
                ELP:{xiu: [360734061.9,2092246334,3351964.153,840529468.6],xie: [360734061.9,2092246334,3351964.153,840529468.6]},
                RED:{xiu: [381158091.5,1945303218,1939248.625,840529468.6],xie: [381158091.5,1945303218,1939248.625,840529468.6]},
        },
        "金华市":{BAU:{xiu: [2041216321,4042237.601,32567180.64,3927600758],xie: [2041216321,4042237.601,32567180.64,3927600758]},
                BEE:{xiu: [2026683583,5297882.836,28224657.07,3984174653],xie: [2026683583,5297882.836,28224657.07,3984174653]},
                ELP:{xiu: [2063612633,3623557.529,28070727.84,4016467622],xie: [2063612633,3623557.529,28070727.84,4016467622]},
                RED:{xiu: [2020151525,48372557.6,28201822.89,3863392461],xie: [2020151525,48372557.6,28201822.89,3863392461]},
        },
        "舟山市":{BAU:{xiu: [745506593.6,989427.906,18170365.1,2005412897],xie: [745506593.6,989427.906,18170365.1,2005412897]},
                BEE:{xiu: [726978457.7,1390333.824,18315160.66,2052830444],xie: [726978457.7,1390333.824,18315160.66,2052830444]},
                ELP:{xiu: [751952236.9,1512383.015,16440877.52,2085284716],xie: [751952236.9,1512383.015,16440877.52,2085284716]},
                RED:{xiu: [736150251.4,1407318.016,18285073.27,1929480679],xie: [736150251.4,1407318.016,18285073.27,1929480679]},
        },
        "台州市":{BAU:{xiu: [416950763.7,59037050,24735863.15,597709316.8],xie: [416950763.7,59037050,24735863.15,597709316.8]},
                BEE:{xiu: [410298827,65025359.97,23105234.14,588008332.1],xie: [410298827,65025359.97,23105234.14,588008332.1]},
                ELP:{xiu: [427454215.5,65506447.08,21204087.26,589611879.1],xie: [427454215.5,65506447.08,21204087.26,589611879.1]},
                RED:{xiu: [411860500.1,61521876.73,23362588.77,582271619.2],xie: [411860500.1,61521876.73,23362588.77,582271619.2]},
        },
        "丽水市":{BAU:{xiu: [633813643.3,136268.514,5451190.121,1479844216],xie: [633813643.3,136268.514,5451190.121,1479844216]},
                BEE:{xiu: [611047668.8,195515.694,4754613.343,1566318095],xie: [611047668.8,195515.694,4754613.343,1566318095]},
                ELP:{xiu: [638515183,220004.5284,4638024.711,1614136054],xie: [638515183,220004.5284,4638024.711,1614136054]},
                RED:{xiu: [623763726.2,186431.1264,4747628.77,1393812499],xie: [623763726.2,186431.1264,4747628.77,1393812499]},
        },
        "温州市":{BAU:{xiu: [1212779237,41078834.76,30565832.01,3316106630],xie: [1212779237,41078834.76,30565832.01,3316106630]},
                BEE:{xiu: [1190945889,46767748.99,41164920.63,3353546131],xie: [1190945889,46767748.99,41164920.63,3353546131]},
                ELP:{xiu: [1217203884,44313730.79,26849770.86,3391628948],xie: [1217203884,44313730.79,26849770.86,3391628948]},
                RED:{xiu: [1200074758,50635799.88,41203335.77,3210957597],xie: [1200074758,50635799.88,41203335.77,3210957597]},
        },
        "衢州市":{BAU:{xiu: [1400781664,7744396.388,62108698.24,563507273.3],xie: [1400781664,7744396.388,62108698.24,563507273.3]},
                BEE:{xiu: [1367871450,10272671.05,79466435.21,552369738.4],xie: [1367871450,10272671.05,79466435.21,552369738.4]},
                ELP:{xiu: [1420824171,9087332.468,58463288.72,555656535.2],xie: [1420824171,9087332.468,58463288.72,555656535.2]},
                RED:{xiu: [1368170371,11684728.84,79751459.49,541357450.8],xie: [1368170371,11684728.84,79751459.49,541357450.8]},
        },
        //------------------------浙江数据-------------------------------

        "安庆市":{BAU:{xiu: [1048035921,2216108750,21841773.9,2765205564],xie: [1048035921,2216108750,21841773.9,2765205564]},
                BEE:{xiu: [1043820528,2224231123,21889591.23,2774931205],xie: [1043820528,2224231123,21889591.23,2774931205]},
                ELP:{xiu: [1001962411,2359246813,21328677.85,2815640365],xie: [1001962411,2359246813,21328677.85,2815640365]},
                RED:{xiu: [1064475870,2152753924,29330290,2551419850],xie: [1064475870,2152753924,29330290,2551419850]},
        },
        "滁州市":{BAU:{xiu: [1752725712,326632044.5,112219749.4,1601842446],xie: [1752725712,326632044.5,112219749.4,1601842446]},
                BEE:{xiu: [1747435361,338268161.5,107581737.1,1615727814],xie: [1747435361,338268161.5,107581737.1,1615727814]},
                ELP:{xiu: [1719090111,454167994.5,101296444.7,1665959563],xie: [1719090111,454167994.5,101296444.7,1665959563]},
                RED:{xiu: [1772063090,312018566.7,110099400.1,1437857705],xie: [1772063090,312018566.7,110099400.1,1437857705]},
        },
        "铜陵市":{BAU:{xiu: [287630618.4,257713527.6,8346541.648,868815683.7],xie: [287630618.4,257713527.6,8346541.648,868815683.7]},
                BEE:{xiu: [284848125.7,258864104.9,8218133.315,892345092.4],xie: [284848125.7,258864104.9,8218133.315,892345092.4]},
                ELP:{xiu: [271450619.5,298655991.2,7951645.728,913889521.6],xie: [271450619.5,298655991.2,7951645.728,913889521.6]},
                RED:{xiu: [292456137.9,243270681.2,6641504.64,794479527.7],xie: [292456137.9,243270681.2,6641504.64,794479527.7]},
        },
        "合肥市":{BAU:{xiu: [1368921324,218493177.7,63383481.46,2496481840],xie: [1368921324,218493177.7,63383481.46,2496481840]},
                BEE:{xiu: [1361120149,226245454.2,61771392.75,2497709643],xie: [1361120149,226245454.2,61771392.75,2497709643]},
                ELP:{xiu: [1377963790,235941428.4,60154468.57,2543880344],xie: [1377963790,235941428.4,60154468.57,2543880344]},
                RED:{xiu: [1391576767,199491864.7,52940499.16,2331047268],xie: [1391576767,199491864.7,52940499.16,2331047268]},
        },
        "池州市":{BAU:{xiu: [373250091,2408901750,12749765.47,836617645.3],xie: [373250091,2408901750,12749765.47,836617645.3]},
                BEE:{xiu: [370910825.9,2414438977,12702485.41,856583199.7],xie: [370910825.9,2414438977,12702485.41,856583199.7]},
                ELP:{xiu: [333778682.3,2520856126,12322364.51,871231438],xie: [333778682.3,2520856126,12322364.51,871231438]},
                RED:{xiu: [376457455.3,2373717703,16557421.77,835528373.6],xie: [376457455.3,2373717703,16557421.77,835528373.6]},
        },
        "宣城市":{BAU:{xiu: [684564373.5,3134898285,43310948.73,958530687],xie: [684564373.5,3134898285,43310948.73,958530687]},
                BEE:{xiu: [677093043.1,3169155708,33728946.99,999649747.3],xie: [677093043.1,3169155708,33728946.99,999649747.3]},
                ELP:{xiu: [653155359.6,3247190369,32554736.07,1029568665],xie: [653155359.6,3247190369,32554736.07,1029568665]},
                RED:{xiu: [691737912.5,2988077426,67027269.39,1022894503],xie: [691737912.5,2988077426,67027269.39,1022894503]},
        },
        "芜湖市":{BAU:{xiu: [672857458.3,307430081.6,19300739.55,1142670750],xie: [672857458.3,307430081.6,19300739.55,1142670750]},
                BEE:{xiu: [657851539.7,322655778.7,17233311.66,1227286671],xie: [657851539.7,322655778.7,17233311.66,1227286671]},
                ELP:{xiu: [675122452,291745812.4,16450504.37,1289485228],xie: [675122452,291745812.4,16450504.37,1289485228]},
                RED:{xiu: [682796122.4,301711163.1,18122767.71,954608170.1],xie: [682796122.4,301711163.1,18122767.71,954608170.1]},
        },
        "马鞍山市":{BAU:{xiu: [437900616,151829997.7,24238819,1067429398],xie: [437900616,151829997.7,24238819,1067429398]},
                BEE:{xiu: [428148053.8,164272269.3,19806851.05,1120860645],xie: [428148053.8,164272269.3,19806851.05,1120860645]},
                ELP:{xiu: [440728151.6,146613494.1,18967630.06,1157246877],xie: [440728151.6,146613494.1,18967630.06,1157246877]},
                RED:{xiu: [447134267.1,137549883.2,27309067.62,946890281.1],xie: [447134267.1,137549883.2,27309067.62,946890281.1]},
        },
        "亳州市":{BAU:{xiu: [1229957359,645488.19,15546071.66,108039587],xie: [1229957359,645488.19,15546071.66,108039587]},
                BEE:{xiu: [1203367545,1539696.6,15624525.9,100140869],xie: [1203367545,1539696.6,15624525.9,100140869]},
                ELP:{xiu: [1239476081,1341904.806,15360854.95,101840905.4],xie: [1239476081,1341904.806,15360854.95,101840905.4]},
                RED:{xiu: [1237782104,864993.654,11432481.29,80284975.67],xie: [1237782104,864993.654,11432481.29,80284975.67]},
        },
        "阜阳市":{BAU:{xiu: [1382481566,331626.96,14427492.13,407946111.5],xie: [1382481566,331626.96,14427492.13,407946111.5]},
                BEE:{xiu: [1344297952,367553.214,14637512.24,405024174.1],xie: [1344297952,367553.214,14637512.24,405024174.1]},
                ELP:{xiu: [140495087.9,397557.558,14334209.77,415046040.1],xie: [140495087.9,397557.558,14334209.77,415046040.1]},
                RED:{xiu: [1404842579,272407.86,10018956.96,315565453.1],xie: [1404842579,272407.86,10018956.96,315565453.1]},
        },
        "宿州市":{BAU:{xiu: [1407824725,4457619.054,36818763.65,1782279405],xie: [1407824725,4457619.054,36818763.65,1782279405]},
                BEE:{xiu: [1380214316,6849281.106,41497170.62,107707548.7],xie: [1380214316,6849281.106,41497170.62,107707548.7]},
                ELP:{xiu: [1417488883,13288766.04,29146963.44,109781365.3],xie: [1417488883,13288766.04,29146963.44,109781365.3]},
                RED:{xiu: [1416798697,3114135.072,29411712.8,76446612.34],xie: [1416798697,3114135.072,29411712.8,76446612.34]},
        },
        "六安市":{BAU:{xiu: [1243581898,2723224266,69564107.66,1194391276],xie: [1243581898,2723224266,69564107.66,1194391276]},
                BEE:{xiu: [1238337585,2738101683,54279280.53,1246441608],xie: [1238337585,2738101683,54279280.53,1246441608]},
                ELP:{xiu: [1206360140,2870977499,51205276.24,1280009737],xie: [1206360140,2870977499,51205276.24,1280009737]},
                RED:{xiu: [1262395964,2602544425,91414287.56,961550806.4],xie: [1262395964,2602544425,91414287.56,961550806.4]},
        },
        "蚌埠市":{BAU:{xiu: [836649846.1,1666030.68,9173484.457,659669128.1],xie: [836649846.1,1666030.68,9173484.457,659669128.1]},
                BEE:{xiu: [827603296.9,2422455.984,9185346.954,663976139.8],xie: [827603296.9,2422455.984,9185346.954,663976139.8]},
                ELP:{xiu: [839706404.7,3020174.1,8212622.216,673417413.1],xie: [839706404.7,3020174.1,8212622.216,673417413.1]},
                RED:{xiu: [841808591.8,1261761.624,6645424.628,594105784.2],xie: [841808591.8,1261761.624,6645424.628,594105784.2]},
        },
        "淮南市":{BAU:{xiu: [725108827.1,6859545.75,18578018,1026508892],xie: [725108827.1,6859545.75,18578018,1026508892]},
                BEE:{xiu: [718252009.1,8001289.998,18823356,1038050545],xie: [718252009.1,8001289.998,18823356,1038050545]},
                ELP:{xiu: [725879779.7,9270947.502,17318975.73,1071770462],xie: [725879779.7,9270947.502,17318975.73,1071770462]},
                RED:{xiu: [736309525.1,4992959.718,14986916.7,891426204.3],xie: [736309525.1,4992959.718,14986916.7,891426204.3]},
        },
        "淮北市":{BAU:{xiu: [362326234.2,2362447.296,14450677.92,125664182.6],xie: [362326234.2,2362447.296,14450677.92,125664182.6]},
                BEE:{xiu: [356622173.8,4659358.788,14610012.82,113760133.4],xie: [356622173.8,4659358.788,14610012.82,113760133.4]},
                ELP:{xiu: [365473302,96522790.27,11067439.91,115896563],xie: [365473302,96522790.27,11067439.91,115896563]},
                RED:{xiu: [366929216.3,1222677.018,12316506.9,67062259.89],xie: [366929216.3,1222677.018,12316506.9,67062259.89]},
        },
        "黄山市":{BAU:{xiu: [157328681.4,3695179063,10420664.23,227148383.9],xie: [157328681.4,3695179063,10420664.23,227148383.9]},
                BEE:{xiu: [158254248.1,3697111185,5243493.188,237794482.1],xie: [158254248.1,3697111185,5243493.188,237794482.1]},
                ELP:{xiu: [125724286.6,37984111408,4878451.809,236724369.9],xie: [125724286.6,37984111408,4878451.809,236724369.9]},
                RED:{xiu: [161307700.2,3558941971,23519826.33,191819503.5],xie: [161307700.2,3558941971,23519826.33,191819503.5]},
        },//倒数5市供给正确，后面的服务复制的

        "上海市":{BAU:{xiu: [437900616,151829997.7,24238819,1067429398],xie: [437900616,151829997.7,24238819,1067429398]},
                BEE:{xiu: [428148053.8,164272269.3,19806851.05,1120860645],xie: [428148053.8,164272269.3,19806851.05,1120860645]},
                ELP:{xiu: [440728151.6,146613494.1,18967630.06,1157246877],xie: [440728151.6,146613494.1,18967630.06,1157246877]},
                RED:{xiu: [447134267.1,137549883.2,27309067.62,946890281.1],xie: [447134267.1,137549883.2,27309067.62,946890281.1]},
        },    
    },
    //文化服务 (元/公顷)----------------------------------------------------------
    WHFW: {
        "南京市":{BAU:{xiu: [3848822331,465695731.4,208581318.4,5840630712],xie: [129736239,118419074.7,52590993.27,1037152269]},
                BEE:{xiu: [3817859358,471822427.2,215444584.3,5860987851],xie: [128692538,119976996.8,54321474.07,1040767196]},
                ELP:{xiu: [3945485194,498076771.9,186753997.5,5919026614],xie: [132994554.2,126653062.3,47087525.86,1051073452]},
                RED:{xiu: [3891011432,395250324.9,214847702.4,5655938470],xie: [131158350.7,100505919.7,54170978.29,1004355473]},
        },
        "无锡市":{BAU:{xiu: [1919869952,514177253.8,24087070,7436588638],xie: [64715044.09,130747160.7,6073232.953,1320555118]},
                BEE:{xiu: [1835506730,521496274.8,20375375.22,7435445291],xie: [61871325.64,132608272.3,5137378.692,1320352088]},
                ELP:{xiu: [1967898469,520092496.1,21263696.42,7447701405],xie: [66333991.05,132251313.5,5361357.017,1322528472]},
                RED:{xiu: [1830990482,539109672.7,20402506.21,7386511468],xie: [61719091.78,137087081.4,5144219.41,1311662646]},
        },
        "苏州市":{BAU:{xiu: [2807995579,213799994.2,22979075.28,23017288065],xie: [94652014.06,54365964.26,5793866.885,4087303876]},
                BEE:{xiu: [2706759879,218505176.6,19551818.32,23024217859],xie: [91239557.53,55562417.88,4929729.822,4088534437]},
                ELP:{xiu: [2974045726,213540793.1,19324268.06,23041667832],xie: [100249238.3,54300053.51,4872356.064,4091633123]},
                RED:{xiu: [2707820078,229065575.7,19513309.82,22956816206],xie: [91275294.76,58247760.72,4920020.417,4076565562]},
        },
        "常州市":{BAU:{xiu: [2535483632,266487395.8,41875373.83,3844348238],xie: [85466171.75,67763538.96,10558316.15,682661632.9]},
                BEE:{xiu: [2474958247,284780173.5,37787345.92,3840430186],xie: [83425979.92,72415103.63,9527574.521,681965883.2]},
                ELP:{xiu: [2590514124,278156902.9,35721889.73,3876124896],xie: [87321141.5,70730910.44,9006797.333,688304385.4]},
                RED:{xiu: [2469425073,318543165.2,37868738.9,3711538816],xie: [83239467.49,81000499.55,9548096.673,659077948.1]},
        },
        "南通市":{BAU:{xiu: [6192233503,5316351.311,37187838.51,8814167439],xie: [208728025.5,1351864.234,9376416.735,1565179210]},
                BEE:{xiu: [5834701744,5244047.842,28569810.09,8905140150],xie: [196676332.3,1333478.603,7203495.985,1581333724]},
                ELP:{xiu: [6370723099,5295888.065,28533927.16,8907210722],xie: [214744559,1346660.753,7194448.585,1581701407]},
                RED:{xiu: [5836070682,5336814.557,28556682.19,8893441766],xie: [196722476.5,1357067.714,7200185.961,1579256379]},
        },
        "盐城市":{BAU:{xiu: [12030177426,13961390.64,106100559,14429001218],xie: [405513645.2,3550161.296,26751838.68,2562235501]},
                BEE:{xiu: [11944526820,18298234.57,91953059.26,14636839249],xie: [402626531.6,4652952.263,23184735.61,2599142420]},
                ELP:{xiu: [12162173047,12515321.25,91451573.5,14755475361],xie: [409962958.3,3182448.674,23058292.67,2620209273]},
                RED:{xiu: [11906029276,167072854.1,91878667.83,14193116347],xie: [401328855,42483989.99,23165978.8,2520348153]},
        },
        "扬州市":{BAU:{xiu: [4393741370,3417362.082,59197199.62,7367374363],xie: [148104389.1,868981.2435,14925783.14,1308264367]},
                BEE:{xiu: [4284543358,4802041.728,59668928.81,7541574311],xie: [144423538.7,1221083.424,15044723.36,1339197990]},
                ELP:{xiu: [4431729618,5223584.596,53562705.15,7660803011],xie: [149384898.4,1328275.122,13505120.63,1360370073]},
                RED:{xiu: [4338598533,4860703.033,59570907.16,7088418803],xie: [146245632.5,1236000.068,15020008.51,1258728725]},
        },
        "镇江市":{BAU:{xiu: [2457354281,203906696.9,80586923.87,2195831244],xie: [82832584.84,51850254.89,20318916.4,389925586.9]},
                BEE:{xiu: [2418150216,224589581.7,75274500.54,2160192307],xie: [81511092.81,57109586.08,18979459.81,383596988.6]},
                ELP:{xiu: [2519257759,226251197.3,69080757.56,2166083328],xie: [84919229.45,57532108.7,17417790.26,384643089.1]},
                RED:{xiu: [2427354142,212488982.2,76112935.72,2139117090],xie: [81821339.08,54032594.61,19190860.05,379854548.8]},
        },
        "泰州市":{BAU:{xiu: [3735464245,470654.658,17759422.44,5436569374],xie: [125915160.6,119680.0515,4477801.144,965400920.1]},
                BEE:{xiu: [3601289974,675287.118,15490046.22,5754252300],xie: [121392409.5,171714.8565,3905608.242,1021813589]},
                ELP:{xiu: [3763173390,759868.5348,15110212.32,5929923261],xie: [126849181.4,193222.5759,3809838.2,1053008428]},
                RED:{xiu: [3676233734,643910.1408,15467291.19,5120510836],xie: [123918616.5,163736.1864,3899870.866,909276702.4]},
        },
        "淮安市":{BAU:{xiu: [7147674283,141881234,99580368.87,12182528103],xie: [240934057,36078158.6,25107859.84,2163317164]},
                BEE:{xiu: [7018996570,161530042.8,134111120.5,12320071257],xie: [236596584.1,41074540.57,33814327.62,2187741443]},
                ELP:{xiu: [7173751520,153054166.3,87473819.95,12459977791],xie: [241813069.4,38919258.95,22055355.25,2212585400]},
                RED:{xiu: [7072798762,174889814,134236273.2,11796237433],xie: [238410150.3,44471719.54,33845883.19,2094721448]},
        },
        "徐州市":{BAU:{xiu: [8255691363,26748190.95,202343815.8,2070181680],xie: [278283135.8,6801642.811,51018290.29,367613316.5]},
                BEE:{xiu: [8061730683,35480540.13,258893555.7,2029265223],xie: [271745102.4,9022141.39,65276551.83,360347560.9]},
                ELP:{xiu: [8373814519,31386526.71,190467442.7,2041340074],xie: [282264835.3,7981098.391,48023821.46,362491757.3]},
                RED:{xiu: [8063492411,40357613.76,259822135.7,1988808894],xie: [271804486.8,10262304.24,65510680.89,353163512.4]},
        },
        "连云港市":{BAU:{xiu: [5230534719,64033589.38,182555695.3,5404269844],xie: [176311048.9,16282731.18,46028980.03,959665318.5]},
                BEE:{xiu: [5164623455,65066301.2,211507089.6,5478273624],xie: [174089309.7,16545333.5,53328687.39,972806568.5]},
                ELP:{xiu: [5302336162,69238074.95,177651987.2,5518109479],xie: [178731334.5,17606149.72,44792575.54,979880435.9]},
                RED:{xiu: [5193512633,48559282.76,210399970.1,5330259092],xie: [175063107.1,12347859.23,53049541.99,946522830.4]},
        },
        "宿迁市":{BAU:{xiu: [6182123331,765325.4004,52380319.01,9025630714],xie: [208387231.4,194610.1707,13206997.76,1602729883]},
                BEE:{xiu: [6105318813,2813014.217,55500383.12,9118911032],xie: [205798302,715305.1194,13993680.24,1619294172]},
                ELP:{xiu: [6219110466,3160889.399,47347082.34,9196198447],xie: [209633995.1,803764.2879,11937934.36,1633018514]},
                RED:{xiu: [6139399138,2823927.948,55439119.59,8835138081],xie: [206947082.8,718080.309,13978233.46,1568903080]},
        },

        //------------------------------浙江省（数据）
        "杭州市":{BAU:{xiu: [2620926193,17461451518,103060105.6,6693692470],xie: [88346272.61,4440171538,25985237,1188635042]},
                BEE:{xiu: [2543493378,17236261681,122336232.1,6798420193],xie: [85736164.55,4382909317,30845456.31,1207232109]},
                ELP:{xiu: [2407880265,18126461994,64145522.75,6798420193],xie: [81164912.95,4609273207,16173441.71,1207232109]},
                RED:{xiu: [2702423382,16667851368,123014506.7,6798420193],xie: [91093382.73,4238371545,31016474.24,1207232109]},
        },
        "宁波市":{BAU:{xiu: [2703347935,6395813457,15966146.45,11476971948],xie: [91124547.61,1626354421,4025651.797,2038027755]},
                BEE:{xiu: [2623862129,6333400557,15754349.73,11552878982],xie: [88445237.24,1610483806,3972250.068,2051506976]},
                ELP:{xiu: [2815397832,6392330613,20330734.09,11552878982],xie: [94901529.48,1625468789,5126124.609,2051506976]},
                RED:{xiu: [2787019614,6192130492,15687835.06,11552878982],xie: [93944955.51,1574561058,3955479.278,2051506976]},
        },
        "嘉兴市":{BAU:{xiu: [2451327624,34761598.09,5193395.44,5886183297],xie: [82629438.05,8839325.775,1309445.692,1045241287]},
                BEE:{xiu: [2312182733,33277330.65,4664778.85,5989739789],xie: [77939137.15,8461899.989,1176162.039,1063630371]},
                ELP:{xiu: [2597729136,36103987.03,9032867.263,5989774647],xie: [87564345.41,9180674.096,2277517.524,1063636561]},
                RED:{xiu: [2597815683,30809463.18,4838942.263,5989725845],xie: [87567262.73,7834360.241,1220075.031,1063627896]},
        },
        "湖州市":{BAU:{xiu: [2390406952,3192498293,32411023.48,3303963780],xie: [80575921.9,811801930.8,8172009.154,586702652.7]},
                BEE:{xiu: [2335327362,3170181077,34017002.69,3367454353],xie: [78719297.13,806127014.9,8576935.484,597977015.8]},
                ELP:{xiu: [2362441496,3347070832,36475419.91,3367454353],xie: [79633261.32,851107288,9196792.739,597977015.8]},
                RED:{xiu: [2445655475,3107544445,33649421.62,3367454353],xie: [82438241.07,790199508,8484254.798,597977015.8]},
        },
        "绍兴市":{BAU:{xiu: [2202707605,6989716882,6696101.873,3010981315],xie: [74248945.69,1777374689,1688333.163,534676177.6]},
                BEE:{xiu: [2160689934,6919609801,6379281.996,3088422106],xie: [72832612.55,1759547565,1608451.239,548427756.1]},
                ELP:{xiu: [2126033740,7229787591,10881274.94,3088422106],xie: [71664420.33,1838420882,2743568.974,548427756.1]},
                RED:{xiu: [2246405450,6722023519,6295263.465,3088422106],xie: [75721914.2,1709304492,1587267.082,548427756.1]},
        },
        "金华市":{BAU:{xiu: [2041216321,4042237.601,32567180.64,3927600758],xie: [2041216321,4042237.601,32567180.64,3927600758]},
                BEE:{xiu: [2026683583,5297882.836,28224657.07,3984174653],xie: [2026683583,5297882.836,28224657.07,3984174653]},
                ELP:{xiu: [2063612633,3623557.529,28070727.84,4016467622],xie: [2063612633,3623557.529,28070727.84,4016467622]},
                RED:{xiu: [2020151525,48372557.6,28201822.89,3863392461],xie: [2020151525,48372557.6,28201822.89,3863392461]},
        },
        "舟山市":{BAU:{xiu: [745506593.6,989427.906,18170365.1,2005412897],xie: [745506593.6,989427.906,18170365.1,2005412897]},
                BEE:{xiu: [726978457.7,1390333.824,18315160.66,2052830444],xie: [726978457.7,1390333.824,18315160.66,2052830444]},
                ELP:{xiu: [751952236.9,1512383.015,16440877.52,2085284716],xie: [751952236.9,1512383.015,16440877.52,2085284716]},
                RED:{xiu: [736150251.4,1407318.016,18285073.27,1929480679],xie: [736150251.4,1407318.016,18285073.27,1929480679]},
        },
        "台州市":{BAU:{xiu: [416950763.7,59037050,24735863.15,597709316.8],xie: [416950763.7,59037050,24735863.15,597709316.8]},
                BEE:{xiu: [410298827,65025359.97,23105234.14,588008332.1],xie: [410298827,65025359.97,23105234.14,588008332.1]},
                ELP:{xiu: [427454215.5,65506447.08,21204087.26,589611879.1],xie: [427454215.5,65506447.08,21204087.26,589611879.1]},
                RED:{xiu: [411860500.1,61521876.73,23362588.77,582271619.2],xie: [411860500.1,61521876.73,23362588.77,582271619.2]},
        },
        "丽水市":{BAU:{xiu: [633813643.3,136268.514,5451190.121,1479844216],xie: [633813643.3,136268.514,5451190.121,1479844216]},
                BEE:{xiu: [611047668.8,195515.694,4754613.343,1566318095],xie: [611047668.8,195515.694,4754613.343,1566318095]},
                ELP:{xiu: [638515183,220004.5284,4638024.711,1614136054],xie: [638515183,220004.5284,4638024.711,1614136054]},
                RED:{xiu: [623763726.2,186431.1264,4747628.77,1393812499],xie: [623763726.2,186431.1264,4747628.77,1393812499]},
        },
        "温州市":{BAU:{xiu: [1212779237,41078834.76,30565832.01,3316106630],xie: [1212779237,41078834.76,30565832.01,3316106630]},
                BEE:{xiu: [1190945889,46767748.99,41164920.63,3353546131],xie: [1190945889,46767748.99,41164920.63,3353546131]},
                ELP:{xiu: [1217203884,44313730.79,26849770.86,3391628948],xie: [1217203884,44313730.79,26849770.86,3391628948]},
                RED:{xiu: [1200074758,50635799.88,41203335.77,3210957597],xie: [1200074758,50635799.88,41203335.77,3210957597]},
        },
        "衢州市":{BAU:{xiu: [1400781664,7744396.388,62108698.24,563507273.3],xie: [1400781664,7744396.388,62108698.24,563507273.3]},
                BEE:{xiu: [1367871450,10272671.05,79466435.21,552369738.4],xie: [1367871450,10272671.05,79466435.21,552369738.4]},
                ELP:{xiu: [1420824171,9087332.468,58463288.72,555656535.2],xie: [1420824171,9087332.468,58463288.72,555656535.2]},
                RED:{xiu: [1368170371,11684728.84,79751459.49,541357450.8],xie: [1368170371,11684728.84,79751459.49,541357450.8]},
        },
        //------------------------浙江数据-------------------------------

        "安庆市":{BAU:{xiu: [6176729964,7654185764,71158444.5,10158672859],xie: [208205431.6,1946338639,17941656.8,10158672859]},
                BEE:{xiu: [6151886020,7682239510,71314228.86,10194402428],xie: [207367991.1,1953472264,17980935.76,10194402428]},
                ELP:{xiu: [5905190005,8148568238,69486825.81,10343957689],xie: [199052353.1,2072052299,17520180.35,10343957689]},
                RED:{xiu: [6273620844,7435365453,95555325.4,9373277676],xie: [211471432.8,1890696087,24093006.33,1664463427]},
        },
        "滁州市":{BAU:{xiu: [10329906831,1128149666,365601386,5884768058],xie: [348200864,286870655.2,92181534.31,5884768058]},
                BEE:{xiu: [10298727490,1168339481,350491178.3,5935779425],xie: [347149869.7,297090290.9,88371696.11,5935779425]},
                ELP:{xiu: [10131671235,1568644228,330014287,6120318291],xie: [341518731.6,398881470.2,83208719.89,6120318291]},
                RED:{xiu: [10443874073,1077676387,358693487.4,5282329182],xie: [352042475.8,274036097.1,90439799.41,5282329182]},
        },
        "铜陵市":{BAU:{xiu: [1695186799,890113002.9,27192247.44,3191811278],xie: [57141416.45,226341688.6,6856164.081,3191811278]},
                BEE:{xiu: [1678787832,894086965.3,26773905.17,3278252434],xie: [56588639.5,227352204.5,6750684.634,3278252434]},
                ELP:{xiu: [1599827965,1031523582,25905713.69,3357401272],xie: [53927057.49,262300167.1,6531781.68,3357401272]},
                RED:{xiu: [1723626598,840229066.1,21637397.28,2918718854],xie: [58100066.21,213656990.7,5455582.381,2918718854]},
        },
        "合肥市":{BAU:{xiu: [8067907965,754650407.1,206497419.5,9171449185],xie: [271953326.4,191895688.4,52065582.04,9171449185]},
                BEE:{xiu: [8021930775,781425882.4,201245386.1,9175959825],xie: [270403525.7,198704269.2,50741351.58,9175959825]},
                ELP:{xiu: [8121200862,814914666.5,195977599.2,9345579417],xie: [273749725.3,207219938.4,49413149.08,9345579417]},
                RED:{xiu: [8201430639,689022048.7,172475165.6,8563683989],xie: [276454113.4,175207432.6,43487322.55,8563683989]},
        },
        "池州市":{BAU:{xiu: [2199795802,8320070702,41537536.4,3073523747],xie: [74150794.54,2115662669,10473138.19,3073523747]},
                BEE:{xiu: [2186009053,8339195652,41383502.42,3146872195],xie: [73686070.31,2120525842,10434300.57,3146872195]},
                ELP:{xiu: [1967166149,8706748291,40145104.29,3200686154],xie: [66309305.99,2213988678,10122054.92,3200686154]},
                RED:{xiu: [2218698803,8198549034,53942522.4,3069522035],xie: [74787977.55,2084761627,13600890.67,3069522035]},
        },
        "宣城市":{BAU:{xiu: [4034565220,10827579570,141102996.3,3521401736],xie: [135997266.8,2753282600,35577246.67,3521401736]},
                BEE:{xiu: [3990532005,10945900787,109885736.1,3672462868],xie: [134512993.7,2783369818,27706229.07,3672462868]},
                ELP:{xiu: [3849452293,11215423564,106060267.3,3782377479],xie: [129757473.7,2851905207,26741687.94,3782377479]},
                RED:{xiu: [4076843364,10320477143,218368537.7,3757858281],xie: [137422380,2624334456,55058726.86,3757858281]},
        },
        "芜湖市":{BAU:{xiu: [3965569060,1061828285,62879993.63,4197886222],xie: [133671541.8,270006174.9,15854355.35,4197886222]},
                BEE:{xiu: [3877129814,1114416099,56144508.07,4508743929],xie: [130690428.6,283378425.9,14156092.11,4508743929]},
                ELP:{xiu: [3978918082,1007656616,53594195.58,4737245851],xie: [134121511.1,256231174.4,13513064.69,4737245851]},
                RED:{xiu: [4024143812,1042075796,59042272.19,3506991391],xie: [135645981.6,264983428.6,14886724.85,3506991391]},
        },
        "马鞍山市":{BAU:{xiu: [2635241377,475081540.2,88970373.04,3478637800],xie: [86994429.18,133347513.4,19910680.04,3921468334]},
                BEE:{xiu: [2597486139,506386213.9,61794754.27,4251435260],xie: [85056960.84,144275169.3,16270094.43,4117761357]},
                ELP:{xiu: [2523343770,567377600.8,64528857.29,4117761357],xie: [87556154.46,128766022.3,15580726.66,4251435260]},
                RED:{xiu: [2580821707,524403419.9,78967791.9,3921468334],xie: [88828809.35,120805737.8,22432698.04,3478637800]},
        },
        "亳州市":{BAU:{xiu: [7248915808,2230493.814,50466271.26,396978168.3],xie: [244346709.9,567179.3745,12724396.18,70493552.56]},
                BEE:{xiu: [7092205232,5320443.96,50720952.51,367955300.9],xie: [239064304.3,1352904.93,12788610.66,65339805.6]},
                ELP:{xiu: [7305015653,4636971.544,49865013.46,374201875.3],xie: [246237725.4,1179108.681,12572797.06,66449043.47]},
                RED:{xiu: [7295031973,2988998.132,37112571.89,294997264.1],xie: [245901195.2,760055.0517,9357439.262,52384253.85]},
        },
        "阜阳市":{BAU:{xiu: [8147837324,1145941.776,46835094.26,1498947789],xie: [274647588.1,291394.908,11808843.41,266176236.4]},
                BEE:{xiu: [7922797166,1270085.468,47516869.84,1488211490],xie: [267061926.5,322962.6897,11980744.01,264269733.8]},
                ELP:{xiu: [828026318.3,1373765.915,46532277.37,1525035603],xie: [27911140.36,349326.9909,11732492.17,270808790.1]},
                RED:{xiu: [8279624900,941309.316,32523933.41,1159506427],xie: [279089888.3,239360.103,8200475.365,205899804.6]},
        },
        "宿州市":{BAU:{xiu: [8297200571,15403367.37,119522523.4,6548766366],xie: [279682329.7,3916833.222,30136007.73,1162899733]},
                BEE:{xiu: [8134474988,23667790.32,134709752.7,395758134.2],xie: [274197170,6018345.546,33965264.74,70276904.53]},
                ELP:{xiu: [8354157562,45919524.02,94618022.86,403378118.4],xie: [281602237.9,11676610.24,23856670.58,71630026.18]},
                RED:{xiu: [8350089860,10760938.96,95477462.68,280893670.4],xie: [281465123.7,2736336.946,24073366.85,49879802.71]},
        },
        //
        "六安市":{BAU:{xiu: [20494081294,56523652840,1285399608,20444850384],xie: [247053398.2,2392850341,56937938.11,4388643776]},
                BEE:{xiu: [20407655642,56832450749,1002967884,21335815737],xie: [246011548.6,2405922872,44427369.51,4579896315]},
                ELP:{xiu: [19880671157,59590441203,946166697.3,21910414177],xie: [239658821.4,2522678567,41911309.55,4703238273]},
                RED:{xiu: [20804134858,54018803906,1689145355,16459231379],xie: [250791052.3,2286811040,74822221.15,3533100120]},
        },
        "蚌埠市":{BAU:{xiu: [13787889635,34580383.61,169506858,11291807713],xie: [166211158.2,1463912.514,7508459.576,2423873039]},
                BEE:{xiu: [13638803584,50280861.1,169726052.2,11365532473],xie: [164413945.9,2128570.423,7518168.981,2439698624]},
                ELP:{xiu: [13838261356,62687188.31,151752128.1,11527142344],xie: [166818382.6,2653775.055,6721997.755,2474389421]},
                RED:{xiu: [13872905148,26189314.23,122793585.6,10169534984],xie: [167236008.8,1108688.245,5439252.927,2182968600]},
        },
        "淮南市":{BAU:{xiu: [11949706951,142377764.3,343283021.2,17571143667],xie: [144052112.8,6027364.913,15206031.88,3771780612]},
                BEE:{xiu: [11836707408,166075979.8,347816355.8,17768706539],xie: [142689918.5,7030595.953,15406840.04,3814188996]},
                ELP:{xiu: [11962412157,192429182.1,320018546.2,18345903209],xie: [144205272.3,8146222.172,14175510.92,3938088683]},
                RED:{xiu: [12134293117,103634623.6,276926959.7,15258881855],xie: [146277274.2,4387227.859,12266730.13,3275435898]},
        },
        "淮北市":{BAU:{xiu: [5971093107,49035311.74,267018385.7,2151041676],xie: [71980725.66,2075841.821,11827820.88,461737576.2]},
                BEE:{xiu: [5877090871,96710352.47,269962562.3,1947275532],xie: [70847541.33,4094098.457,11958235.85,417997612.2]},
                ELP:{xiu: [6022956409,2003441566,204503204.3,1983845611],xie: [72605930.8,84812916.26,9058654.383,425847659.9]},
                RED:{xiu: [6046949702,25378068.26,227583356.9,1147930244],xie: [72895166.73,1074345.274,10081010.62,246412022]},
        },
        "黄山市":{BAU:{xiu: [2592757897,76697692947,192552138.9,3888185401],xie: [31255348.32,3246890311,8529271.132,834628786.3]},
                BEE:{xiu: [2608011125,76737796359,96888816.85,4070418719],xie: [31439223.94,3248588033,4291777.767,873746564]},
                ELP:{xiu: [2071921242,788403934875.79,90143613.6,4052101201],xie: [24976732.38,33375985623,3992992.889,869814568.5]},
                RED:{xiu: [2658331653,73869935341,434597331.1,3283447499],xie: [32045831.14,3127181120,19250881.82,704817162.3]},
        },//倒数5市供给正确，后面的服务复制的

        //上海目前数据
        "上海市":{BAU:{xiu: [437900616,151829997.7,24238819,1067429398],xie: [437900616,151829997.7,24238819,1067429398]},
                BEE:{xiu: [428148053.8,164272269.3,19806851.05,1120860645],xie: [428148053.8,164272269.3,19806851.05,1120860645]},
                ELP:{xiu: [440728151.6,146613494.1,18967630.06,1157246877],xie: [440728151.6,146613494.1,18967630.06,1157246877]},
                RED:{xiu: [447134267.1,137549883.2,27309067.62,946890281.1],xie: [447134267.1,137549883.2,27309067.62,946890281.1]},
        },     
    },
    //支持服务 (元/公顷)----------------------------------------
    ZCFW: {
        "南京市":{BAU:{xiu: [1461689600,589222449.8,260281238.5,2179272631],xie: [1461689600,589222449.8,260281238.5,2179272631]},
                BEE:{xiu: [1449930612,596974263.9,268845664.9,2186868344],xie: [1449930612,596974263.9,268845664.9,2186868344]},
                ELP:{xiu: [1498399817,630192625.6,233043698,2208523932],xie: [1498399817,630192625.6,233043698,2208523932]},
                RED:{xiu: [1477712000,500091259.3,268100837.2,2110359740],xie: [1477712000,500091259.3,268100837.2,2110359740]},
        },
        "无锡市":{BAU:{xiu: [729120157.1,650563792.4,30057401.4,2774760961],xie: [729120157.1,650563792.4,30057401.4,2774760961]},
                BEE:{xiu: [697081046.7,659824198.3,25425708.96,2774334352],xie: [697081046.7,659824198.3,25425708.96,2774334352]},
                ELP:{xiu: [747360225.9,658048064.5,26534213.52,2778907388],xie: [747360225.9,658048064.5,26534213.52,2778907388]},
                RED:{xiu: [695365884.8,682109585,25459564.77,2756076026],xie: [695365884.8,682109585,25459564.77,2756076026]},
        },
        "苏州市":{BAU:{xiu: [1066408782,270510867.6,28674774.04,8588275547],xie: [1066408782,270510867.6,28674774.04,8588275547]},
                BEE:{xiu: [1027961913,276464109,24398021.49,8590861211],xie: [1027961913,276464109,24398021.49,8590861211]},
                ELP:{xiu: [1129470611,270182912.9,24114069.58,8597372194],xie: [1129470611,270182912.9,24114069.58,8597372194]},
                RED:{xiu: [1028364551,289825675,24349968.09,8565712116],xie: [1028364551,289825675,24349968.09,8565712116]},
        },
        "常州市":{BAU:{xiu: [962915338.3,337173707.2,52254795.62,1434414075],xie: [962915338.3,337173707.2,52254795.62,1434414075]},
                BEE:{xiu: [939929261.3,360318680.6,47153490.41,1432952160],xie: [939929261.3,360318680.6,47153490.41,1432952160]},
                ELP:{xiu: [983814587.6,351938574.3,44576080.8,1446270671],xie: [983814587.6,351938574.3,44576080.8,1446270671]},
                RED:{xiu: [937827895.6,403037372.9,47255057.82,1384859848],xie: [937827895.6,403037372.9,47255057.82,1384859848]},
        },
        "南通市":{BAU:{xiu: [2351660466,6726524.063,46405386.35,3288767055],xie: [2351660466,6726524.063,46405386.35,3288767055]},
                BEE:{xiu: [2215878554,6635041.955,35651253.96,3322711050],xie: [2215878554,6635041.955,35651253.96,3322711050]},
                ELP:{xiu: [2419446495,6700632.901,35606476.93,3323483628],xie: [2419446495,6700632.901,35606476.93,3323483628]},
                RED:{xiu: [2216398443,6752415.226,35634872.12,3318346116],xie: [2216398443,6752415.226,35634872.12,3318346116]},
        },
        "盐城市":{BAU:{xiu: [4568770320,17664677.26,132399129,5383789697],xie: [4568770320,17664677.26,132399129,5383789697]},
                BEE:{xiu: [4536242292,23151877.67,114744965.3,5461338810],xie: [4536242292,23151877.67,114744965.3,5461338810]},
                ELP:{xiu: [4618899063,15835035.09,114119179,5505604651],xie: [4618899063,15835035.09,114119179,5505604651]},
                RED:{xiu: [4521621857,211389260.7,114652134.9,5295775667],xie: [4521621857,211389260.7,114652134.9,5295775667]},
        },
        "扬州市":{BAU:{xiu: [1668636667,4323824.167,73870088.42,2748935535],xie: [1668636667,4323824.167,73870088.42,2748935535]},
                BEE:{xiu: [1627165904,6075792.842,74458742.57,2813933512],xie: [1627165904,6075792.842,74458742.57,2813933512]},
                ELP:{xiu: [1683063685,6609150.793,66839002.37,2858420461],xie: [1683063685,6609150.793,66839002.37,2858420461]},
                RED:{xiu: [1647694752,6150014.175,74336424.82,2644850849],xie: [1647694752,6150014.175,74336424.82,2644850849]},
        },
        "镇江市":{BAU:{xiu: [933243701.2,257993353.5,100561567.6,819314757.2],xie: [933243701.2,257993353.5,100561567.6,819314757.2]},
                BEE:{xiu: [918354945.5,284162414.7,93932382.72,806017056],xie: [918354945.5,284162414.7,93932382.72,806017056]},
                ELP:{xiu: [956753144.3,286264777.1,86203430.26,808215130.6],xie: [956753144.3,286264777.1,86203430.26,808215130.6]},
                RED:{xiu: [921850374.1,268852107.2,94978636.29,798153411.5],xie: [921850374.1,268852107.2,94978636.29,798153411.5]},
        },
        "泰州市":{BAU:{xiu: [1418638942,595496.7416,22161354.16,2028508123],xie: [1418638942,595496.7416,22161354.16,2028508123]},
                BEE:{xiu: [1367682800,854408.3683,19329479.96,2147042874],xie: [1367682800,854408.3683,19329479.96,2147042874]},
                ELP:{xiu: [1429162205,961425.1741,18855498.7,2212589719],xie: [1429162205,961425.1741,18855498.7,2212589719]},
                RED:{xiu: [1396144627,814708.5856,19301084.77,1910579469],xie: [1396144627,814708.5856,19301084.77,1910579469]},
        },
        "淮安市":{BAU:{xiu: [2714513757,179515513.4,124262814.8,4545579301],xie: [2714513757,179515513.4,124262814.8,4545579301]},
                BEE:{xiu: [2665645075,204376207.8,167352516.6,4596899792],xie: [2665645075,204376207.8,167352516.6,4596899792]},
                ELP:{xiu: [2724417261,193652088.2,109155481.3,4649102113],xie: [2724417261,193652088.2,109155481.3,4649102113]},
                RED:{xiu: [2686077846,221279684.9,167508690.1,4401445435],xie: [2686077846,221279684.9,167508690.1,4401445435]},
        },
        "徐州市":{BAU:{xiu: [3135311836,33843201.77,252497679.9,772432036.5],xie: [3135311836,33843201.77,252497679.9,772432036.5]},
                BEE:{xiu: [3061650262,44891823.93,323064097.1,757165172.7],xie: [3061650262,44891823.93,323064097.1,757165172.7]},
                ELP:{xiu: [3180172153,39711865.31,237677574.7,761670575.3],xie: [3180172153,39711865.31,237677574.7,761670575.3]},
                RED:{xiu: [3062319324,51062551.03,324222839.3,742069992.8],xie: [3062319324,51062551.03,324222839.3,742069992.8]},
        },
        "连云港市":{BAU:{xiu:[1986430535,81018626.25,227804785.3,2016456431],xie:[1986430535,81018626.25,227804785.3,2016456431]},
                BEE:{xiu: [1961399032,82325266.93,263932204.8,2044068931],xie: [1961399032,82325266.93,263932204.8,2044068931]},
                ELP:{xiu: [2013698986,87603611.96,221685621.7,2058932598],xie: [2013698986,87603611.96,221685621.7,2058932598]},
                RED:{xiu: [1972370443,61439729.03,262550669.5,1988841330],xie: [1972370443,61439729.03,262550669.5,1988841330]},
        },
        "宿迁市":{BAU:{xiu:[2347820867,968329.4841,65363544.58,3367668829],xie: [2347820867,968329.4841,65363544.58,3367668829]},
                BEE:{xiu: [2318652369,3559171.829,69256962.07,3402473845],xie: [2318652369,3559171.829,69256962.07,3402473845]},
                ELP:{xiu: [2361867686,3999321.595,59082746.84,3431311544],xie: [2361867686,3999321.595,59082746.84,3431311544]},
                RED:{xiu: [2331595252,3572980.449,69180513.48,3296591680],xie: [2331595252,3572980.449,69180513.48,3296591680]},
        },

        //------------------------------浙江省（数据）
        "杭州市":{BAU:{xiu: [995363847.4,22093137371,128605128.1,2497569498],xie: [995363847.4,22093137371,128605128.1,2497569498]},
                BEE:{xiu: [965956752.8,21808215467,152659137.2,2536645803],xie: [965956752.8,21808215467,152659137.2,2536645803]},
                ELP:{xiu: [914454199.8,22934543240,80044971.04,2536645803],xie: [914454199.8,22934543240,80044971.04,2536645803]},
                RED:{xiu: [1026314492,21089033153,153505532.5,2536645803],xie: [1026314492,21089033153,153505532.5,2536645803]},
        },
        "宁波市":{BAU:{xiu: [1026665615,8092316104,19923599.89,4282320289],xie: [1026665615,8092316104,19923599.89,4282320289]},
                BEE:{xiu: [996478844.3,8013348053,19659306.12,4310642937],xie: [996478844.3,8013348053,19659306.12,4310642937]},
                ELP:{xiu: [1069219433,8087909428,25370017.29,4310642937],xie: [1069219433,8087909428,25370017.29,4310642937]},
                RED:{xiu: [1058442078,7834605814,19576304.78,4310642937],xie: [1058442078,7834605814,19576304.78,4310642937]},
        },
        "嘉兴市":{BAU:{xiu: [930954447.1,43982183.33,6480657.882,2196269388],xie: [930954447.1,43982183.33,6480657.882,2196269388]},
                BEE:{xiu: [878110611,42104210.9,5821015.59,2234908680],xie: [878110611,42104210.9,5821015.59,2234908680]},
                ELP:{xiu: [986554171.1,45680643.68,11271801.48,2234921686],xie: [986554171.1,45680643.68,11271801.48,2234921686]},
                RED:{xiu: [986587039.5,38981736.52,6038348.067,2234903477],xie: [986587039.5,38981736.52,6038348.067,2234903477]},
        },
        "湖州市":{BAU:{xiu: [907818261.8,4039315017,40444591.06,1232784326],xie: [907818261.8,4039315017,40444591.06,1232784326]},
                BEE:{xiu: [886900376.7,4011078114,42448636.76,1256474109],xie: [886900376.7,4011078114,42448636.76,1256474109]},
                ELP:{xiu: [897197663.6,4234888240,45516410.27,1256474109],xie: [897197663.6,4234888240,45516410.27,1256474109]},
                RED:{xiu: [928800303.4,3931826987,41989945.1,1256474109],xie: [928800303.4,3931826987,41989945.1,1256474109]},
        },
        "绍兴市":{BAU:{xiu: [836534627.5,8843753630,8355833.073,1123465879],xie: [836534627.5,8843753630,8355833.073,1123465879]},
                BEE:{xiu: [820577340.8,8755050503,7960484.547,1152360806],xie: [820577340.8,8755050503,7960484.547,1152360806]},
                ELP:{xiu: [807415763.4,9147503588,13578365.26,1152360806],xie: [807415763.4,9147503588,13578365.26,1152360806]},
                RED:{xiu: [853130003.4,8505054053,7855640.739,1152360806],xie: [853130003.4,8505054053,7855640.739,1152360806]},
        },
        "金华市":{BAU:{xiu: [2041216321,4042237.601,32567180.64,3927600758],xie: [2041216321,4042237.601,32567180.64,3927600758]},
                BEE:{xiu: [2026683583,5297882.836,28224657.07,3984174653],xie: [2026683583,5297882.836,28224657.07,3984174653]},
                ELP:{xiu: [2063612633,3623557.529,28070727.84,4016467622],xie: [2063612633,3623557.529,28070727.84,4016467622]},
                RED:{xiu: [2020151525,48372557.6,28201822.89,3863392461],xie: [2020151525,48372557.6,28201822.89,3863392461]},
        },
        "舟山市":{BAU:{xiu: [745506593.6,989427.906,18170365.1,2005412897],xie: [745506593.6,989427.906,18170365.1,2005412897]},
                BEE:{xiu: [726978457.7,1390333.824,18315160.66,2052830444],xie: [726978457.7,1390333.824,18315160.66,2052830444]},
                ELP:{xiu: [751952236.9,1512383.015,16440877.52,2085284716],xie: [751952236.9,1512383.015,16440877.52,2085284716]},
                RED:{xiu: [736150251.4,1407318.016,18285073.27,1929480679],xie: [736150251.4,1407318.016,18285073.27,1929480679]},
        },
        "台州市":{BAU:{xiu: [416950763.7,59037050,24735863.15,597709316.8],xie: [416950763.7,59037050,24735863.15,597709316.8]},
                BEE:{xiu: [410298827,65025359.97,23105234.14,588008332.1],xie: [410298827,65025359.97,23105234.14,588008332.1]},
                ELP:{xiu: [427454215.5,65506447.08,21204087.26,589611879.1],xie: [427454215.5,65506447.08,21204087.26,589611879.1]},
                RED:{xiu: [411860500.1,61521876.73,23362588.77,582271619.2],xie: [411860500.1,61521876.73,23362588.77,582271619.2]},
        },
        "丽水市":{BAU:{xiu: [633813643.3,136268.514,5451190.121,1479844216],xie: [633813643.3,136268.514,5451190.121,1479844216]},
                BEE:{xiu: [611047668.8,195515.694,4754613.343,1566318095],xie: [611047668.8,195515.694,4754613.343,1566318095]},
                ELP:{xiu: [638515183,220004.5284,4638024.711,1614136054],xie: [638515183,220004.5284,4638024.711,1614136054]},
                RED:{xiu: [623763726.2,186431.1264,4747628.77,1393812499],xie: [623763726.2,186431.1264,4747628.77,1393812499]},
        },
        "温州市":{BAU:{xiu: [1212779237,41078834.76,30565832.01,3316106630],xie: [1212779237,41078834.76,30565832.01,3316106630]},
                BEE:{xiu: [1190945889,46767748.99,41164920.63,3353546131],xie: [1190945889,46767748.99,41164920.63,3353546131]},
                ELP:{xiu: [1217203884,44313730.79,26849770.86,3391628948],xie: [1217203884,44313730.79,26849770.86,3391628948]},
                RED:{xiu: [1200074758,50635799.88,41203335.77,3210957597],xie: [1200074758,50635799.88,41203335.77,3210957597]},
        },
        "衢州市":{BAU:{xiu: [1400781664,7744396.388,62108698.24,563507273.3],xie: [1400781664,7744396.388,62108698.24,563507273.3]},
                BEE:{xiu: [1367871450,10272671.05,79466435.21,552369738.4],xie: [1367871450,10272671.05,79466435.21,552369738.4]},
                ELP:{xiu: [1420824171,9087332.468,58463288.72,555656535.2],xie: [1420824171,9087332.468,58463288.72,555656535.2]},
                RED:{xiu: [1368170371,11684728.84,79751459.49,541357450.8],xie: [1368170371,11684728.84,79751459.49,541357450.8]},
        },
        //------------------------浙江数据-------------------------------

        "安庆市":{BAU:{xiu: [2345769395,9684459098,88796006.29,3790427553],xie: [2345769395,9684459098,88796006.29,3790427553]},
                BEE:{xiu: [2336334279,9719954102,88990403.86,3803759052],xie: [2336334279,9719954102,88990403.86,3803759052]},
                ELP:{xiu: [2242645229,10309976559,86710054.8,3859561458],xie: [2242645229,10309976559,86710054.8,3859561458]},
                RED:{xiu: [2382566156,9407596684,119239976.9,3497379082],xie: [2382566156,9407596684,119239976.9,3497379082]},
        },
        "滁州市":{BAU:{xiu: [3923043331,1427391447,456220525.8,2195738291],xie: [3923043331,1427391447,456220525.8,2195738291]},
                BEE:{xiu: [3911202188,1478241614,437365053.3,2214771771],xie: [3911202188,1478241614,437365053.3,2214771771]},
                ELP:{xiu: [3847758351,1984727224,411812693.6,2283627340],xie: [3847758351,1984727224,411812693.6,2283627340]},
                RED:{xiu: [3966325273,1363530128,447600413.2,1970954902],xie: [3966325273,1363530128,447600413.2,1970954902]},
        },
        "铜陵市":{BAU:{xiu: [643790053.1,1126215542,33932205.68,1190936019],xie: [643790053.1,1126215542,33932205.68,1190936019]},
                BEE:{xiu: [637562130.8,1131243598,33410171.75,1223189143],xie: [637562130.8,1131243598,33410171.75,1223189143]},
                ELP:{xiu: [607575124.4,1305135288,32326787.52,1252721341],xie: [607575124.4,1305135288,32326787.52,1252721341]},
                RED:{xiu: [654590786,1063099887,27000512.43,1089039141],xie: [654590786,1063099887,27000512.43,1089039141]},
        },
        "合肥市":{BAU:{xiu: [3063992063,954821482.8,257680536.5,3422072368],xie: [3063992063,954821482.8,257680536.5,3422072368]},
                BEE:{xiu: [3046531062,988699154.9,251126717.2,3423755388],xie: [3046531062,988699154.9,251126717.2,3423755388]},
                ELP:{xiu: [3084231388,1031070842,244553239.7,3487044244],xie: [3084231388,1031070842,244553239.7,3487044244]},
                RED:{xiu: [3114700674,871785197.6,215225417,3195301610],xie: [3114700674,871785197.6,215225417,3195301610]},
        },
        "池州市":{BAU:{xiu: [835428082.1,10526970065,51833164.27,1146800301],xie: [835428082.1,10526970065,51833164.27,1146800301]},
                BEE:{xiu: [830192215.5,10551167909,51640950.94,1174168244],xie: [830192215.5,10551167909,51640950.94,1174168244]},
                ELP:{xiu: [747081088.9,11016213913,50095599.44,1194247433],xie: [747081088.9,11016213913,50095599.44,1194247433]},
                RED:{xiu: [842606974.6,10373214766,67312890.16,1145307173],xie: [842606974.6,10373214766,67312890.16,1145307173]},
        },
        "宣城市":{BAU:{xiu: [1532228164,13699595844,176077240.5,1313913574],xie: [1532228164,13699595844,176077240.5,1313913574]},
                BEE:{xiu: [1515505438,13849301772,137122369.4,1370277854],xie: [1515505438,13849301772,137122369.4,1370277854]},
                ELP:{xiu: [1461926849,14190315486,132348707.6,1411289448],xie: [1461926849,14190315486,132348707.6,1411289448]},
                RED:{xiu: [1548284358,13057984460,272494068.5,1402140788],xie: [1548284358,13057984460,272494068.5,1402140788]},
        },
        "芜湖市":{BAU:{xiu: [1506025128,1343478316,78465631.86,1566325033],xie: [1506025128,1343478316,78465631.86,1566325033]},
                BEE:{xiu: [1472438088,1410015051,70060667.1,1682312980],xie: [1472438088,1410015051,70060667.1,1682312980]},
                ELP:{xiu: [1511094756,1274937608,66878225.92,1767572147],xie: [1511094756,1274937608,66878225.92,1767572147]},
                RED:{xiu: [1528270371,1318486477,73676680.39,1308536753],xie: [1528270371,1318486477,73676680.39,1308536753]},
        },
        "马鞍山市":{BAU:{xiu: [980132304.4,663501465.5,98541003.75,1463187350],xie: [980132304.4,663501465.5,98541003.75,1463187350]},
                BEE:{xiu: [958303604.3,717874550.9,80523188.2,1536428657],xie: [958303604.3,717874550.9,80523188.2,1536428657]},
                ELP:{xiu: [986461044,640705194.3,77111401.57,1586305374],xie: [986461044,640705194.3,77111401.57,1586305374]},
                RED:{xiu: [1000799550,601096953.6,111022856.9,1297957395],xie: [1000799550,601096953.6,111022856.9,1297957395]},
        },
        "亳州市":{BAU:{xiu: [2752961433,2822136.876,62975088.55,148121618.8],xie: [2752961433,2822136.876,62975088.55,148121618.8]},
                BEE:{xiu: [2693446578,6731702.64,63292896.34,137292524.3],xie: [2693446578,6731702.64,63292896.34,137292524.3]},
                ELP:{xiu: [2774266786,5866937.762,62224800.05,139623263.9],xie: [2774266786,5866937.762,62224800.05,139623263.9]},
                RED:{xiu: [2770475228,3781836.022,46311475.82,110070214.9],xie: [2770475228,3781836.022,46311475.82,110070214.9]},
        },
        "阜阳市":{BAU:{xiu: [3094349902,1449905.184,58443870.22,559291645.9],xie: [3094349902,1449905.184,58443870.22,559291645.9]},
                BEE:{xiu: [3008885138,1606978.246,59294634.04,555285687.3],xie: [3008885138,1606978.246,59294634.04,555285687.3]},
                ELP:{xiu: [314464201.3,1738160.143,58065995.66,569025605],xie: [314464201.3,1738160.143,58065995.66,569025605]},
                RED:{xiu: [3144399609,1190993.544,40585474.93,432638323.2],xie: [3144399609,1190993.544,40585474.93,432638323.2]},
        },
        "宿州市":{BAU:{xiu: [3151074420,19489142.18,149147961.7,2443494260],xie: [3151074420,19489142.18,149147961.7,2443494260]},
                BEE:{xiu: [3089275212,29945720.28,168099572.2,147666396.3],xie: [3089275212,29945720.28,168099572.2,147666396.3]},
                ELP:{xiu: [3172705296,58099772.02,118070509.7,150509586.3],xie: [3172705296,58099772.02,118070509.7,150509586.3]},
                RED:{xiu: [3171160482,13615300.11,119142974.4,104807842.1],xie: [3171160482,13615300.11,119142974.4,104807842.1]},
        },
        //
        "六安市":{BAU:{xiu: [2783456661,11906200208,281795037.1,1637503199],xie: [2783456661,11906200208,281795037.1,1637503199]},
                BEE:{xiu: [2771718538,11971245716,219878215.7,1708863889],xie: [2771718538,11971245716,219878215.7,1708863889]},
                ELP:{xiu: [2700144777,12552191654,207425829.3,1754885589],xie: [2700144777,12552191654,207425829.3,1754885589]},
                RED:{xiu: [2825567388,11378576259,370307237.7,1318280327],xie: [2825567388,11378576259,370307237.7,1318280327]},
        },
        "蚌埠市":{BAU:{xiu: [1872637895,7284047.472,37160577.2,904402375.6],xie: [1872637895,7284047.472,37160577.2,904402375.6]},
                BEE:{xiu: [1852389387,10591212.15,37208630.61,910307262.6],xie: [1852389387,10591212.15,37208630.61,910307262.6]},
                ELP:{xiu: [1879479260,13204493.64,33268250.83,923251191.1],xie: [1879479260,13204493.64,33268250.83,923251191.1]},
                RED:{xiu: [1884184497,5516544.01,26919739.83,814515428.6],xie: [1884184497,5516544.01,26919739.83,814515428.6]},
        },
        "淮南市":{BAU:{xiu: [1622980359,29990598.3,75257103.81,1407337468],xie: [1622980359,29990598.3,75257103.81,1407337468]},
                BEE:{xiu: [1607633034,34982414.72,76250935.74,1423161004],xie: [1607633034,34982414.72,76250935.74,1423161004]},
                ELP:{xiu: [1624705949,40533480.28,70156889.4,1469390807],xie: [1624705949,40533480.28,70156889.4,1469390807]},
                RED:{xiu: [1648050406,21829703.41,60710025.45,1222139922],xie: [1648050406,21829703.41,60710025.45,1222139922]},
        },
        "淮北市":{BAU:{xiu: [810979455.2,10328848.36,58537792.8,172284832.6],xie: [810979455.2,10328848.36,58537792.8,172284832.6]},
                BEE:{xiu: [798212298.5,20371167.84,59183237.49,155964453.3],xie: [798212298.5,20371167.84,59183237.49,155964453.3]},
                ELP:{xiu: [818023403.8,422006986.3,44832741.27,158893485.4],xie: [818023403.8,422006986.3,44832741.27,158893485.4]},
                RED:{xiu: [821282114.9,5345662.327,49892547.13,91941951.77],xie: [821282114.9,5345662.327,49892547.13,91941951.77]},
        },
        "黄山市":{BAU:{xiu: [352142120.3,16155680708,42212738.2,311419057.4],xie: [352142120.3,16155680708,42212738.2,311419057.4]},
                BEE:{xiu: [354213776.9,16164128132,21240700.23,326014793.4],xie: [354213776.9,16164128132,21240700.23,326014793.4]},
                ELP:{xiu: [281403342.8,1.6607E+11,19761965.69,324547676.1],xie: [281403342.8,1.6607E+11,19761965.69,324547676.1]},
                RED:{xiu: [361048189.5,15560038945,95275718.4,262983376.4],xie: [361048189.5,15560038945,95275718.4,262983376.4]},
        },//倒数5市供给正确，后面的服务复制的

        "上海市":{BAU:{xiu: [437900616,151829997.7,24238819,1067429398],xie: [437900616,151829997.7,24238819,1067429398]},
                BEE:{xiu: [428148053.8,164272269.3,19806851.05,1120860645],xie: [428148053.8,164272269.3,19806851.05,1120860645]},
                ELP:{xiu: [440728151.6,146613494.1,18967630.06,1157246877],xie: [440728151.6,146613494.1,18967630.06,1157246877]},
                RED:{xiu: [447134267.1,137549883.2,27309067.62,946890281.1],xie: [447134267.1,137549883.2,27309067.62,946890281.1]},
        },     
    },
    //调节服务 (元/公顷)----------------------------------------
    TJFW: {
        "南京市":{BAU:{xiu: [4798588337,1607532572,654380111.1,17599319861],xie: [4504529796,1541143566,641010308.5,17539810067]},
                BEE:{xiu: [4759984694,1628681280,675912167.3,17660661149],xie: [4468291793,1561418860,662102437.9,17600943938]},
                ELP:{xiu: [4919104496,1719308510,585901472.7,17835546843],xie: [4617660699,1648303303,573930774.2,17775238279]},
                RED:{xiu: [4851188355,1364362455,674039575.9,17042794718],xie: [4553906474,1308016058,660268105.8,16985166741]},
        },
        "无锡市":{BAU:{xiu:[2393632328,1774885677,75568126.93,22408350839],xie: [2246950017,1701585204,74024175.75,22332579938]},
                BEE:{xiu: [2288450967,1800150166,63923463.52,22404905644],xie: [2148214192,1725806303,62617427.36,22329146392]},
                ELP:{xiu: [2453512745,1795304470,66710384.85,22441836460],xie: [2303160948,1721160728,65347408.4,22365952332]},
                RED:{xiu: [2282820254,1860949758,64008581.31,22257455471],xie: [2142928530,1784094951,62700806.09,22182194802]},
        },
        "苏州市":{BAU:{xiu:[3500918898,738015041.7,72092026.04,69356998412],xie: [3286381823,707535979.3,70619095.94,69122476811]},
                BEE:{xiu: [3374701472,754256835.2,61339726.6,69377879659],xie: [3167899029,723107007.9,60086479.41,69143287451]},
                ELP:{xiu: [3707944900,737120306.7,60625835.42,69430460907],xie: [3480721227,706678195.8,59387173.92,69195690903]},
                RED:{xiu: [3376023294,790710219.8,61218914.25,69174781173],xie: [3169139850,758054915.1,59968135.4,68940875716]},
        },
        "常州市":{BAU:{xiu:[3161159736,919886397.7,131375196.9,11584008241],xie: [2967443177,881896284.7,128691037.6,11544838435]},
                BEE:{xiu: [3085698625,983031138,118549867.3,11572202144],xie: [2896606340,942433229.3,116127745.5,11533072259]},
                ELP:{xiu: [3229769989,960168306,112069932,11679759472],xie: [3031848979,920514602.5,109780203.4,11640265896]},
                RED:{xiu: [3078800041,1099577426,118805220.7,11183819355],xie: [2890130502,1054166307,116377881.7,11146002736]},
        },
        "南通市":{BAU:{xiu:[7720278285,18351484.29,116669038.6,26559349447],xie: [7247177946,17593591.83,114285344.5,26469542488]},
                BEE:{xiu: [7274519145,18101900.33,89631783.13,26833473582],xie: [6828735024,17354315.37,87800493.91,26742739708]},
                ELP:{xiu: [7942813392,18280847.32,89519207.99,26839712748],xie: [7456076053,17525872.08,87690218.81,26748957776]},
                RED:{xiu: [7276225894,18422121.25,89590597.1,26798223349],xie: [6830337183,17661311.58,87760149.36,26707608669]},
        },
        "盐城市":{BAU:{xiu: [14998839675,48193248.7,332868236.2,43478285180],xie: [14079707505,46202930.15,326067322.5,43331269057]},
                BEE:{xiu: [14892053244,63163576.79,288483425,44104554527],xie: [13979464970,60555003.13,282589348.5,43955420756]},
                ELP:{xiu: [15163407584,43201569.63,286910118.7,44462035591],xie: [14234190657,41417400.93,281048186.8,44311693045]},
                RED:{xiu: [14844055740,576717879.8,288250037.5,42767503502],xie: [13934408764,552900180.7,282360729.4,42622890794]},
        },
        "扬州市":{BAU:{xiu: [5477975930,11796373.66,185718790,22199790458],xie: [5142284369,11309198.75,181924323.2,22124724776]},
                BEE:{xiu: [5341831349,16576141.82,187198741.3,22724699628],xie: [5014482758,15891568.7,183374037.3,22647859035]},
                ELP:{xiu: [5525338461,18031263.36,168041746.1,23083966312],xie: [5186744514,17286595.62,164608443.4,23005910906]},
                RED:{xiu: [5409225609,16778634.47,186891218.9,21359225739],xie: [5077747083,16085698.66,183072798,21287002317]},
        },
        "镇江市":{BAU:{xiu: [3063750565,703864422.2,252824560.7,6616603298],xie: [2876003262,674795736.1,247659039.3,6594230122]},
                BEE:{xiu: [3014872193,775259560.3,236157947.4,6509214029],xie: [2830120166,743242347.8,231332945.7,6487203975]},
                ELP:{xiu: [3140929838,780995282.1,216726378.7,6526965189],xie: [2948452971,748741191.7,212298388.2,6504895112]},
                RED:{xiu: [3026347353,733489566.6,238788361.8,6445708989],xie: [2840892126,703197400.5,233909617.5,6423913669]},
        },
        "泰州市":{BAU:{xiu: [4657257108,1624650.264,55716460.71,16381779312],xie: [4371859376,1557554.319,54578103.86,16326386472]},
                BEE:{xiu: [4489972926,2331019.944,48596769.07,17339039530],xie: [4214826405,2234751.849,47603876.41,17280409840]},
                ELP:{xiu: [4691803981,2622986.078,47405119.95,17868381239],xie: [4404289209,2514660.161,46436574.17,17807961649]},
                RED:{xiu: [4583410405,2222709.926,48525379.96,15429413793],xie: [4302538015,2130914.894,47533945.86,15377241252]},
        },
        "淮安市":{BAU:{xiu: [8911491230,489759063.1,312412508.2,36709084923],xie: [8365393102,469532650.1,306029530.6,36584957963]},
                BEE:{xiu: [8751059981,557584679.7,420745494.4,37123537759],xie: [8214793115,534557156.9,412149138.7,36998009381]},
                ELP:{xiu: [8944003493,528326847.6,274430751.8,37545112067],xie: [8395913006,506507635.2,268823788.9,37418158191]},
                RED:{xiu: [8818138829,603701201.6,421138134.6,35545091958],xie: [8277761357,578769126.3,412533756.7,35424900888]},
        },
        "徐州市":{BAU:{xiu: [10292931415,92331935.44,634811255.6,6237988900],xie: [9662178330,88518746.47,621841269.2,6216895958]},
                BEE:{xiu: [10051107455,122475084.2,812224196.3,6114697111],xie: [9435173396,117417022.4,795629442,6094021064]},
                ELP:{xiu: [10440203581,108342981.5,597551627.6,6151081739],xie: [9800425626,103868557.2,585342901.9,6130282662]},
                RED:{xiu: [10053303921,139310228.3,815137421.5,5992791804],xie: [9437235262,133556896.9,798483146.3,5972527964]},
        },
        "连云港市":{BAU:{xiu: [6521263061,221037200.3,572730180.5,16284452535],xie: [6121638637,211908651.1,561028587.9,16229388793]},
                BEE:{xiu: [6439087010,224602012.6,663559104.2,16507444924],xie: [6044498352,215326241.3,650001763.3,16451627163]},
                ELP:{xiu: [6610782799,239002535.8,557345825.6,16627480583],xie: [6205672586,229132041.6,545958554.6,16571256936]},
                RED:{xiu: [6475105110,167621525.1,660085749.1,16061439138],xie: [6078309255,160698973.9,646599373.1,16007129486]},
        },
        "宿迁市":{BAU:{xiu: [7707673247,2641822.603,164332257.7,27196542586],xie: [7235345347,2532718.762,160974744.5,27104581041]},
                BEE:{xiu: [7611915835,9710228.534,174120804,27477620134],xie: [7145455971,9309208.712,170563298.6,27384708163]},
                ELP:{xiu: [7753787621,10911056.99,148541534,27710506958],xie: [7278633822,10460444.51,145506645,27616807510]},
                RED:{xiu: [7654406092,9747901.584,173928602.6,26622539377],xie: [7185342415,9345325.914,170375024.1,26532518750]},
        },

        //------------------------------浙江省（数据）
        "杭州市":{BAU:{xiu: [3267686783,60275089890,323329551.7,20169810496],xie: [3067442223,57785806993,316723525.3,20101612370]},
                BEE:{xiu: [3171146031,59497758312,383804371.7,20485381962],xie: [2976817510,57040578199,375962769.2,20416116826]},
                ELP:{xiu: [3002067947,62570635949,201243177.3,20485381962],xie: [2818100568,59986549982,197131528,20416116826]},
                RED:{xiu: [3369294866,57535665834,385932316.6,20485381962],xie: [3162823741,55159517591,378047237.5,20416116826]},
        },
        "宁波市":{BAU:{xiu: [3370447570,22077673822,50090449.08,34583057158],xie: [3163905807,21165894579,49067038.67,34466124989]},
                BEE:{xiu: [3271347214,21862231069,49425981.14,34811784499],xie: [3070878342,20959349332,48416146.64,34694078958]},
                ELP:{xiu: [3510147790,22065651410,63783431.02,34811784499],xie: [3295045167,21154368677,62480255.9,34694078958]},
                RED:{xiu: [3474766737,21374581697,49217305.25,34811784499],xie: [3261832273,20491839245,48211734.26,34694078958]},
        },
        "嘉兴市":{BAU:{xiu: [3056236722,119993372.1,16293193.27,17736578458],xie: [2868949868,115037801.7,15960302.99,17676607572]},
                BEE:{xiu: [2882755331,114869837.4,14634769.15,18048620699],xie: [2706099455,110125862.3,14335762.55,17987594736]},
                ELP:{xiu: [3238765436,124627157.2,28338734.03,18048725735],xie: [3040293183,119480217.5,27759738.32,17987699417]},
                RED:{xiu: [3238873340,106351019,15181170.47,18048578684],xie: [3040394474,101958860.1,14871000.21,17987552863]},
        },
        "湖州市":{BAU:{xiu: [2980282781,11020167560,101682815.4,9955689426],xie: [2797650401,10565048959,99605308.5,9922027267]},
                BEE:{xiu: [2911611313,10943130883,106721239.6,10147002789],xie: [2733187136,10491193796,104540791.5,10112693762]},
                ELP:{xiu: [2945416346,11553735671,114434010.1,10147002789],xie: [2764920590,11076581399,112095980.4,10112693762]},
                RED:{xiu: [3049164869,10726915833,105568030.8,10147002789],xie: [2862311380,10283908147,103411144.2,10112693762]},
        },
        "绍兴市":{BAU:{xiu: [2746265250,24127765835,21007620.78,9072858190],xie: [2577973516,23131320455,20578408.86,9042181058]},
                BEE:{xiu: [2693878965,23885763583,20013664.6,9306207134],xie: [2528797474,22899312581,19604760.45,9274741003]},
                ELP:{xiu: [2650670732,24956464616,34137726.98,9306207134],xie: [2488237051,23925795053,33440250.6,9274741003]},
                RED:{xiu: [2800746323,23203716565,19750074.01,9306207134],xie: [2629115977,22245433220,19346555.34,9274741003]},
        },
        "金华市":{BAU:{xiu: [2041216321,4042237.601,32567180.64,3927600758],xie: [2041216321,4042237.601,32567180.64,3927600758]},
                BEE:{xiu: [2026683583,5297882.836,28224657.07,3984174653],xie: [2026683583,5297882.836,28224657.07,3984174653]},
                ELP:{xiu: [2063612633,3623557.529,28070727.84,4016467622],xie: [2063612633,3623557.529,28070727.84,4016467622]},
                RED:{xiu: [2020151525,48372557.6,28201822.89,3863392461],xie: [2020151525,48372557.6,28201822.89,3863392461]},
        },
        "舟山市":{BAU:{xiu: [745506593.6,989427.906,18170365.1,2005412897],xie: [745506593.6,989427.906,18170365.1,2005412897]},
                BEE:{xiu: [726978457.7,1390333.824,18315160.66,2052830444],xie: [726978457.7,1390333.824,18315160.66,2052830444]},
                ELP:{xiu: [751952236.9,1512383.015,16440877.52,2085284716],xie: [751952236.9,1512383.015,16440877.52,2085284716]},
                RED:{xiu: [736150251.4,1407318.016,18285073.27,1929480679],xie: [736150251.4,1407318.016,18285073.27,1929480679]},
        },
        "台州市":{BAU:{xiu: [416950763.7,59037050,24735863.15,597709316.8],xie: [416950763.7,59037050,24735863.15,597709316.8]},
                BEE:{xiu: [410298827,65025359.97,23105234.14,588008332.1],xie: [410298827,65025359.97,23105234.14,588008332.1]},
                ELP:{xiu: [427454215.5,65506447.08,21204087.26,589611879.1],xie: [427454215.5,65506447.08,21204087.26,589611879.1]},
                RED:{xiu: [411860500.1,61521876.73,23362588.77,582271619.2],xie: [411860500.1,61521876.73,23362588.77,582271619.2]},
        },
        "丽水市":{BAU:{xiu: [633813643.3,136268.514,5451190.121,1479844216],xie: [633813643.3,136268.514,5451190.121,1479844216]},
                BEE:{xiu: [611047668.8,195515.694,4754613.343,1566318095],xie: [611047668.8,195515.694,4754613.343,1566318095]},
                ELP:{xiu: [638515183,220004.5284,4638024.711,1614136054],xie: [638515183,220004.5284,4638024.711,1614136054]},
                RED:{xiu: [623763726.2,186431.1264,4747628.77,1393812499],xie: [623763726.2,186431.1264,4747628.77,1393812499]},
        },
        "温州市":{BAU:{xiu: [1212779237,41078834.76,30565832.01,3316106630],xie: [1212779237,41078834.76,30565832.01,3316106630]},
                BEE:{xiu: [1190945889,46767748.99,41164920.63,3353546131],xie: [1190945889,46767748.99,41164920.63,3353546131]},
                ELP:{xiu: [1217203884,44313730.79,26849770.86,3391628948],xie: [1217203884,44313730.79,26849770.86,3391628948]},
                RED:{xiu: [1200074758,50635799.88,41203335.77,3210957597],xie: [1200074758,50635799.88,41203335.77,3210957597]},
        },
        "衢州市":{BAU:{xiu: [1400781664,7744396.388,62108698.24,563507273.3],xie: [1400781664,7744396.388,62108698.24,563507273.3]},
                BEE:{xiu: [1367871450,10272671.05,79466435.21,552369738.4],xie: [1367871450,10272671.05,79466435.21,552369738.4]},
                ELP:{xiu: [1420824171,9087332.468,58463288.72,555656535.2],xie: [1420824171,9087332.468,58463288.72,555656535.2]},
                RED:{xiu: [1368170371,11684728.84,79751459.49,541357450.8],xie: [1368170371,11684728.84,79751459.49,541357450.8]},
        },
        //------------------------浙江数据-------------------------------

        "安庆市":{BAU:{xiu: [7700948969,26421442369,223244754.3,30610684223],xie: [7229033135,25330271128,218683585.3,30507183434]},
                BEE:{xiu: [7669974336,26518280943,223733495.2,30718346569],xie: [7199956634,25423110395,219162340.6,30614481752]},
                ELP:{xiu: [7362401650,28127998552,218000399.9,31168994890],xie: [6911232070,26966348758,213546379.6,31063606342]},
                RED:{xiu: [7821749413,25666097724,299784871.5,28244087299],xie: [7342430902,24606121236,293659892.3,28148588443]},
        },
        "滁州市":{BAU:{xiu: [12878996787,3894253719,1146997973,17732313979],xie: [12089769052,3733426100,1123563372,17672357511]},
                BEE:{xiu: [12840123384,4032984724,1099592853,17886024298],xie: [12053277820,3866427695,1077126798,17825548105]},
                ELP:{xiu: [12631842999,5414794510,1035350884,18442087184],xie: [11857760902,5191170532,1014197373,18379730833]},
                RED:{xiu: [13021087492,3720025283,1125325884,15917011287],xie: [12223152408,3566393072,1102334071,15863192718]},
        },
        "铜陵市":{BAU:{xiu: [2113504574,3072576252,85309995.77,9617745200],xie: [1983988552,2945682845,83567006.06,9585225698]},
                BEE:{xiu: [2093058868,3086293952,83997534.3,9878214551],xie: [1964795764,2958834021,82281359.81,9844814351]},
                ELP:{xiu: [1994614235,3560710665,81273764.88,10116710281],xie: [1872383840,3413657941,79613240.4,10082503679]},
                RED:{xiu: [2148962405,2900382161,67882813.82,8794847754],xie: [2017273519,2780600146,66495883.19,8765110631]},
        },
        "合肥市":{BAU:{xiu: [10058809093,2604973652,647842515.4,27635926340],xie: [9442403076,2497391624,634606284,27542483797]},
                BEE:{xiu: [10001486206,2697399770,631365357.8,27649518055],xie: [9388592948,2586000664,618465775.4,27556029555]},
                ELP:{xiu: [10125252969,2812999522,614838777.1,28160625347],xie: [9504775256,2696826297,602276853.3,28065408693]},
                RED:{xiu: [10225280883,2378431477,541104801.3,25804574081],xie: [9598673438,2280205347,530049354.7,25717323703]},
        },
        "池州市":{BAU:{xiu: [2742634908,28720006980,130315343.1,9261314561],xie: [2574565642,27533908008,127652837.9,9230000222]},
                BEE:{xiu: [2725446031,28786024291,129832093.7,9482332228],xie: [2558430103,27597198889,127179461.9,9450270584]},
                ELP:{xiu: [2452599712,30054777255,125946878.2,9644487476],xie: [2302303866,28813554005,123373626.3,9611877553]},
                RED:{xiu: [2766202563,28300526991,169233395.2,9249256379],xie: [2596689066,27131751997,165775745.7,9217982810]},
        },
        "宣城市":{BAU:{xiu: [5030166617,37375663256,442681173.7,10610885700],xie: [4721916909,35832096925,433636644.7,10575008193]},
                BEE:{xiu: [4975267417,37784095623,344743541.3,11066071595],xie: [4670381943,36223661566,337700000.4,11028655014]},
                ELP:{xiu: [4799373752,38714459837,332741932.3,11397272482],xie: [4505267081,37115602948,325943599.3,11358736045]},
                RED:{xiu: [5082877652,35625199133,685085669,11323389853],xie: [4771397800,34153924697,671088513.5,11285103228]},
        },
        "芜湖市":{BAU:{xiu: [4944144417,3665319306,197272844.1,12649306787],xie: [4641166167,3513946381,193242313.6,12606536974]},
                BEE:{xiu: [4833881199,3846846895,176141665.2,13586000707],xie: [4537659904,3687977117,172542871.1,13540063746]},
                ELP:{xiu: [4960787549,3478324415,168140592.6,14274535546],xie: [4656789405,3334674136,164705270.4,14226270512]},
                RED:{xiu: [5017173540,3597135795,185232794.8,10567463638],xie: [4709720050,3448578760,181448257.6,10531732949]},
        },
        "马鞍山市":{BAU:{xiu: [3217685795,1810185324,247744950.4,11816388865],xie: [3020505307,1735427022,242683211.8,11776435312]},
                BEE:{xiu: [3146024145,1958527666,202445809.4,12407870037],xie: [2953235098,1877643018,198309588.8,12365916570]},
                ELP:{xiu: [3238462475,1747991828,193868132.3,12810663758],xie: [3040008788,1675802037,189907164.4,12767348366]},
                RED:{xiu: [3285534496,1639931395,279125959.1,10482027002],xie: [3084196225,1572204359,273423067.3,10446585191]},
        },
        "亳州市":{BAU:{xiu: [9037715918,7699429.512,158327334.6,1196197141],xie: [8483882714,7381453.077,155092509.5,1192152357]},
                BEE:{xiu: [8842334195,18365611.68,159126343.6,1108743791],xie: [8300474025,17607135.78,155875193.7,1104994719]},
                ELP:{xiu: [9107659407,16006336.95,156441014.5,1127566323],xie: [8549540050,15345296.03,153244729.2,1123753605]},
                RED:{xiu: [9095212074,10317706.46,116432905.4,888902494.4],xie: [8537855493,9891598.588,114054035.8,885896787.2]},
        },
        "阜阳市":{BAU:{xiu: [10158462456,3955670.208,146935278.8,4516714530],xie: [9535949659,3792306.168,143933207.7,4501441852]},
                BEE:{xiu: [9877889599,4384201.147,149074206.6,4484363303],xie: [9272570368,4203139.336,146028434.5,4469200016]},
                ELP:{xiu: [1032356677,4742095.118,145985254.4,4595323811],xie: [969093634.7,4546252.751,143002593.4,4579785326]},
                RED:{xiu: [10322770982,3249300.528,102037015.2,3493890558],xie: [9690189322,3115108.638,99952271.61,3482076425]},
        },
        "宿州市":{BAU:{xiu: [10344683765,53170800.38,374976832.7,19733114396],xie: [9710759286,50974915.41,367315587.9,19666389456]},
                BEE:{xiu: [10141802723,81698717.19,422623577.4,1192520865],xie: [9520310838,78324666.32,413988850.1,1188488512]},
                ELP:{xiu: [10415695917,158509356.2,296844189,1215481834],xie: [9777419797,151963125.7,290779291.7,1211371842]},
                RED:{xiu: [10410624436,37145626.91,299540501.1,846404745.6],xie: [9772659097,35611560.78,293420514.7,843542738.8]},
        },
        //
        "六安市":{BAU:{xiu: [9137828911,32482814720,708468350.8,13224108174],xie: [8577860760,31141316677,693993457.9,13179394844]},
                BEE:{xiu: [9099293745,32660273620,552801633.7,13800401078],xie: [8541687038,31311446755,541507206.2,13753739187]},
                ELP:{xiu: [8864323756,34245225908,521494759.8,14172062000],xie: [8321116061,32830942573,510839970.8,14124143450]},
                RED:{xiu: [9276074504,31043336913,930999213.9,10646135928],xie: [8707634633,29761287433,911977737.7,10610139233]},
        },
        "蚌埠市":{BAU:{xiu: [6147695753,19872533.66,93426389.32,7303750522],xie: [5770963615,19051823.84,91517571.55,7279055095]},
                BEE:{xiu: [6081221788,28895229.04,93547201.67,7351437064],xie: [5708563190,27701893.63,91635915.56,7326580398]},
                ELP:{xiu: [6170155318,36024853.68,83640588.71,7455969324],xie: [5792046853,34537074.03,81931707.06,7430759214]},
                RED:{xiu: [6185602171,15050383.32,67679629.41,6577843720],xie: [5806547119,14428822.04,66296850.09,6555602727]},
        },
        "淮南市":{BAU:{xiu: [5328093321,81821154.6,189205873.8,11365341405],xie: [5001586599,78442047.23,185340161.6,11326912934]},
                BEE:{xiu: [5277709482,95439962.03,191704492.9,11493128732],xie: [4954290292,91498415.6,187787730.8,11454268187]},
                ELP:{xiu: [5333758273,110584528,176383289.9,11866470237],xie: [5006904402,106017530.6,172779559.1,11826347350]},
                RED:{xiu: [5410395951,59556382.29,152632679.6,9869727607],xie: [5078845706,57096781.08,149514203.4,9836356103]},
        },
        "淮北市":{BAU:{xiu: [2662370000,28179441.1,147171412.1,1391333625],xie: [2499219386,27015666.8,144164516.4,1386629251]},
                BEE:{xiu: [2620456614,55577166.42,148794141.6,1259533907],xie: [2459874461,53281901.66,145754091.6,1255275173]},
                ELP:{xiu: [2685494627,1151330778,112715179.8,1283188112],xie: [2520926930,1103782313,110412268,1278849399]},
                RED:{xiu: [2696192672,14584179.33,125436171.4,742502559],xie: [2530969397,13981871.67,122873353.9,739992010.7]},
        },
        "黄山市":{BAU:{xiu: [1156049775,44076361386,106128160.8,2514950385],xie: [1085206793,42256064929,103959830,2506446839]},
                BEE:{xiu: [1162850831,44099407874,53401805.85,2632822272],xie: [1091591078,42278159627,52310740.29,2623920179]},
                ELP:{xiu: [2685494627,1151330778,112715179.8,1283188112],xie: [2520926930,1103782313,110412268,1278849399]},
                RED:{xiu: [1185287571,42451315555,239535201.8,2123794701],xie: [1112652890,40698131380,234641198.6,2116613730]},
        },

        "上海市":{BAU:{xiu: [437900616,151829997.7,24238819,1067429398],xie: [437900616,151829997.7,24238819,1067429398]},
                BEE:{xiu: [428148053.8,164272269.3,19806851.05,1120860645],xie: [428148053.8,164272269.3,19806851.05,1120860645]},
                ELP:{xiu: [440728151.6,146613494.1,18967630.06,1157246877],xie: [867209008.7,4.34366E+11,48668972.47,2612112130]},
                RED:{xiu: [447134267.1,137549883.2,27309067.62,946890281.1],xie: [912652890,40698131380,234641198.6,2116613730]},
        },     
    },
    //系统总服务 (元/公顷)---------------------------------
    XTFW: {
        "南京市":{BAU:{xiu: [10762147161,2797282619,1187265369,27209048430],xie: [6749002527,2383553974,1018136036,22345792526]},
                BEE:{xiu: [10675567930,2834083686,1226331753,27303883805],xie: [6694708209,2414912024,1051637303,22423677337]},
                ELP:{xiu: [11032437619,2991784985,1063022113,27574262056],xie: [6918503182,2549288707,911591585.6,22645729068]},
                RED:{xiu: [10880117092,2374140001,1222934243,26348644751],xie: [6822982130,2022995744,1048723778,21639174573]},
        },
        "无锡市":{BAU:{xiu: [5368375355,3088495338,137105970.3,34643946928],xie: [3366538136,2631695234,117574834.4,28451801699]},
                BEE:{xiu: [5132477377,3132458314,115978638.8,34638620558],xie: [3218605198,2669155920,99457151.38,28447427346]},
                ELP:{xiu: [5502673571,3124026272,121035050.3,34695716650],xie: [3450757296,2661971009,103793262.7,28494318270]},
                RED:{xiu: [5119848961,3238256260,116133071,34410658403],xie: [3210685848,2759305951,99589584.34,28260210397]},
        },
        "苏州市":{BAU:{xiu: [7851768422,1284226948,130799155.5,107227889697.02],xie: [4923887783,1094284941,112166443.3,88062329057]},
                BEE:{xiu: [7568691314,1312489446,111290871.9,107260172697.82],xie: [4746368549,1118367309,95437170.31,88088841900]},
                ELP:{xiu: [8316080872,1282670011,109995633.5,107341464801.42],xie: [5215060711,1092958281,94326442.27,88155604120]},
                RED:{xiu: [7571655862,1375922325,111071677.7,106946176669.99],xie: [4748227634,1172418226,95249200.95,87830968490]},
        },
        "常州市":{BAU:{xiu: [7089765550,1600703013,238358744.4,17909205795.50],xie: [4446031531,1363953003,204403862.5,14708173203]},
                BEE:{xiu: [6920523364,1710581772,215089287.7,17890953233.69],xie: [4339898812,1457580279,184449206.1,14693183045]},
                ELP:{xiu: [7243642814,1670797942,203332508,18057239917.85],xie: [4542528821,1423680628,174367213.2,14829748193]},
                RED:{xiu: [6905051401,1913385070,215552584.5,17290502410.10],xie: [4330196258,1630388204,184846505,14200054828]},
        },
        "南通市":{BAU:{xiu: [17314836196,31933591.22,211676832.6,41061508689],xie: [10858230380,27210492.69,181522865,33722309560]},
                BEE:{xiu: [16315099374,31499287.82,162622167.6,41485312389],xie: [10231289841,26840424.4,139456176.7,34070363978]},
                ELP:{xiu: [17813932056,31810675.16,162417918.4,41494958316],xie: [11171216178,27105756.38,139281023.4,34078285824]},
                RED:{xiu: [16318927224,32056507.27,162547442.3,41430814526],xie: [10233690307,27315229,139392096.2,34025606885]},
        },
        "盐城市":{BAU:{xiu: [33639001409,83861527.47,603934811.8,67218663930.77],xie: [21095205459,71458091.4,517902578,55204220829]},
                BEE:{xiu: [33399503623,109911536.8,523405852.8,68186894131.58],xie: [20945015061,93655206.17,448845198.5,55999392745]},
                ELP:{xiu: [34008089969,75175459.54,520551346.5,68739570011.34],xie: [21326662954,64056725.67,446397324.8,56453285154]},
                RED:{xiu: [33291856089,1003552232,522982409.5,66119775266.99],xie: [20877508692,855123073.8,448482075.9,54301743914]},
        },
        "扬州市":{BAU:{xiu: [12285859708,20526981.27,336956279.6,34321506654.89],xie: [7704531167,17490963.35,288955898,28186993340]},
                BEE:{xiu: [11980518239,28844301.02,339641408.6,35133031142.60],xie: [7513049828,24578120.16,291258522.7,28853468608]},
                ELP:{xiu: [12392083142,31376371.77,304884183.2,35688467641.14],xie: [7771144475,26735688.09,261452563.1,29309628212]},
                RED:{xiu: [12131668305,29196660.38,339083459.7,33021969722.60],xie: [7607836878,24878364.24,290780055.2,27119731369]},
        },
        "镇江市":{BAU:{xiu: [6871298835,1224801132,458708692.8,10229456650.36],xie: [4309029835,1043648427,393364333.2,8401077184]},
                BEE:{xiu: [6761675712,1349036487,428469857,10063429789.14],xie: [4240284563,1149508904,367433105.7,8264725418]},
                ELP:{xiu: [7044394468,1359017270,393214463,10090873587.60],xie: [4417579072,1158013493,337199943,8287264002]},
                RED:{xiu: [6787411898,1276352126,433242312.5,9965249194.18],xie: [4256423869,1087574835,371525711.3,8184093300]},
        },
        "泰州市":{BAU:{xiu: [10445173215,2827069.277,101088378.4,25326696156.55],xie: [6550226397,2408935.073,86688051.02,20799885712]},
                BEE:{xiu: [10069992671,4056229.832,88170865.82,26806647645.58],xie: [6314948585,3456298.148,75610674.9,22015315535]},
                ELP:{xiu: [10522654028,4564282.861,86008813.97,27625024963.44],xie: [6598815048,3889208.219,73756613.49,22687418781]},
                RED:{xiu: [10279551780,3867758.546,88041341.98,23854312010.77],xie: [6446364272,3295702.476,75499602.1,19590670670]},
        },
        "淮安市":{BAU:{xiu: [19986457122,852234373.6,566821248.9,56753288047.26],xie: [12533618767,726185696.8,486075947.8,46609391840]},
                BEE:{xiu: [19626646154,970258370.1,763373681.9,57394043905.03],xie: [12307979302,826753499.3,654628927,47135621101]},
                ELP:{xiu: [20059374766,919346539.9,497909582.3,58045809760.06],xie: [12579345829,783371720.7,426980944.4,47670892469]},
                RED:{xiu: [19777088824,1050506166,764086063,54953721859.25],xie: [12402322740,895132343.3,655239827.4,45131474199]},
        },
        "徐州市":{BAU:{xiu: [23084714676,160667673.3,1151760891,9644108035.39],xie: [9171868431,327740853.4,891098653.4,20676310256]},
                BEE:{xiu: [22542358287,213120051.4,1473647569,9453495428.10],xie: [9056291445,333026545.7,1032417436,20959442884]},
                ELP:{xiu: [23415012800,188528645.9,1084159408,9509747095.48],xie: [9297773989,354378787.6,867162464.3,21111851724]},
                RED:{xiu: [22547284463,242415044.7,1478933139,9265026360.10],xie: [9106949313,248539257.7,1027013316,20393150956]},
        },
        "连云港市":{BAU:{xiu: [14625716525,384628920.9,1039124964,25176226194.11],xie: [14476553365,136904318.7,987689272,7920351857]},
                BEE:{xiu: [14441414249,390832084.5,1203919146,25520978762.93],xie: [14136438648,181598792.4,1263722277,7763808721]},
                ELP:{xiu: [14826489030,415890571,1011212575,25706557300.68],xie: [14683685161,160644548.4,929717812.7,7810006150]},
                RED:{xiu: [14522194693,291679799.7,1197617313,24831441147.42],xie: [14139527880,206560945.7,1268254901,7609025995]},
        },
        "宿迁市":{BAU:{xiu: [17286565949,4597060.476,298153925.1,42046627381.63],xie: [10840501950,3917137.901,255681049.4,34531351374]},
                BEE:{xiu: [17071803756,16896860.43,315913636.7,42481181255.47],xie: [10705823381,14397751.07,270910839.5,34888234516]},
                ELP:{xiu: [17389990049,18986433.37,269504247.1,42841230900.12],xie: [10905359780,16178268.3,231112599.7,35183930071]},
                RED:{xiu: [17167099782,16962415.66,315564918.7,41159202116.40],xie: [10765584050,14453610.44,270611797.4,33802541584]},
        },

        //------------------------------浙江省（数据）
        "杭州市":{BAU:{xiu: [7328681595.97,104885253486.59,586628433.63,31183105314.31],xie: [4595857116,89372329080,503061542.7,25609539542]},
                BEE:{xiu: [7112162547.45,103532611462.24,696350074.39,31670987847.41],xie: [4460076813,88219747911,597153023.3,26010219554]},
                ELP:{xiu: [6732958688.52,108879754875.02,365122733.99,31670987847.41],xie: [4222275957,92776028654,313109960.8,26010219554]},
                RED:{xiu: [7556565521.04,100118355799.81,700210881.27,31670987847.41],xie: [4738764397,85310473532,600463847.2,26010219554]},
        },
        "宁波市":{BAU:{xiu: [7559150774.49,38417568840.20,90880903.17,53466397894.19],xie: [4740385624,32735465575,77934659.71,43909989632]},
                BEE:{xiu: [7336891113.67,38042674870.92,89675335.09,53820016920.97],xie: [4601005351,32416019837,76900828.23,44200403956]},
                ELP:{xiu: [7872466738.36,38396648527.55,115724572.75,53820016920.97],xie: [4936867813,32717639456,99239277.81,44200403956]},
                RED:{xiu: [7793115048.12,37194111590.17,89296726.93,53820016920.97],xie: [4887105925,31692962265,76576153.88,44200403956]},
        },
        "嘉兴市":{BAU:{xiu: [6854446984.93,208801600.68,29561326.50,27421258819.61],xie: [4298461946,177919056.8,25350231.36,22520073128]},
                BEE:{xiu: [6465367504.37,199886089.45,26552387.98,27903685070.88],xie: [4054468033,170322183.3,22769924.7,22916272096]},
                ELP:{xiu: [7263817563.67,216864893.92,51415984.30,27903847460.22],xie: [4555180520,184789758.5,44091630.92,22916405461]},
                RED:{xiu: [7264059567.60,185062413.16,27543743.55,27903620115.14],xie: [4555332282,157690984.6,23620058.85,22916218751]},
        },
        "湖州市":{BAU:{xiu: [6684099492.61,19176297706.63,184486788.75,15391781291.09],xie: [4191636083,16340050981,158206120.3,12640704882]},
                BEE:{xiu: [6530084938.14,19042245456.50,193628183.11,15687557234.96],xie: [4095052697,16225825565,166045297,12883614806]},
                ELP:{xiu: [6605901974.92,20104764617.86,207621739.93,15687557234.96],xie: [4142597983,17131194136,178045431.8,12883614806]},
                RED:{xiu: [6838586420.12,18666007605.02,191535874.86,15687557234.96],xie: [4288515697,15905234710,164251044,12883614806]},
        },
        "绍兴市":{BAU:{xiu: [6159251157.21,41984953324.57,38114881.88,14026898888.39],xie: [3862500764,35775220445,32685308.42,11519777075]},
                BEE:{xiu: [6041760579.45,41563842918.43,36311511.44,14387663046.13],xie: [3788821767,35416393856,31138833.23,11816059433]},
                ELP:{xiu: [5944854296.94,43426979904.48,61937305.77,14387663046.13],xie: [3728051296,37003965858,53114160.18,11816059433]},
                RED:{xiu: [6281439868.81,40377006458.54,35833269.56,14387663046.13],xie: [3939125986,34405094983,30728718.26,11816059433]},
        },
        "金华市":{BAU:{xiu: [2041216321,4042237.601,32567180.64,3927600758],xie: [2041216321,4042237.601,32567180.64,3927600758]},
                BEE:{xiu: [2026683583,5297882.836,28224657.07,3984174653],xie: [2026683583,5297882.836,28224657.07,3984174653]},
                ELP:{xiu: [2063612633,3623557.529,28070727.84,4016467622],xie: [2063612633,3623557.529,28070727.84,4016467622]},
                RED:{xiu: [2020151525,48372557.6,28201822.89,3863392461],xie: [2020151525,48372557.6,28201822.89,3863392461]},
        },
        "舟山市":{BAU:{xiu: [745506593.6,989427.906,18170365.1,2005412897],xie: [745506593.6,989427.906,18170365.1,2005412897]},
                BEE:{xiu: [726978457.7,1390333.824,18315160.66,2052830444],xie: [726978457.7,1390333.824,18315160.66,2052830444]},
                ELP:{xiu: [751952236.9,1512383.015,16440877.52,2085284716],xie: [751952236.9,1512383.015,16440877.52,2085284716]},
                RED:{xiu: [736150251.4,1407318.016,18285073.27,1929480679],xie: [736150251.4,1407318.016,18285073.27,1929480679]},
        },
        "台州市":{BAU:{xiu: [416950763.7,59037050,24735863.15,597709316.8],xie: [416950763.7,59037050,24735863.15,597709316.8]},
                BEE:{xiu: [410298827,65025359.97,23105234.14,588008332.1],xie: [410298827,65025359.97,23105234.14,588008332.1]},
                ELP:{xiu: [427454215.5,65506447.08,21204087.26,589611879.1],xie: [427454215.5,65506447.08,21204087.26,589611879.1]},
                RED:{xiu: [411860500.1,61521876.73,23362588.77,582271619.2],xie: [411860500.1,61521876.73,23362588.77,582271619.2]},
        },
        "丽水市":{BAU:{xiu: [633813643.3,136268.514,5451190.121,1479844216],xie: [633813643.3,136268.514,5451190.121,1479844216]},
                BEE:{xiu: [611047668.8,195515.694,4754613.343,1566318095],xie: [611047668.8,195515.694,4754613.343,1566318095]},
                ELP:{xiu: [638515183,220004.5284,4638024.711,1614136054],xie: [638515183,220004.5284,4638024.711,1614136054]},
                RED:{xiu: [623763726.2,186431.1264,4747628.77,1393812499],xie: [623763726.2,186431.1264,4747628.77,1393812499]},
        },
        "温州市":{BAU:{xiu: [1212779237,41078834.76,30565832.01,3316106630],xie: [1212779237,41078834.76,30565832.01,3316106630]},
                BEE:{xiu: [1190945889,46767748.99,41164920.63,3353546131],xie: [1190945889,46767748.99,41164920.63,3353546131]},
                ELP:{xiu: [1217203884,44313730.79,26849770.86,3391628948],xie: [1217203884,44313730.79,26849770.86,3391628948]},
                RED:{xiu: [1200074758,50635799.88,41203335.77,3210957597],xie: [1200074758,50635799.88,41203335.77,3210957597]},
        },
        "衢州市":{BAU:{xiu: [1400781664,7744396.388,62108698.24,563507273.3],xie: [1400781664,7744396.388,62108698.24,563507273.3]},
                BEE:{xiu: [1367871450,10272671.05,79466435.21,552369738.4],xie: [1367871450,10272671.05,79466435.21,552369738.4]},
                ELP:{xiu: [1420824171,9087332.468,58463288.72,555656535.2],xie: [1420824171,9087332.468,58463288.72,555656535.2]},
                RED:{xiu: [1368170371,11684728.84,79751459.49,541357450.8],xie: [1368170371,11684728.84,79751459.49,541357450.8]},
        },
        //------------------------浙江数据-------------------------------

        "安庆市":{BAU:{xiu: [17271484916,45976201535,405040986.3,47324995445],xie: [10831044550,39176147998,347341744.4,38866281275]},
                BEE:{xiu: [17202015829,46144711252,405927726.5,47491444518],xie: [10787480098,39319734493,348102165.9,39002979788]},
                ELP:{xiu: [16512199934,48945796075,395525965.5,48188159743],xie: [10354892702,41706528310,339182165.3,39575166422]},
                RED:{xiu: [17542412962,44661819181,543910473.6,43666168747],xie: [11000945039,38056167750,466428877.7,35861421238]},
        },
        "滁州市":{BAU:{xiu: [28884673778,6776427695,2081039672,27414665812],xie: [18113740076,5774168492,1784589644,22514658533]},
                BEE:{xiu: [28797489537,7017834828,1995030858,27652306373],xie: [18059066353,5979870600,1710833031,22709824000]},
                ELP:{xiu: [28330363791,9422335094,1878474343,28511995539],xie: [17766129191,8028736212,1610880324,23415855150]},
                RED:{xiu: [29203351059,6473251147,2041719222,24608155805],xie: [18313584377,5515832898,1750870504,20209774902]},
        },
        "铜陵市":{BAU:{xiu: [4740112228,5346618971,154780993.3,14869309829],xie: [2972550824,4555833868,132732000.1,12211618252]},
                BEE:{xiu: [4694257139,5370489269,152399747.3,15272002914],xie: [2943794841,4576173659,130689969.3,12542335299]},
                ELP:{xiu: [4473468117,6196026275,147457914.5,15640724149],xie: [2805336814,5279610630,126452114.6,12845152512]},
                RED:{xiu: [4819636113,5046982405,123162230.4,13597086783],xie: [3022420696,4300514680,105617419.9,11166788173]},
        },
        "合肥市":{BAU:{xiu: [22559631317,4532939267,1175403974,42725934469],xie: [14147270661,3862500460,1007964331,35089241345]},
                BEE:{xiu: [22431069060,4693770828,1145508875,42746947649],xie: [14066648552,3999544427,982327873.3,35106498698]},
                ELP:{xiu: [22708649887,4894927050,1115524105,43537134178],xie: [14240721038,4170948886,956614519.3,35755449883]},
                RED:{xiu: [22932989851,4138731088,981745900.8,39894611370],xie: [14381405881,3526597157,841893401.5,32763979632]},
        },
        "池州市":{BAU:{xiu: [6203966036,49246014443,307046235.1,14299615546],xie: [3857394848,42584323304,202754858.5,11759059487]},
                BEE:{xiu: [5500625845,52298601904,228509950.6,14910654155],xie: [3833219451,42682209857,202002981.1,12039684864]},
                ELP:{xiu: [6112558362,50090832881,235559036.7,14659957491],xie: [3449473156,44563441517,195958057.4,12245572829]},
                RED:{xiu: [6151109121,49975955536,236435813.5,14318257842],xie: [3890541714,41962343250,263306624.5,11743749254]},
        },
        "宣城市":{BAU:{xiu: [11281524811,65037744812,803172373.7,16404733516],xie: [7074707150,55418417163,688758181.9,13472605355]},
                BEE:{xiu: [11158398335,65748461834,625480605.1,17108463960],xie: [6997493849,56024016458,536379111.7,14050553332]},
                ELP:{xiu: [10763908670,67367397395,603705654.3,17620510027],xie: [6750107180,57403505346,517706064.6,14471077968]},
                RED:{xiu: [11399743728,61991745652,1242975567,17506285365],xie: [7148842892,52822932762,1065910158,14377269447]},
        },
        "芜湖市":{BAU:{xiu: [11088596491,6378056759,357919215.6,19556190960],xie: [6953720724,5434718119,306932604.1,16060781652]},
                BEE:{xiu: [10841301059,6693934633,319580157.8,21004346616],xie: [6798640379,5703876465,274055054.3,17250098725]},
                ELP:{xiu: [11125923270,6052665183,305063524,22068841217],xie: [6977128555,5157453184,261606356.2,18124329059]},
                RED:{xiu: [11252384281,6259409988,336074521.2,16337601763],xie: [7056432961,5333619653,288199748.6,13417472511]},
        },
        "马鞍山市":{BAU:{xiu: [7216540701,3149920588,449492573.2,18268475971],xie: [4525532935,2684035458,385461076.1,15003228609]},
                BEE:{xiu: [7055819846,3408052499,367304712.6,19182922823],xie: [4424743990,2903988686,314981110.3,15754230235]},
                ELP:{xiu: [7263138091,3041697098,351741924.6,19805653464],xie: [4554754419,2591818630,301635285.8,16265656047]},
                RED:{xiu: [7368709976,2853660117,506428265.9,16205514274],xie: [4620959136,2431593027,434286117.2,13308993906]},
        },
        "亳州市":{BAU:{xiu: [20269550519,13397850.05,287258977.1,1849354759.66],xie: [12711148216,11416257.52,246338117.8,1518807167]},
                BEE:{xiu: [19831353550,31958174.43,288708647.8,1714149395.17],xie: [12436352452,27231439.95,247581278.8,1407767965]},
                ELP:{xiu: [20426417927,27852778.18,283836558.6,1743249564.90],xie: [12809520643,23733247.28,243403232.6,1431666866]},
                RED:{xiu: [20398501379,17953938.51,211248407.6,1374268506.55],xie: [12792014020,15298483.32,181155470.3,1128636270]},
        },
        "阜阳市":{BAU:{xiu: [22783131248,6883299.108,266589960.7,6982968965.08],xie: [14287428715,5865233.22,228613461.6,5734856039]},
                BEE:{xiu: [22153869855,7628989.845,270470694.3,6932953048.36],xie: [13892815384,6500633.486,231941373.7,5693779803]},
                ELP:{xiu: [2315342285,8251764.526,264866297.2,7104501147.13],xie: [1451964064,7031297.444,227135338.9,5834665958]},
                RED:{xiu: [23151638068,5654138.553,185129426.3,5401654050.02],xie: [14518521398,4817870.145,158757212.3,4436180156]},
        },
        "宿州市":{BAU:{xiu: [23200783480,92523012.18,680333952.9,30507955394.33],xie: [14549340760,78838509.87,583418443.9,25055063700]},
                BEE:{xiu: [22745767239,142164709.8,766781155.3,1843671132.76],xie: [14263997536,121138013.3,657550996.1,1514139413]},
                ELP:{xiu: [23360047658,275823628.5,538575087.6,1879169442.48],xie: [14649216214,235028274,461853532.6,1543292872]},
                RED:{xiu: [23348673474,64637456.39,543467103.5,1308565779.59],xie: [14642083400,55077332.9,466048667,1074677032]},
        },
        //
        "六安市":{BAU:{xiu: [20494081294,56523652840,1285399608,20444850384],xie: [12851952717,48163591492,1102290773,16790605011]},
                BEE:{xiu: [20407655642,56832450749,1002967884,21335815737],xie: [12797754710,48426717026,860092253.1,17522322144]},
                ELP:{xiu: [19880671157,59590441203,946166697.3,21910414177],xie: [12467279799,50776790294,811382556.8,17994218748]},
                RED:{xiu: [20804134858,54018803906,1689145355,16459231379],xie: [13046389038,46029219158,1448521789,13517362449]},
        },
        "蚌埠市":{BAU:{xiu: [13787889635,34580383.61,169506858,11291807713],xie: [8646462514,29465814.51,145360123.4,9273547108]},
                BEE:{xiu: [13638803584,50280861.1,169726052.2,11365532473],xie: [8552969819,42844132.19,145548092.8,9334094547]},
                ELP:{xiu: [13838261356,62687188.31,151752128.1,11527142344],xie: [8678050901,53415516.83,130134605.3,9466818801]},
                RED:{xiu: [13872905148,26189314.23,122793585.6,10169534984],xie: [8699776216,22315815.92,105301289.7,8351865719]},
        },
        "淮南市":{BAU:{xiu: [11949706951,142377764.3,343283021.2,17571143667],xie: [7493727898,121319556.2,294381377.3,14430535189]},
                BEE:{xiu: [11836707408,166075979.8,347816355.8,17768706539],xie: [7422865253,141512716.3,298268925.4,14592786322]},
                ELP:{xiu: [11962412157,192429182.1,320018546.2,18345903209],xie: [7501695403,163968180.6,274430993,15066816756]},
                RED:{xiu: [12134293117,103634623.6,276926959.7,15258881855],xie: [7609482912,88306672.06,237477925.7,12531559455]},
        },
        "淮北市":{BAU:{xiu: [5971093107,49035311.74,267018385.7,2151041676],xie: [3744505801,41782804.27,228980856.2,1766571555]},
                BEE:{xiu: [5877090871,96710352.47,269962562.3,1947275532],xie: [3685556474,82406526.74,231505626.5,1599225902]},
                ELP:{xiu: [6022956409,2003441566,204503204.3,1983845611],xie: [3777029567,1707125006,175371140.5,1629259566]},
                RED:{xiu: [6046949702,25378068.26,227583356.9,1147930244],xie: [3792075895,21624556.29,195163459.6,942752964.8]},
        },
        "黄山市":{BAU:{xiu: [2592757897,76697692947,192552138.9,3888185401],xie: [1625932943,65353815011,165122538.3,3193223920]},
                BEE:{xiu: [2608011125,76737796359,96888816.85,4070418719],xie: [1635498327,65387986977,83086728.97,3342885453]},
                ELP:{xiu: [2071921242,788403934875.79,90143613.6,4052101201],xie: [1299313371,671796020637.52,77302399.14,3327841948]},
                RED:{xiu: [2658331653,73869935341,434597331.1,3283447499],xie: [1667054610,62944293415,372687703.7,2696574883]},
        },

        "上海市":{BAU:{xiu: [437900616,151829997.7,24238819,1067429398],xie: [437900616,151829997.7,24238819,1067429398]},
                BEE:{xiu: [428148053.8,164272269.3,19806851.05,1120860645],xie: [428148053.8,164272269.3,19806851.05,1120860645]},
                ELP:{xiu: [440728151.6,146613494.1,18967630.06,1157246877],xie: [440728151.6,146613494.1,18967630.06,1157246877]},
                RED:{xiu: [447134267.1,137549883.2,27309067.62,946890281.1],xie: [447134267.1,137549883.2,27309067.62,946890281.1]},
        },     
    },
}

var Style2000 = { right: "900px", top: "70px", height: "270px", width: "500px", backgroundColor: "#FBF5E7" }
var Style2005 = { right: "300px", top: "70px", height: "270px", width: "500px", backgroundColor: "#FBF5E7" }
var Style2010 = { right: "900px", top: "350px", height: "270px", width: "500px", backgroundColor: "#FBF5E7" }
var Style2015 = { right: "300px", top: "350px", height: "270px", width: "500px", backgroundColor: "#FBF5E7" }
var Style2020 = { right: "500px", top: "650px", height: "270px", width: "700px", backgroundColor: "#FBF5E7" }


function YXYZDataset(value) {
    var image = pie.ImageCollection("DEM/ASTGTM_003")
                .filterBounds(selectarea)
                .select("dem")
                .mosaic()
                .clip(selectarea);
    
    switch (value) {
        //计算坡度
        case 'slope':
            var slopeimage = slope(selectarea);
            layerKey = Map.addLayer(
            slopeimage,
            { min: 0, max: 360, palette: colors1 },
            "slope",
            true
            );
        addMapLegend("slope");
            break;
        //计算坡向
        case 'aspect':
        var aspectimage = aspect(selectarea);
            layerKey = Map.addLayer(
            aspectimage,
            { min: 0, max: 90, palette: colors1 },
            "aspect",
            true
          );
        addMapLegend("aspect");
            break;
        case 'cucaodu':
        var ccdimage = cucaodu(selectarea);
            layerKey = Map.addLayer(
            ccdimage,
            { min: 0, max: 3, palette: colors1 },
            "aspect",
            true
          );
        addMapLegend("cucaodu");
            break;

        case 'RJGDP':
        // 加载1978-2017年北京市建成区长时间序列产品
        var imge = pie.ImageCollection("RESDC/CHINA_GDP")
                     .select("B1")
                     .max()
                     .clip(selectarea);
        print("imge",imge)

        // 设置图层显示参数并加载
        var visParam = {
            min: 0,
            max: 3000,
            palette: ["#0d0887","#5b02a3","#9a179b","#cb4678","#eb7852","#fbb32f",
          "#f0f921"]
        };                                                              
        Map.centerObject(imge,10)
        Map.addLayer(imge,visParam,"img")
            // 设置图层显示参数并加载
            var visParam = {
                min: 0,
                max: 33,
                palette:'#ffffff,2091ea,4befce,2edfdd,9efd9f,ebcc76,ff6032',//白，蓝，青，深青，绿，土黄，橙
            };                                                              //无    2017-1985  1-34
             var data = {
                title: "GDP（万元/平方千米）",
                colors: ["#0d0887","#5b02a3","#9a179b","#cb4678","#eb7852","#fbb32f",
          "#f0f921"],
                labels: ["0","2070711"],
                step: 20
            };
            var style = {
                right: "100px",
                bottom: "50px",
                height: "100px",
                width: "500px",
                fontSize:'30px'
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);
           /* GDP2000 = {
                title: "2000年人均GDP",legend: ["2000年人均GDP"],
                xAxis: chengshi,yAxisName: '元',
                series: [MBData["RJGDP"].year2000],chartType: 'column',
            }
            GDP2005 = {
                title: "2005年人均GDP",legend: ["2005年人均GDP"],
                xAxis: chengshi,yAxisName: '元',
                series: [MBData["RJGDP"].year2005],chartType: 'column',
            }
            GDP2010 = {
                title: "2010年人均GDP",legend: ["2010年人均GDP"],
                xAxis: chengshi,yAxisName: '元',
                series: [MBData["RJGDP"].year2010],chartType: 'column',
            }
            GDP2015 = {
                title: "2015年人均GDP",legend: ["2015年人均GDP"],
                xAxis: chengshi,yAxisName: '元',
                series: [MBData["RJGDP"].year2015],chartType: 'column',
            }
            GDP2020 = {
                title: "2020年人均GDP",legend: ["2020年人均GDP"],
                xAxis: chengshi,yAxisName: '元',
                series: [MBData["RJGDP"].year2020],chartType: 'column',
            }
            var Chart2000 = ui.Chart.array(GDP2000).setOptions({ title: { name: '2000年人均GDP' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2000.setStyle(Style2000)
                Map.addUI(Chart2000);
            var Chart2005 = ui.Chart.array(GDP2005).setOptions({ title: { name: '2005年人均GDP' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2005.setStyle(Style2005)
                Map.addUI(Chart2005);
            var Chart2010 = ui.Chart.array(GDP2010).setOptions({ title: { name: '2010年人均GDP' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2010.setStyle(Style2010)
                Map.addUI(Chart2010);
            var Chart2015 = ui.Chart.array(GDP2015).setOptions({ title: { name: '2015年人均GDP' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2015.setStyle(Style2015)
                Map.addUI(Chart2015);
            var Chart2020 = ui.Chart.array(GDP2020).setOptions({ title: { name: '2020年人均GDP' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2020.setStyle(Style2020)
                Map.addUI(Chart2020);*/
            break;
        case 'RKMD':
        var img = pie.ImageCollection('WorldPop/Global_1km_UNadj')
                    .filterDate("2019-12-01", "2020-12-01")
                    .first()
                    .select("population")
                    .clip(selectarea);
        print(img);
        //设定预览参数
        visParams = {
            min: 0,
            max: 1000000,
            palette: ['2c3395', '238443', '41ab5d', '78c679','fc4e2a']
        };
        //加载显示影像
        Map.centerObject(img, 2);
        Map.addLayer(img, visParams, "2020人口");
        //图例
        var data = {
            title: "人口（万）",
            colors: ['2c3395', '238443', '41ab5d', '78c679','fc4e2a'],
            labels: ["0", "20", "40","60", "80", "100", "120"],
            step: 30
        };
        var style = {
            left: "60%",
            top: "60%",
            height: "70px",
            width: "350px"
        };
        var legend = ui.Legend(data, style);
        Map.addUI(legend);
            /*RKMD2000 = {
                title: "2000年人口密度",legend: ["2000年人口密度"],
                xAxis: chengshi,yAxisName: '人/公顷',
                series: [MBData["RKMD"].year2000],chartType: 'column',
            }
            RKMD2005 = {
                title: "2005年人口密度",legend: ["2005年人口密度"],
                xAxis: chengshi,yAxisName: '人/公顷',
                series: [MBData["RKMD"].year2005],chartType: 'column',
            }
            RKMD2010 = {
                title: "2010年人口密度",legend: ["2010年人口密度"],
                xAxis: chengshi,yAxisName: '人/公顷',
                series: [MBData["RKMD"].year2010],chartType: 'column',
            }
            RKMD2015 = {
                title: "2015年人口密度",legend: ["2015年人口密度"],
                xAxis: chengshi,yAxisName: '人/公顷',
                series: [MBData["RKMD"].year2015],chartType: 'column',
            }
            RKMD2020 = {
                title: "2020年人口密度",legend: ["2020年人口密度"],
                xAxis: chengshi,yAxisName: '人/公顷',
                series: [MBData["RKMD"].year2020],chartType: 'column',
            }
            var Chart2000 = ui.Chart.array(RKMD2000).setOptions({ title: { name: '2000年人口密度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2000.setStyle(Style2000)
                Map.addUI(Chart2000);
            var Chart2005 = ui.Chart.array(RKMD2005).setOptions({ title: { name: '2005年人口密度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2005.setStyle(Style2005)
                Map.addUI(Chart2005);
            var Chart2010 = ui.Chart.array(RKMD2010).setOptions({ title: { name: '2010年人口密度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2010.setStyle(Style2010)
                Map.addUI(Chart2010);
            var Chart2015 = ui.Chart.array(RKMD2015).setOptions({ title: { name: '2015年人口密度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2015.setStyle(Style2015)
                Map.addUI(Chart2015);
            var Chart2020 = ui.Chart.array(RKMD2020).setOptions({ title: { name: '2020年人口密度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
                Chart2020.setStyle(Style2020)
                Map.addUI(Chart2020);*/
            break;
        case 'GLLC':
            GLLC2000 = {
                title: "2000年公路里程",legend: ["2000年公路里程"],
                xAxis: chengshi,yAxisName: '公里',
                series: [MBData["GLLC"].year2000],chartType: 'column',
            }
            GLLC2005 = {
                title: "2005年公路里程",legend: ["2005年公路里程"],
                xAxis: chengshi,yAxisName: '公里',
                series: [MBData["GLLC"].year2005],chartType: 'column',
            }
            GLLC2010 = {
                title: "2010年公路里程",legend: ["2010年公路里程"],
                xAxis: chengshi,yAxisName: '公里',
                series: [MBData["GLLC"].year2010],chartType: 'column',
            }
            GLLC2015 = {
                title: "2015年公路里程",legend: ["2015年公路里程"],
                xAxis: chengshi,yAxisName: '公里',
                series: [MBData["GLLC"].year2015],chartType: 'column',
            }
            GLLC2020 = {
                title: "2020年公路里程",legend: ["2020年公路里程"],
                xAxis: chengshi,yAxisName: '公里',
                series: [MBData["GLLC"].year2020],chartType: 'column',
            }
            var Chart2000 = ui.Chart.array(GLLC2000).setOptions({ title: { name: '2000年公路里程' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2000.setStyle(Style2000)
                Map.addUI(Chart2000);
            var Chart2005 = ui.Chart.array(GLLC2005).setOptions({ title: { name: '2005年公路里程' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2005.setStyle(Style2005)
                Map.addUI(Chart2005);
            var Chart2010 = ui.Chart.array(GLLC2010).setOptions({ title: { name: '2010年公路里程' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2010.setStyle(Style2010)
                Map.addUI(Chart2010);
            var Chart2015 = ui.Chart.array(GLLC2015).setOptions({ title: { name: '2015年公路里程' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2015.setStyle(Style2015)
                Map.addUI(Chart2015);
            var Chart2020 = ui.Chart.array(GLLC2020).setOptions({ title: { name: '2020年公路里程' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2020.setStyle(Style2020)
                Map.addUI(Chart2020);
            break;
        case 'DSCYZB':
            DSCYZB2000 = {
                title: "2000年第三产业占比",legend: ["2000年第三产业占比"],
                xAxis: chengshi,yAxisName: '百分比',
                series: [MBData["DSCYZB"].year2000],chartType: 'column',
            }
            DSCYZB2005 = {
                title: "2005年第三产业占比",legend: ["2005年第三产业占比"],
                xAxis: chengshi,yAxisName: '百分比',
                series: [MBData["DSCYZB"].year2005],chartType: 'column',
            }
            DSCYZB2010 = {
                title: "2010年第三产业占比",legend: ["2010年第三产业占比"],
                xAxis: chengshi,yAxisName: '百分比',
                series: [MBData["DSCYZB"].year2010],chartType: 'column',
            }
            DSCYZB2015 = {
                title: "2015年第三产业占比",legend: ["2015年第三产业占比"],
                xAxis: chengshi,yAxisName: '百分比',
                series: [MBData["DSCYZB"].year2015],chartType: 'column',
            }
            DSCYZB2020 = {
                title: "2020年第三产业占比",legend: ["2020年第三产业占比"],
                xAxis: chengshi,yAxisName: '百分比',
                series: [MBData["DSCYZB"].year2020],chartType: 'column',
            }
            var Chart2000 = ui.Chart.array(DSCYZB2000).setOptions({ title: { name: '2000年第三产业占比' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2000.setStyle(Style2000)
                Map.addUI(Chart2000);
            var Chart2005 = ui.Chart.array(DSCYZB2005).setOptions({ title: { name: '2005年第三产业占比' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2005.setStyle(Style2005)
                Map.addUI(Chart2005);
            var Chart2010 = ui.Chart.array(DSCYZB2010).setOptions({ title: { name: '2010年第三产业占比' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2010.setStyle(Style2010)
                Map.addUI(Chart2010);
            var Chart2015 = ui.Chart.array(DSCYZB2015).setOptions({ title: { name: '2015年第三产业占比' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2015.setStyle(Style2015)
                Map.addUI(Chart2015);
            var Chart2020 = ui.Chart.array(DSCYZB2020).setOptions({ title: { name: '2020年第三产业占比' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            Chart2020.setStyle(Style2020)
                Map.addUI(Chart2020);
            break;
        case 'JCQMJ':
        // 加载1978-2017年北京市建成区长时间序列产品
            var img = pie.ImageCollection("THU/UrbanRuralFreq_1978_2017")
                         .select("B1")
                         .max()
                         .clip(selectarea);
            print("img",img)

            // 设置图层显示参数并加载
            var visParam = {
                min: 0,
                max: 33,
                palette:'#ffffff,2091ea,4befce,2edfdd,9efd9f,ebcc76,ff6032',//白，蓝，青，深青，绿，土黄，橙
            };                                                              //无    2017-1985  1-34
            Map.centerObject(img,10)
            Map.addLayer(img,visParam,"img")
             var data = {
                title: "建成区区域（年）",
                colors: ["#ffffff","#ffffff","ff6032","ebcc76","9efd9f","2edfdd","4befce","2091ea"],
                labels: ["非建成区", "1985","1989","1993","1997","2001","2005","2009","2013","2017"],
                step: 20
            };
            var style = {
                right: "100px",
                bottom: "50px",
                height: "100px",
                width: "500px",
                fontSize:'30px'
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);










            break;

        case 'XZHDZC':

            break;
/*
        case 'CSRDQD':
            var chartLAIstyle = { right: "200px", top: "70px", height: "240px", width: "900px", backgroundColor: "#FFFFFF" }
            var chartLAI = ui.Chart.array(CSRDQD).setOptions({ title: { name: '城市热岛强度(UHII)' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            chartLAI.setStyle(chartLAIstyle)
            Map.addUI(chartLAI);
            break; 
        case 'CSRDBJWD':
            var chartGPPstyle = { right: "200px", top: "375px", height: "240px", width: "900px", backgroundColor: "#FFFFFF" }        
            var chartGPP = ui.Chart.array(CSRDBJWD).setOptions({ title: { name: '城市热岛背景温度' }, series: { 0: { lineColor: '#8C1010', showSymbol: true, color: '#E87911' } } });
            chartGPP.setStyle(chartGPPstyle)
            Map.addUI(chartGPP);
            break;         
*/    }
}
/*
//城市热岛强度
var CSRDQD = {
    legend: ['城市热岛强度(UHII)'],
    xAxis: ['安庆市', '常州市', '池州市','滁州市','杭州市','合肥市','湖州市','嘉兴市','金华市','马鞍山市','南京市','南通市',
        '宁波市','上海市','绍兴市','苏州市','台州市','泰州市','铜陵市','无锡市','芜湖市','宣城市','盐城市','扬州市','镇江市','舟山市',],    yAxisName: '°C',
    series: [
        [4.3,3.5,4.3,0.9,4.5,2.8,1.4,2.8,1.9,1.1,1.8,2.3,4.2,2.3,3.8,2.9,4.4,2.1,2.1,3.2,3.0,1.0,2.8,1.0,0.8,0.6],    ],
    chartType: "line",
};
//城市热岛背景温度
var CSRDBJWD = {
    legend: ['热岛背景温度'],
    xAxis: ['合肥市','宁波市','绍兴市','泰州市','盐城市', '常州市', '杭州市','嘉兴市','南京市','南通市','上海市','苏州市','台州市','无锡市', '扬州市'
],    yAxisName: '°C',
    series: [
        [34.09,40.05,36.52,32.34,31.66,34.55,35.75,34.41,34.17,30.84,33.17,33.82,33.96,35.30,32.76],    ],
    chartType: "line",
};*/



function YXYZDatasetCascader(value, selectData) {
    var index = parseInt(value.length);
    var dataset = selectData[index - 1].value;
    datasetvalue = dataset;
    YXYZDataset(datasetvalue);
}

//热岛影响因子
var RDYXYZlabel = ui.Label("热岛影响因素:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: '5px',width:'150px',left:'10px',fontSize:'20px' });
var RDYXYZcascader = ui.Cascader({
    placeholder: "影响因素",
    content: [{
        label : "自然影响因素",
        value : 'ziran',
        children:[
            { label: '坡度' ,value: 'slope'},
            { label: '坡向' , value: 'aspect'},
            { label: '粗糙度' , value: 'cucaodu'},
        ]},
        {
        label : "社会影响因素",
        value : 'shehui',
        children:[
            { label: '人口密度',value: 'RKMD'},
            { label: '人均GDP' ,value: 'RJGDP'},
            { label: '建成区区域' ,value: 'JCQMJ'},            
            { label: '第三产业占比',value: 'DSCYZB'},
            { label: '公路里程',value: 'GLLC'},            
        ]},
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: YXYZDatasetCascader
});


//-----------------生态质量评价模块集合----------------------------------------------------------------------
//计算生态环境质量(EI)
// 1.植被覆盖度计算
function l8FVC(img, roi) {
  var B4 = img.select("B4");
  var B5 = img.select("B5");
  var NDVI = B5.subtract(B4).divide(B5.add(B4)).rename("NDVI");

  //4.计算京津冀范围FVC
  //计算区域内NDVI最大值
  var NDVI_max = NDVI.reduceRegion(pie.Reducer.max(), roi, reduceScale).get(
    "NDVI"
  );
  NDVI_max = pie.Number(NDVI_max);
  //计算区域内NDVI最小值
  var NDVI_min = NDVI.reduceRegion(pie.Reducer.min(), roi, reduceScale).get(
    "NDVI"
  );
  NDVI_min = pie.Number(NDVI_min);
  //反演区域植被覆盖度并加载
  var img_FVC = NDVI.subtract(NDVI_min).divide(NDVI_max.subtract(NDVI_min));
  return img_FVC;
}

//2.地表温度反演
function LSTMap(image, roi) {
  var ndvi = image
    .expression("(B5-B4)/(B5+B4)", {
      B4: image.select("B4"),
      B5: image.select("B5"),
    })
    .rename("NDVI");
  var normalNdvi = ndvi.subtract(-0.3).divide(pie.Number(0.81).subtract(-0.3));
  var fv = normalNdvi.power(2.0).rename("fv"); 
  var a = pie.Number(0.025);
  var b = pie.Number(0.986);
  var EM = fv
    .multiply(a)
    .add(pie.Image(1).subtract(fv).multiply(0.02).add(pie.Image(b)))
    .rename("EMM");
  var thermal = image.select("B10").multiply(0.1);
  var EM_LOG = EM.log();
  var FenMU = thermal.divide(1.438).multiply(0.00115);
  var Fenmu2 = FenMU.multiply(EM_LOG).add(1.0);
  var LST = thermal.divide(Fenmu2).subtract(273.15).rename("LST");
  //计算最大值最小值
  var LST_max = LST.reduceRegion(pie.Reducer.max(), roi, reduceScale).get("LST");
  LST_max = pie.Number(LST_max);
  var LST_min = LST.reduceRegion(pie.Reducer.min(), roi, reduceScale).get("LST");
  LST_min = pie.Number(LST_min);
  var nORLST = LST.subtract(LST_min).divide(LST_max.subtract(LST_min));
  return nORLST;
}

//3.计算 NDBI  建筑物密度
function l8NDBI(img, roi) {
  var B5 = img.select("B5");
  var B6 = img.select("B6");
  var NDBI = B6.subtract(B5).divide(B6.add(B5)).rename("NDBI");

  //计算最大值最小值
  var NDBI_max = NDBI.reduceRegion(pie.Reducer.max(), roi, reduceScale).get(
    "NDBI"
  );
  NDBI_max = pie.Number(NDBI_max);
  var NDBI_min = NDBI.reduceRegion(pie.Reducer.min(), roi, reduceScale).get(
    "NDBI"
  );
  NDBI_min = pie.Number(NDBI_min);
  var nORNDBI = NDBI.subtract(NDBI_min).divide(NDBI_max.subtract(NDBI_min));
  return nORNDBI;
}

//4.计算 MNDWI （水体分布）
function mNDWI(image, roi) {
  var b3 = image.select("B3");
  var b6 = image.select("B6");
  var mNDWI = b3.subtract(b6).divide(b3.add(b6)).rename("mNDWI");
  var mNDWI_max = mNDWI
    .reduceRegion(pie.Reducer.max(), roi, reduceScale)
    .get("mNDWI");
  mNDWI_max = pie.Number(mNDWI_max);
  var mNDWI_min = mNDWI
    .reduceRegion(pie.Reducer.min(), roi, reduceScale)
    .get("mNDWI");
  mNDWI_min = pie.Number(mNDWI_min);
  //归一化
  var nORmNDWI = mNDWI
    .subtract(mNDWI_min)
    .divide(mNDWI_max.subtract(mNDWI_min));
  return nORmNDWI;
}

























//5.计算空气质量
function normalAQI(startDate, endDate, roi) {
  var co = normalCO(startDate, endDate, roi);
  var so2 = normalSO2(startDate, endDate, roi);
  var o3 = normalO3(startDate, endDate, roi);
  var no2 = normalNO2(startDate, endDate, roi);
var image = pie.Image("H09/AHI-L1-G/HS_H09_20230601_0800")
  var AQI5 = no2
    .multiply(0.25)
    .add(o3.multiply(0.25))
    .add(so2.multiply(0.25))
    .add(co.multiply(0.25))
    .rename("AQI5");
  //计算最大值最小值
  var AQI5_max = AQI5.reduceRegion(pie.Reducer.max(), roi, 7500).get("AQI5");
  AQI5_max = pie.Number(AQI5_max);
  var AQI5_min = AQI5.reduceRegion(pie.Reducer.min(), roi, 7500).get("AQI5");
  AQI5_min = pie.Number(AQI5_min);
  //归一化
  var NORAQI5 = AQI5.subtract(AQI5_min)
    .divide(AQI5_max.subtract(AQI5_min))
    .rename("NORAQI5");
  //加载夏季AQI影像
  return NORAQI5;
}

var selectYear = 2019; //通过滚动轴选择年份
var reduceScale = 1000; // 局部统计使用的尺度 ， 统计的区域越大， 尺度越大 ，防止内存不足

var all_region = pie.FeatureCollection("user/wu2290037415/quanguo");

function cacluateEI(startDate, endDate, img, roi) {
    print("aaa")
  var fvc = l8FVC(img, roi);//1
  var lst = LSTMap(img, roi);//2
  var ndbi = l8NDBI(img, roi);//3
  var water = mNDWI(img, roi);//4
  if (selectYear == "2020") {
      print("bbbb")
    var AQI = normalAQI(startDate, endDate, roi);//5
    var eI = fvc
      .multiply(0.2465)
      .subtract(ndbi.multiply(0.1308))
      .add(water.multiply(0.1863))
      .subtract(AQI.multiply(0.3688))
      .subtract(lst.multiply(0.0676))
      .rename("EI");
  } else {
    // 绿地0.4094，建筑0.2047，水0.2895，LST0.0965
    print("selectYear:", selectYear);
    var eI = fvc
      .multiply(0.4094)
      .subtract(ndbi.multiply(0.2047))
      .add(water.multiply(0.2895))
      .subtract(lst.multiply(0.0965))
      .rename("EI");
  }

  var eI_max = eI.reduceRegion(pie.Reducer.max(), roi, reduceScale).get("EI");
  eI_max = pie.Number(eI_max);
  var eI_min = eI.reduceRegion(pie.Reducer.min(), roi, reduceScale).get("EI");
  eI_min = pie.Number(eI_min);
  //归一化
  var norEI = eI
    .subtract(eI_min)
    .divide(eI_max.subtract(eI_min))
    .rename("norEI");
  return norEI.clip(roi);
}


//MODIS云掩膜函数
function cloudfree_mod09a1(image) {
    var qa = image.select('sur_refl_state_500m')
    var cloudState0 = 1 << 0;
    var cloudState1 = 1 << 1;
    var cloudShadowState = 1 << 2;
    var cirrusState8 = 1 << 8;
    var cirrusState9 = 1 << 9;
    var mask = qa.bitwiseAnd(cloudState0).eq(0)
        .and(qa.bitwiseAnd(cloudState1).eq(0))
        .and(qa.bitwiseAnd(cloudShadowState).eq(0)) // No cloud shadow
        .and(qa.bitwiseAnd(cirrusState8).eq(0))
        .and(qa.bitwiseAnd(cirrusState9).eq(0)) // No cirrus
    return image.updateMask(mask)
}

//modis RSEI
function RSEI1000(js,startdate,enddate){
            //筛选09A1影像准备色彩波段验证云掩膜
        var recentimage = MOD09A1
            .filterDate(startdate, enddate)
            .filterBounds(js)
            .select(["sur_refl_b01", "sur_refl_b03", "sur_refl_b04", "sur_refl_b06", "sur_refl_state_500m"])
            .map(cloudfree_mod09a1)
            .mosaic()
            .clip(js);
        var visParam = {
            min: -100,
            max: 3000,
            bands: ["sur_refl_b01", "sur_refl_b04", "sur_refl_b03"]
        }
        
        //构建水体指数函数
        function MNDWI(img) {
            var blue = img.select("sur_refl_b03")
            var green = img.select("sur_refl_b04");
            var swir1 = img.select("sur_refl_b06");
            var swir2 = img.select("sur_refl_b07");
            var nir = img.select("sur_refl_b02");
            var mndwi = green.subtract(swir1).divide(green.add(swir1)).rename(mndwi)
            var aweinsh = blue.add(green.multiply(2.5))
                .subtract(nir.add(swir1).multiply(1.5))
                .subtract(swir2.multiply(0.25))
                .rename(aweinsh);
            var awei = green.subtract(swir1)
                .multiply(4)
                .subtract(nir.multiply(0.25).add(swir2.multiply(2.75)))
                .rename(awei);
            var ndwi = green.subtract(nir)
                .divide(green.add(nir))
                .rename(ndwi);
            return mndwi
        }
        //以阈值为0创建水体掩膜
        var WaterMask = MNDWI(recentimage).lt(0);
        //筛选时间地区，水体掩膜处理
        var LST = MOD11A2.filterDate(startdate, enddate)
            .filterBounds(js)
            .select('LST_Day_1km')
            .mean()
            .clip(js)
            .multiply(0.02)
            .subtract(273.15)
            .rename('lst')
            .updateMask(WaterMask);
        var lst_max = LST.reduceRegion(pie.Reducer.max(), js, 2000).get('lst');
            lst_max = pie.Number(lst_max);
        //print(lst_max)
        var lst_min = LST.reduceRegion(pie.Reducer.min(), js, 2000).get('lst');
            lst_min = pie.Number(lst_min);
        //print(lst_min)
        var finallst = (LST.subtract(lst_min)).divide(lst_max.subtract(lst_min));
        //print(finallst)
        var NDVI = MOD13A1.filterDate(startdate,enddate)
            .filterBounds(js)
            .select('NDVI')
            .mean()
            .clip(js)
            .multiply(0.0001)
            .rename('ndvi');
        var ndvi_max = NDVI.reduceRegion(pie.Reducer.max(), js, 2000).get('ndvi');
        ndvi_max = pie.Number(ndvi_max);
        var ndvi_min = NDVI.reduceRegion(pie.Reducer.min(), js, 2000).get('ndvi');
        ndvi_min = pie.Number(ndvi_min);
        var finalndvi = (NDVI.subtract(ndvi_min)).divide(ndvi_max.subtract(ndvi_min));
        //筛选影像，去云处理，水体掩膜处理
        var srIMG0 = MOD09A1
            .filterDate(startdate, enddate)
            .filterBounds(js)
            .select(["sur_refl_b01", "sur_refl_b02", "sur_refl_b03", "sur_refl_b04",
                "sur_refl_b05", "sur_refl_b06", "sur_refl_b07", "sur_refl_state_500m"
            ])
            .map(cloudfree_mod09a1)
            .mosaic()
            .clip(js)
            .updateMask(WaterMask);
        //计算湿度
        var WET = srIMG0.select("sur_refl_b01").multiply(0.1147) //红波段
            .add(srIMG0.select("sur_refl_b02").multiply(0.2489)) //近红外波段1
            .add(srIMG0.select("sur_refl_b03").multiply(0.2408)) //蓝波段
            .add(srIMG0.select("sur_refl_b04").multiply(0.3132)) //绿波段
            .add(srIMG0.select("sur_refl_b05").multiply(-0.3122)) //近红外波段2
            .add(srIMG0.select("sur_refl_b06").multiply(-0.6416)) //短波红外1
            .add(srIMG0.select("sur_refl_b07").multiply(-0.5087)) //短波红外2
            .multiply(0.0001)
            .rename("wet");
        var wet_max = WET.reduceRegion(pie.Reducer.max(), js, 2000).get('wet');
        wet_max = pie.Number(wet_max);
        var wet_min = WET.reduceRegion(pie.Reducer.min(), js, 2000).get('wet');
        wet_min = pie.Number(wet_min);
        var finalwet = (WET.subtract(wet_min)).divide(wet_max.subtract(wet_min));

        //计算干度
        var sswir1 = srIMG0.select("sur_refl_b06");
        var rred = srIMG0.select("sur_refl_b01");
        var nnir1 = srIMG0.select("sur_refl_b02");
        var bblue = srIMG0.select("sur_refl_b03");
        var ggreen = srIMG0.select("sur_refl_b04");
        var si = sswir1.add(rred)
                .subtract(nnir1.add(bblue))
                .divide(sswir1.add(rred).add(nnir1.add(bblue)));
        var ibi = sswir1.multiply(2).divide(sswir1.add(nnir1))
            .subtract(nnir1.divide(nnir1.add(rred)).add(ggreen.divide(ggreen.add(sswir1))))
            .divide(sswir1.multiply(2).divide(sswir1.add(nnir1))
                .add(nnir1.divide(nnir1.add(rred)).add(ggreen.divide(ggreen.add(sswir1)))));
        var NDBSI = si.add(ibi).divide(2).rename('ndbsi');
        var bsi_max = NDBSI.reduceRegion(pie.Reducer.max(), js, 2000).get('ndbsi');
            bsi_max = pie.Number(bsi_max);
        var bsi_min = NDBSI.reduceRegion(pie.Reducer.min(), js, 2000).get('ndbsi');
            bsi_min = pie.Number(bsi_min);
        var finalndbsi = (NDBSI.subtract(bsi_min)).divide(bsi_max.subtract(bsi_min));
        var index = finallst.addBands(finalwet).addBands(finalndvi).addBands(finalndbsi);
        //print(index);
        var eigenDic = index.pcaEigen(js,2000);
        //print(eigenDic);
        var eigenVector = pie.Array(eigenDic.get("eigenVector"));
        //Sprint(eigenVector);
        var resultImg = index.pca(eigenVector);
        print(resultImg);
        //将主成分分析所得到的第一主成分波段进行归一化处理
        var index0 = resultImg.select('pc_0');
            print(index0);
        var rsei_max = index0.reduceRegion(pie.Reducer.max(), js, 2000).get('pc_0');
            rsei_max = pie.Number(rsei_max);
        //print(rsei_max);
        var rsei_min = index0.reduceRegion(pie.Reducer.min(), js, 2000).get('pc_0');
            rsei_min = pie.Number(rsei_min);
        //print(rsei_min)
        var finalRSEI = index0.subtract(rsei_min).divide(rsei_max.subtract(rsei_min));
            print(finalRSEI);
            layerKey = Map.addLayer(
        finalRSEI,
        { min: 0, max: 1, palette: colors2 },
        "RSEIres",
        true
      );
        return finalRSEI;
}

var StyleBAU = { right: "55%", top: "20%", height: "300px", width: "400px", backgroundColor: "#FBF5E7" }
var StyleBEE = { right: "15%", top: "20%", height: "300px", width: "400px", backgroundColor: "#FBF5E7" }
var StyleELP = { right: "55%", top: "60%", height: "300px", width: "400px", backgroundColor: "#FBF5E7" }
var StyleRED = { right: "15%", top: "60%", height: "300px", width: "400px", backgroundColor: "#FBF5E7" }

// var S5P_NO2 = pie.ImageCollection("S5P/OFFL_L3_NO2");
// // NO2 去云函数
// function cloudMaskNO2(image) {
//   var k = image.updateMask(image.select("cloud_fraction").lt(0.2));
//   return k;
// }

function STZLDataset(value) {
    var endDate = pie.Date(selectdate).advance(4, "month");
    switch (value) {
        case 'EI':
            print("11")
            var eImap = cacluateEI(startDate, endDate, l8image, roi);
            print("22")
            var viseImap = { min: 0, max: 0.85, palette: colors2 };
            layerKey = Map.addLayer(eImap, viseImap, "EI", true);
            addMapLegend("EI");
            print("33")
        break;
        case 'RSEI':
            print('开始计算')
            var RSEIres = RSEI1000(selectarea,selectdate, endDate);
            //layerKey = Map.addLayer(RSEIres,{ min: 0, max:40, palette: colors2 },"RSEI",true);
            addMapLegend("RSEI");
        break;

//供给服务   
        case 'GJFW':
        //自适应城市
    Map.addUI(ui.Label("地区："+areaname,{fontWeight: 'bold', fontSize: '20px', right: "45%", top: "110px", height: "40px", width: "140px", backgroundColor: "white" }));
    //BAU
    var column_GJFW1 = {
    title:"历史发展型供给服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["GJFW"][areaname]["BAU"].xiu,
        MBData["GJFW"][areaname]["BAU"].xie
    ],chartType:"column"
    };
    var chartGJFW1 = ui.Chart.array(column_GJFW1);
    chartGJFW1 = chartGJFW1.setStyle(StyleBAU);
    Map.addUI(chartGJFW1);
    //BEE
    var column_GJFW2 = {
    title:"经济发展型供给服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["GJFW"][areaname]["BEE"].xiu,
        MBData["GJFW"][areaname]["BEE"].xie
    ],chartType:"column"
    };
    var chartGJFW2 = ui.Chart.array(column_GJFW2);
    chartGJFW2 = chartGJFW2.setStyle(StyleBEE);
    Map.addUI(chartGJFW2);
    //ELP
    var column_GJFW3 = {
    title:"生态发展型供给服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["GJFW"][areaname]["ELP"].xiu,
        MBData["GJFW"][areaname]["ELP"].xie
    ],chartType:"column"
    };
    var chartGJFW3 = ui.Chart.array(column_GJFW3);
    chartGJFW3 = chartGJFW3.setStyle(StyleELP);
    Map.addUI(chartGJFW3);
    //RED
    var column_GJFW4 = {
    title:"协调发展型供给服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["GJFW"][areaname]["RED"].xiu,
        MBData["GJFW"][areaname]["RED"].xie
    ],chartType:"column"
    };
    var chartGJFW4 = ui.Chart.array(column_GJFW4);
    chartGJFW4 = chartGJFW4.setStyle(StyleRED);
    Map.addUI(chartGJFW4);
            break;
//文化服务
        case 'WHFW':
        //自适应城市
    Map.addUI(ui.Label("地区："+areaname,{fontWeight: 'bold', fontSize: '20px', right: "45%", top: "110px", height: "40px", width: "140px", backgroundColor: "white" }));
    //BAU
    var column_WHFW1 = {
    title:"历史发展型文化服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["WHFW"][areaname]["BAU"].xiu,
        MBData["WHFW"][areaname]["BAU"].xie
    ],chartType:"column"
    };
    var chartWHFW1 = ui.Chart.array(column_WHFW1);
    chartWHFW1 = chartWHFW1.setStyle(StyleBAU);
    Map.addUI(chartWHFW1);
    //BEE
    var column_WHFW2 = {
    title:"经济发展型文化服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["WHFW"][areaname]["BEE"].xiu,
        MBData["WHFW"][areaname]["BEE"].xie
    ],chartType:"column"
    };
    var chartWHFW2 = ui.Chart.array(column_WHFW2);
    chartWHFW2 = chartWHFW2.setStyle(StyleBEE);
    Map.addUI(chartWHFW2);
    //ELP
    var column_WHFW3 = {
    title:"生态发展型文化服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["WHFW"][areaname]["ELP"].xiu,
        MBData["WHFW"][areaname]["ELP"].xie
    ],chartType:"column"
    };
    var chartWHFW3 = ui.Chart.array(column_WHFW3);
    chartWHFW3 = chartWHFW3.setStyle(StyleELP);
    Map.addUI(chartWHFW3);
    //RED
    var column_WHFW4 = {
    title:"协调发展型文化服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["WHFW"][areaname]["RED"].xiu,
        MBData["WHFW"][areaname]["RED"].xie
    ],chartType:"column"
    };
    var chartWHFW4 = ui.Chart.array(column_WHFW4);
    chartWHFW4 = chartWHFW4.setStyle(StyleRED);
    Map.addUI(chartWHFW4);
            break;
//支持服务
        case 'ZCFW':   
        //自适应城市
    Map.addUI(ui.Label("地区："+areaname,{fontWeight: 'bold', fontSize: '20px', right: "45%", top: "110px", height: "40px", width: "140px", backgroundColor: "white" }));
    //BAU
    var column_ZCFW1 = {
    title:"历史发展型支持服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["ZCFW"][areaname]["BAU"].xiu,
        MBData["ZCFW"][areaname]["BAU"].xie
    ],chartType:"column"
    };
    var chartZCFW1 = ui.Chart.array(column_ZCFW1);
    chartZCFW1 = chartZCFW1.setStyle(StyleBAU);
    Map.addUI(chartZCFW1);
    //BEE
    var column_ZCFW2 = {
    title:"经济发展型支持服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["ZCFW"][areaname]["BEE"].xiu,
        MBData["ZCFW"][areaname]["BEE"].xie
    ],chartType:"column"
    };
    var chartZCFW2 = ui.Chart.array(column_ZCFW2);
    chartZCFW2 = chartZCFW2.setStyle(StyleBEE);
    Map.addUI(chartZCFW2);
    //ELP
    var column_ZCFW3 = {
    title:"生态发展型支持服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["ZCFW"][areaname]["ELP"].xiu,
        MBData["ZCFW"][areaname]["ELP"].xie
    ],chartType:"column"
    };
    var chartZCFW3 = ui.Chart.array(column_ZCFW3);
    chartZCFW3 = chartZCFW3.setStyle(StyleELP);
    Map.addUI(chartZCFW3);
    //RED
    var column_ZCFW4 = {
    title:"协调发展型支持服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["ZCFW"][areaname]["RED"].xiu,
        MBData["ZCFW"][areaname]["RED"].xie
    ],chartType:"column"
    };
    var chartZCFW4 = ui.Chart.array(column_ZCFW4);
    chartZCFW4 = chartZCFW4.setStyle(StyleRED);
    Map.addUI(chartZCFW4);
            break;
//调节服务
        case 'TJFW':
        //自适应城市
    Map.addUI(ui.Label("地区："+areaname,{fontWeight: 'bold', fontSize: '20px', right: "45%", top: "110px", height: "40px", width: "140px", backgroundColor: "white" }));
    //BAU
    var column_TJFW1 = {
    title:"历史发展型调节服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["TJFW"][areaname]["BAU"].xiu,
        MBData["TJFW"][areaname]["BAU"].xie
    ],chartType:"column"
    };
    var chartTJFW1 = ui.Chart.array(column_TJFW1);
    chartTJFW1 = chartTJFW1.setStyle(StyleBAU);
    Map.addUI(chartTJFW1);
    //BEE
    var column_TJFW2 = {
    title:"经济发展型调节服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["TJFW"][areaname]["BEE"].xiu,
        MBData["TJFW"][areaname]["BEE"].xie
    ],chartType:"column"
    };
    var chartTJFW2 = ui.Chart.array(column_TJFW2);
    chartTJFW2 = chartTJFW2.setStyle(StyleBEE);
    Map.addUI(chartTJFW2);
    //ELP
    var column_TJFW3 = {
    title:"生态发展型调节服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["TJFW"][areaname]["ELP"].xiu,
        MBData["TJFW"][areaname]["ELP"].xie
    ],chartType:"column"
    };
    var chartTJFW3 = ui.Chart.array(column_TJFW3);
    chartTJFW3 = chartTJFW3.setStyle(StyleELP);
    Map.addUI(chartTJFW3);
    //RED
    var column_TJFW4 = {
    title:"协调发展型调节服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["TJFW"][areaname]["RED"].xiu,
        MBData["TJFW"][areaname]["RED"].xie
    ],chartType:"column"
    };
    var chartTJFW4 = ui.Chart.array(column_TJFW4);
    chartTJFW4 = chartTJFW4.setStyle(StyleRED);
    Map.addUI(chartTJFW4);
            break;
//系统服务
        case 'XTFW':
        //自适应城市
    Map.addUI(ui.Label("地区："+areaname,{fontWeight: 'bold', fontSize: '20px', right: "45%", top: "110px", height: "40px", width: "140px", backgroundColor: "white" }));
    //BAU
    var column_XTFW1 = {
    title:"历史发展型系统服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["XTFW"][areaname]["BAU"].xiu,
        MBData["XTFW"][areaname]["BAU"].xie
    ],chartType:"column"
    };
    var chartXTFW1 = ui.Chart.array(column_XTFW1);
    chartXTFW1 = chartXTFW1.setStyle(StyleBAU);
    Map.addUI(chartXTFW1);
    //BEE
    var column_XTFW2 = {
    title:"经济发展型系统服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["XTFW"][areaname]["BEE"].xiu,
        MBData["XTFW"][areaname]["BEE"].xie
    ],chartType:"column"
    };
    var chartXTFW2 = ui.Chart.array(column_XTFW2);
    chartXTFW2 = chartXTFW2.setStyle(StyleBEE);
    Map.addUI(chartXTFW2);
    //ELP
    var column_XTFW3 = {
    title:"生态发展型系统服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["XTFW"][areaname]["ELP"].xiu,
        MBData["XTFW"][areaname]["ELP"].xie
    ],chartType:"column"
    };
    var chartXTFW3 = ui.Chart.array(column_XTFW3);
    chartXTFW3 = chartXTFW3.setStyle(StyleELP);
    Map.addUI(chartXTFW3);
    //RED
    var column_XTFW4 = {
    title:"协调发展型系统服务值",legend:["修正法","谢高地法"],xAxis:["耕地","林地","草地","水体"],xAxisName:"用地类型",yAxisName:"值",
    series:[
        MBData["XTFW"][areaname]["RED"].xiu,
        MBData["XTFW"][areaname]["RED"].xie
    ],chartType:"column"
    };
    var chartXTFW4 = ui.Chart.array(column_XTFW4);
    chartXTFW4 = chartXTFW4.setStyle(StyleRED);
    Map.addUI(chartXTFW4);
            break;

        case 'O3':     
            //加载对臭氧进行监测的近实时数据流产品数据
            var img = pie.ImageCollection('S5P/NRTI_L3_O3')
                .filterBounds(selectarea)              
                .filterDate("2020-03-01", "2020-03-05")
                .select("O3_column_number_density")               
                .mean()             
                .clip(selectarea);
            print(img);
            //设定预览参数
            visParams = {    
                min: 0.11797191202640533,
                max: 0.19426165521144867,
                palette: ['000000', '0031ff', '8000ff', '00ffed', '00ff02', 'fffd00']
            };           
            //加载显示影像
            Map.addLayer(img, visParams, "臭氧柱浓度");
            //图例
            var data = {
                title: "臭氧柱浓度(mol/m^2)",
                colors: ['#000000', '#0031ff', '#8000ff', '#00ffed', '#00ff02', '#fffd00'],
                labels: ["0.10", "0.15", "0.20"],
                step: 30
            };
            var style = {
                right: "100px",
                bottom: "50px",
                height: "70px",
                width: "300px",
                fontSize:'30px'
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);
        break;

        case 'SO2':
            //加载对二氧化硫进行监测的近实时数据流产品数据
            var img = pie.ImageCollection('S5P/NRTI_L3_SO2')
                        .filterBounds(selectarea)
                        .filterDate("2020-03-01", "2020-03-05")
                        .select("SO2_column_number_density")
                        .mean()
                        .clip(selectarea);
            print(img);
            //设定预览参数
            visParams = {
                min: 0,
                max: 0.0005,
                palette: ['000000', '0031ff', '8000ff', '00ffed', '00ff02', 'fffd00']
            };
            //加载显示影像
            Map.addLayer(img, visParams, "地面二氧化硫垂直柱浓度");
            // 图例
            var data = {
                title: "地面二氧化硫垂直柱浓度(mol/m^2)",
                colors: ['#000000', '#0031ff', '#8000ff', '#00ffed', '#00ff02', '#fffd00'],
                labels: ["0", "0.00025","0.0005"],
                step: 30
            };
            var style = {
                right: "100px",
                bottom: "50px",
                height: "70px",
                width: "300px",
                fontSize:'30px'
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);
        break;

        case 'NO2':
            //加载对二氧化氮进行监测的近实时数据流产品数据
            var img = pie.ImageCollection('S5P/NRTI_L3_NO2')
                        .filterBounds(selectarea)
            				.filterDate("2020-04-01","2020-04-15")
                        .select("NO2_column_number_density")
                        .mean()
                        .clip(selectarea);
            print(img);
            //设定预览参数
            visParams = {
                min: 0,
                max: 0.0002,
                palette: ['000000', '0031ff', '8000ff', '00ffed', '00ff02', 'fffd00']
            };
            //加载显示影像
            Map.addLayer(img, visParams, "二氧化氮总垂直柱浓度");
            // 图例
            var data = {
                title: "二氧化氮总垂直柱浓度(mol/m^2)",
                colors: ['#000000', '#0031ff', '#8000ff', '#00ffed', '#00ff02', '#fffd00'],
                labels: ["0.00002", "0.00006", "0.000012", "0.00016", "0.00020", "0.00025"],
                step: 20
            };
            var style = {
                right: "100px",
                bottom: "50px",
                height: "70px",
                width: "300px",
                fontSize:'30px'
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);
        break;
        
        case 'PM25':
            /*var image = pie.ImageCollection("H09/AHI-L1-G")
                           .filterBounds(selectarea)
                           .selectData("2023-06-01","2023-06-02")
                           .select("B1")
                           .clip(selectarea);     
            var PM25 = pie.Algorithm.Himawari9.PM25(image).select("B1");*/
            var image = pie.Image("H09/AHI-L1-G/HS_H09_20230601_0800")
            var PM25 = pie.Algorithm.Himawari9.PM25(image).select("B1").clip(selectarea);
            //分级显示
            var visParam = {
                opacity: 1,
                classify: '35,75,115,150,250,500',
                palette: '00ff7f,ffff00,de9037,dd104e,b0287c,9c3741'
            };
            Map.centerObject(selectarea,8);
            Map.addLayer(PM25, visParam);

            //设置图例
            var data = {
                title: "PM2.5(ug/m3)",
                colors: ["#00ff7f", "#ffff00", "#de9037", "#dd104e", "#b0287c", "#9c3741"],
                labels: ["  优", "良", "轻度污染", "中度污染", "重度污染", "严重污染"],
                step: 1
            };
            var style = {
                right: "100px",
                bottom: "20px",
                height: "70px",
                width: "350px"
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);
        break;          
        case 'PM100':
            /*var image = pie.ImageCollection("H09/AHI-L1-G")
                           .filterBounds(selectarea)
                           .selectData("2023-06-01","2023-06-02")
                           .select("B1")
                           .clip(selectarea);     
            var PM25 = pie.Algorithm.Himawari9.PM25(image).select("B1");*/
            var image = pie.Image("H09/AHI-L1-G/HS_H09_20230601_0800")
            var PM100 = pie.Algorithm.Himawari9.PM100(image).select("B1").clip(selectarea);
            //分级显示
            var visParam = {
                opacity: 1,
                classify: '35,75,115,150,250,500',
                palette: '00ff7f,ffff00,de9037,dd104e,b0287c,9c3741'
            };
            Map.centerObject(selectarea,8);
            Map.addLayer(PM100, visParam);

            //设置图例
            var data = {
                title: " PM10(ug/m3)",
                colors: ["#00ff7f", "#ffff00", "#de9037", "#dd104e", "#b0287c", "#9c3741"],
                labels: ["优", "良", "轻度污染", "中度污染", "重度污染", "严重污染"],
                step: 1
            };
            var style = {
                left: "75%",
                top: "75%",
                height: "70px",
                width: "350px"
            };
            var legend = ui.Legend(data, style);
            Map.addUI(legend);
        break;                  
                
                
                
                
                
                
                
                
                
                
                
                }
            }

function STZLCascader(value, selectData) {
    var index = parseInt(value.length);
    var dataset = selectData[index - 1].value;
    datasetvalue = dataset;
    STZLDataset(datasetvalue);
}

//生态质量评价选择
var STZLlabel = ui.Label("生态质量评价:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: '5px' ,width:'150px',left:'10px',fontSize:'20px'});
var STZLcascader = ui.Cascader({
    placeholder: "遥感生态指数",
    content: [
        { value: 'RSEI', label: '遥感生态指数（RSEI）' },
        {
            label: "空气质量指数（AQI）",
            value: 'AQI',
            children: [
                { value: 'NO2', label: '二氧化氮（NO2）' },
                { value: 'SO2', label: '二氧化硫（SO2）' },
                { value: 'O3', label: '臭氧（O3）' },
                { value: 'PM25', label: '飘尘（PM2.5）' },
                { value: 'PM100', label: '可吸入颗粒物（PM10）' },                
            ]
        },  
        {
            label: "生态系统服务价值",
            value: 'STFW',
            children: [
                { label: '供给服务',value: 'GJFW'},
                { label: '文化服务' ,value: 'WHFW' },
                { label: '支持服务',value: 'ZCFW'},
                { label: '调节服务' ,value: 'TJFW'},
                { label: '系统总服务',value: 'XTFW'},
            ]
        },
//        { value: 'EI', label: '生态环境状况指数（EI）' },
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: STZLCascader
});


//--------------------土地利用分类模块集合----------------------
//非监督分类
//Kmeans计算
function Kmeans(roi){
    var imageCollection = pie.ImageCollection("LC09/02/T1")
                .filterBounds(roi)
                .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
                .median()
                .clip(roi);
            //进行采样 得到一个training（采样结果/采样点 的集合）
            var training = imageCollection.sample(roi, 20, "", "", 200); //采样对象 比例尺（这里是20m的比例尺） 采样200个点
            //进行训练 要先构建一个非监督分类分类器（比如这里的kMeans分类器）
            var cluster = pie.Clusterer.kMeans(7).train(training); //5表示分成5类
            //进行聚类 用cluster算子进行聚类
            var kmeansimage = imageCollection.cluster(cluster, "clusterA"); //波段的名字：clusterA
    return kmeansimage;
}

//最大期望计算
function ZDQW(roi){
    var imageCollection = pie.ImageCollection("LC09/02/T1")
                .filterBounds(roi)
                .select(["B2", "B3", "B4", "B5", "B6", "QA_PIXEL"])
                .median()
                .clip(roi);
            // 20米分辨率下，随机采集200个样本点
            var training = imageCollection.sample(roi, 20, "", "", 200);
            // 构建最大期望分类器并训练样本
            var cluster = pie.Clusterer.em(7).train(training);
            // 加载显示分类结果
            var zdqwimage = imageCollection.cluster(cluster, "clusterA");
    return zdqwimage;
}

//监督分类
//随机森林计算
function SJSL(roi){
    // 获得样本点
    var featureCollection = pie.FeatureCollection('user/17090142114/PGDB001/pieTrainROI');
    Map.centerObject(roi,8);
    // 构建查询数据
    var image = pie.ImageCollection('LC08/01/T1')
                   .filterBounds(roi)
                   .filterDate("2013-01-01", "2020-07-01")
                   .filter(pie.Filter.lt("cloudCover", 5))
                   .select(["B2","B3","B4"])
                   .mean()
                   .clip(roi);

    // 获得训练样本，并且按照7:3分成训练样本和验证样本
    var sampleFeatureCollection = image.sampleRegions(featureCollection, ["landcover"], 30);
    sampleFeatureCollection = sampleFeatureCollection.randomColumn('random');
    var sampleTrainingFeatures = sampleFeatureCollection.filter(pie.Filter.lte("random", 0.7));
    var sampleTestingFeatures = sampleFeatureCollection.filter(pie.Filter.gt("random", 0.7));

    // 构建RT分类器，并训练数据
    var classifer = pie.Classifier.rTrees().train(sampleTrainingFeatures, "landcover", ["B2", "B3", "B4"]);

    // 影像分类，并加载显示
    var resultImage = image.classify(classifer, "classifyA");
    var visParam = {
        opacity:1,
        uniqueValue:'1，1,2',
        palette: 'FAFFC8,00a15c,00477d'
    };
    Map.addLayer(resultImage,visParam, "ClassifyImage");
    Map.addLayer(image,{min:[1500,1100,800],max:[100,800,1500]},"SrcImage");

    // 添加图例  
    var data = {title: "土地利用分类",  
      colors: ['#37B200','#2c3395','#2c3395'],  
      labels: ["绿地","建筑","水体"],  
      step: 30};  
    var style = {  
        bottom: "10px",  
        right: "450px",  
        width: "350px",  
        height: "70px"  
    };
    var legend = ui.Legend(data, style);  
    Map.addUI(legend);  

    // 评估训练样本的精度
    var checkM = classifer.confusionMatrix();
    print("训练矩阵：",checkM);
    print("训练矩阵-ACC系数：",checkM.acc(),"训练矩阵-Kappa系数：",checkM.kappa());

    // 评估验证样本的精度
    var predictResult = sampleTestingFeatures.classify(classifer,"classification");
    var errorM=predictResult.errorMatrix("landcover","classification");
    print("验证矩阵：",errorM);
    print("验证矩阵-ACC系数：",errorM.acc(),"验证矩阵-Kappa系数：",errorM.kappa());
    /// 获得样本点，并且按照8:2分成训练样本点和验证样本点，地图加载显示
    /*var changsha = pie.FeatureCollection("NGCC/CHINA_CITY_BOUNDARY")
        .filter(pie.Filter.eq("name", "长沙市"))
        .first()
        .geometry();
    var imageCollection = pie.ImageCollection("WHU/CLCD")
        .filterBounds(roi)
        //.filterDate(startDate, endDate)
        .select(["B1"])
        .median();
    print(tag);
    var training = imageCollection.sample(changsha, 20, "", "", 200, "", "", "", true)  
    var classifer = pie.Classifier.rTrees(9).train(training, "B1", ["B1"]);
    var sjslimage = imageCollection.classify(classifer, "classifyA");*/
    return sjslimage;
}

//svm计算
function SVM(roi){
    // 获得样本点，并且按照8:2分成训练样本点和验证样本点，地图加载显示
    var roi = pie.FeatureCollection('user/17090142114/PGDB001/WorldROI');
    roi = roi.randomColumn('random');
    var trainingFeatures = roi.filter(pie.Filter.lte("random", 0.7));
    var testingFeatures = roi.filter(pie.Filter.gt("random", 0.7));
    Map.addLayer(trainingFeatures,{color:'FF0000FF'},"TrainLayer");
    Map.addLayer(testingFeatures,{color:'0000FFFF'},"TestLayer");
    Map.centerObject(selectarea,8);

    // 构建查询数据
    var image = pie.Image('user/17090142114/PGDB001/World84').select(["B1","B2","B3"]);

    // 获得训练样本，并且按照8:2分成训练样本和验证样本
    var sampleFeatureCollection = image.sampleRegions(roi, ["type","random"], 50000);
    var sampleTrainingFeatures = sampleFeatureCollection.filter(pie.Filter.lte("random", 0.8));
    var sampleTestingFeatures = sampleFeatureCollection.filter(pie.Filter.gt("random", 0.2));

    // 构建SVM分类器，并训练数据
    var classifer = pie.Classifier.svm().train(sampleTrainingFeatures, "type", ["B1", "B2", "B3"]);

    // 影像分类，并加载显示
    var resultImage = image.classify(classifer, "classifyA").clip(selectarea);
    var visParam = {
        opacity:1,
        uniqueValue:'1,2,3,4',
        palette: '008000,0000ff,ffa500,c0c0c0'
    };
    Map.addLayer(resultImage,visParam, "ClassifyImage");
    Map.addLayer(image,{},"SrcImage",false);

    // 添加图例  
    var data = {title: "利用分类",  
      colors: ['#ffa500','#008000','#0000ff','#c0c0c0'],  
      labels: ["沙漠","绿地", "海洋","冰川"],  
      step: 1};  
    var style = {  
        bottom: "10px",  
        right: "450px",  
        width: "400px",  
        height: "70px"  
    };
    var legend = ui.Legend(data, style);  
    Map.addUI(legend);  

    // 评估训练样本的精度
    var checkM = classifer.confusionMatrix();
    print("训练矩阵：",checkM);
    print("训练矩阵-ACC系数：",checkM.acc(),"训练矩阵-Kappa系数：",checkM.kappa());

    // 评估验证样本的精度
    var predictResult = sampleTestingFeatures.classify(classifer,"classification");
    var errorM=predictResult.errorMatrix("type","classification");
    print("验证矩阵：",errorM);
    print("验证矩阵-ACC系数：",errorM.acc(),"验证矩阵-Kappa系数：",errorM.kappa());
    // 获得样本点，并且按照8:2分成训练样本点和验证样本点，地图加载显示
    /*var changsha = pie.FeatureCollection("NGCC/CHINA_CITY_BOUNDARY")
        .filter(pie.Filter.eq("name", "长沙市"))
        .first()
        .geometry();
    var imageCollection = pie.ImageCollection("WHU/CLCD")
        .filterBounds(roi)
        .select(["B1"])
        .median()
        .clip(roi);

    print(tag);
    var training = imageCollection.sample(changsha, 20, "", "", 200, "", "", "", true)  
    var classifer = pie.Classifier.svm(9).train(training, "B1", ["B1"]);
    // 加载显示分类结果
    var svmimage = imageCollection.classify(classifer, "classifyA");*/
    return svmimage;
}


function cacluateRD(roi, startDate, tag) {
    // var visParam = null;
    // var image;
    // if (selectTu == 'CLCD') {
    //     tag = 'CLCD';
    // }
    // var data = {};
    // var style = {};
//------------------------case---------------------------
  switch (tag) {
        case 'K-means':
            var Kmeansimage = Kmeans(selectarea);
                layerKey = Map.addLayer(
                Kmeansimage,
                {   opacity: 1,
                    classify: '1,2,3,4,5,6,7',
                    palette: 'FF0000,00FFFF,00FF00,FF00FF,0000FF,FF8000,00AAFF' },
                "K-means",//红    天蓝  绿  紫 深蓝 橙 蓝
                true
            );
                addMapLegend("K-means");
                break;
    
        case "ZDQW":
            var ZDQWimage = ZDQW(selectarea);
            layerKey = Map.addLayer(
            ZDQWimage,
            {   opacity: 1, //不透明
                classify: '1,2,3,4,5,6,7',
                palette: 'FF0000,00FFFF,00FF00,FF00FF,0000FF,FFFF00,FF8000' },
            "ZDQW",
            true
          );
            addMapLegend("ZDQW");
            break;

        case "随机森林算法":

            var SJSLimage = SJSL(selectarea);
            print("111")
            layerKey = Map.addLayer(
            SJSLimage,
            {   opacity: 1,
                uniqueValue: '1,2,3,4,5,6,7,8,9',
                palette: ['f5deb3', '008000', 'adff2f',
                    '90ee90', '0000ff', '00ffff',
                    'ffd700', 'daa520', '808000',] },
            "随机森林算法",
            true
          );
            addMapLegend("随机森林算法");
            
            break;

        case "svm算法":
            var SVMimage = SVM(selectarea);
            layerKey = Map.addLayer(
            SVMimage,
            {   opacity: 1,
                uniqueValue: '1,2,3,4,5,6,7,8,9',
                palette: ['f5deb3', '008000', 'adff2f',
                    '90ee90', '0000ff', '00ffff',
                    'ffd700', 'daa520', '808000',] },
            "svm算法",
            true
          );
            addMapLegend("svm算法");
            break;

        case 'td10m':
        var tdly = pie.ImageCollection('THU/FROM_GLC10_2017')
                      .filterBounds(selectarea)
                      .select("B1")
                      .mosaic()
                      .clip(selectarea);
        visParams = {
            uniqueValue :'10,20,30,40,50,60,70,80,90,100',
            palette: ['00FF00', '00e900', '00dF00', '00ce00', '00ba00',
                        '0002FF', '97FF00', 'FF0000', 'FFce00', '663399']};

        Map.addLayer(tdly, visParams, "img");
        //图例
        var data = {title: "全球10米地表覆盖",
                    colors: ['#00FF00', '#00e900', '#00dF00', '#00ce00', '#00ba00',
                            '#0002FF', '#97FF00', '#FF0000', '#FFce00', '#663399'],
                    labels: ["耕地", "森林", "草原", "灌木丛", "湿地", "水", "苔原", "不透水层", "裸地", "雪"],
                    step: 1};
        var style = {left: "65%", top: "80%", height: "100px", width: "600px"};
        var legend = ui.Legend(data, style);
        Map.addUI(legend);
        break;

        case 'td30m':
        //加载中国30m精细地表覆盖产品数据
        var img = pie.ImageCollection('CAS/GLC_FCS30_2020')
                     .filterBounds(selectarea)
                     .select("B1")
                    .mosaic()
                     .clip(selectarea);
        print(img);
        //设定预览参数
        visParams = {
            uniqueValue: ['10', '11', '12', '20', '51', '52', '61', '62', '71', '72', '81',
                          '82', '91', '92', '120', '121', '122', '130', '140', '150', '152',
                          '153', '180', '190', '200', '201', '202', '210', '220', '250'],
            palette: ['FFFF64', 'FFFF64', 'FFFF00', 'AAF0F0', '4C7300',
                      '006400', '00A000', 'AAC800', '003C00', '005000',
                      '285000', '286400', 'A0B432', '788200', '966400',
                      '964B00', '966400', 'FFB432', 'FFDCD2', 'FFEBAF',
                      'FFD278', 'FFEBAF', '00DC82', 'C31400', 'FFF5D7',
                      'DCDCDC', 'FFF5D7', '0046C8', 'FFFFFF', 'FFFFFF']
        };
        //加载显示影像
        Map.centerObject(roi, 8);
        Map.addLayer(img, visParams, "地表覆盖");
        // 图例
        var data = {
            title: "地表覆盖",
            colors: ['#FFFF64', '#FFFF64', '#FFFF00', '#AAF0F0', '#4C7300',
                     '#006400', '#00A000', '#AAC800', '#003C00', '#005000',
                     '#285000', '#286400', '#A0B432', '#788200', '#966400',
                     '#964B00', '#966400', '#FFB432', '#FFDCD2', '#FFEBAF',
                     '#FFD278', '#FFEBAF', '#00DC82', '#C31400', '#FFF5D7',
                     '#DCDCDC', '#FFF5D7', '#0046C8', '#FFFFFF', '#FFFFFF'],
            labels: ["旱作农田", "草本覆盖", "乔木或灌木覆盖(果园)", "灌溉农田", "开阔的常绿阔叶林",
                     "封闭的常绿阔叶林", "开阔的落叶阔叶林", "封闭的落叶阔叶林", "开阔的常绿针叶林",
                     "封闭的常绿针叶林", "开阔的落叶针叶林", "封闭的落叶针叶林", "开阔的混叶林",
                     "封闭的混叶林", "灌木", "常青灌木", "落叶灌木", "草地", "地衣和苔藓",
                     "稀疏植被", "稀疏灌木", "稀疏草本", "湿地", "不透水面", "裸地",
                     "牢固的裸地", "松散的裸地", "水体", "永久冰雪", "其他"],
            step: 1
        };
        var style = {
            left: "20%",
            top: "80%",
            height: "130px",
            width: "1200px"
        };
        var legend = ui.Legend(data, style);
        Map.addUI(legend);
        break;

        case 'td500m':
        //加载全球土地覆盖分类(MCD12Q1.006)数据
        var img = pie.ImageCollection('USGS/MCD12Q1/006')
                    .filterDate("2001-01-01", "2002-12-31")
                    .select("LC_Type1")
                    .mosaic()
                    .clip(selectarea);
        print(img);
        //设置预览参数
        var visLC = {min: 1, max: 17,
                    palette: ['05450a', '086a10', '54a708', '78d203', '009900',
                                'c6b044', 'dcd159', 'dade48', 'fbff13', 'b6ff05',
                                '27ff87', 'c24f44', 'a5a5a5', 'ff6d4c', '69fff8',
                                'f9ffa4', '1c0dff']};
        //加载显示影像
        Map.addLayer(img, visLC, "img");
        break;      

         case 'td1000m':
        //加载2020年中国土地利用遥感监测数据
        var img = pie.ImageCollection("CAS/LULC_LANDCOVER_1KM")
                    .filterDate("2020-01-01", "2021-01-01")
                    .select("B1")
                    .mean()
                    .clip(selectarea);
        print(img);
        //设定颜色预览组合
        visParams = {uniqueValue: ["11", "12", "21", "22", "23", "24", "31", "32", "33", "41", "42", "43", "44",
                                    "45", "46", "51", "52", "53", "61", "62", "63", "64", "65", "66", "67", "99"],
                    palette: ["feb24c", "fed976", "238b45", "41ab5d", "74c476", "a1d99b", "addd8e", "d9f0a3", "f7fcb9",
                                "a6bddb", "74a9cf", "3690c0", "0570b0", "045a8d", "023858", "ff0000", "ff8484", "ffb8b7",
                                "fee391", "fec44f", "fe9929", "ec7014", "cc4c02", "993404", "662506", "0000ff"]};
        //定位地图中心
        Map.centerObject(img, 3);
        //加载影像
        Map.addLayer(img, visParams, "img");
        //图例
        var data = {title: "地表覆盖",
                    colors: ["#feb24c", "#fed976", "#238b45", "#41ab5d", "#74c476", "#a1d99b", "#addd8e", "#d9f0a3", "#f7fcb9",
                            "#a6bddb", "#74a9cf", "#3690c0", "#0570b0", "#045a8d", "#023858", "#ff0000", "#ff8484", "#ffb8b7",
                            "#fee391", "#fec44f", "#fe9929", "#ec7014", "#cc4c02", "#993404", "#662506", "#0000ff"],
                    labels: ["水田", "旱地", "有林地", "灌木林", "疏林地", "其他林地", "高覆盖度草地", "中覆盖度草地", "低覆盖度草地",
                            "河渠", "湖泊", "水库坑塘", "永久性冰川雪地", "滩涂", "滩地", "城镇用地", "农村居民点", "其他建设用地",
                            "沙地", "戈壁", "盐碱地", "沼泽地", "裸土地", "岩石质地", "其他", "海洋"],
                    step: 1};
        var style = {right: "0px", bottom: "0px", height: "130px", width: "1200px"};
        var legend = ui.Legend(data, style);
        Map.addUI(legend);
        break;                            
  }
}



//计算指标切换
var pointlayer = null;
var IndexTag = 'K-means';
function RDYXJZ(value, selectData) {
    var index = parseInt(value.length);
    IndexTag = value[index - 1];
    if (pointlayer != null) {
        Map.removeLayer(pointlayer);
        print("pointlayer", pointlayer);
    } //清空现有层
    cacluateRD(selectarea,selectdate,IndexTag);
}


//土地利用分类
var RDYXJZlabel = ui.Label("土地利用分类:",
{ fontWeight: 'bold', fontSize: '15px', color: "#12B6F9", top: "5px",width:'150px',left:'10px',fontSize:'20px'});
var RDYXJZcascader = ui.Cascader({
    placeholder: "分类方式",
    content: [
//        { value: 'ld', label: '土地利用类型' },
      {     label:"土地利用类型",
            value:"tudiliyong",
            children:[
                { value: 'td10m', label: '10m'},              
                { value: 'td30m', label: '30m'},
                { value: 'td500m', label: '500m'},                
                { value: 'td1000m', label: '1000m' },
            ]
},
        {
            label: "监督分类",
            value: 'jiandu',
            children: [
                { value: '随机森林算法', label: '随机森林'},
                { value: 'svm算法', label: '支持向量机' },
            ]
        },  
        {
            label: "非监督分类",
            value: 'fenjiandu',
            children: [
                { value: 'K-means', label: 'K-Means'},
                { value: 'ZDQW', label: '最大期望算法'},
            ]
        },
    ],
    style: { backgroundColor: "#FFFFFF", width: '140px' },
    onChange: RDYXJZ
});



//按钮
function clickBtn1() {
    Map.addUI(label4);
    var selectarea1 = pie.FeatureCollection("NGCC/CHINA_COUNTY_BOUNDARY")
                         .filter(pie.Filter.eq("name","方山县")).first().geometry();
    //Map.centerObject(selectarea, 8);                     
    print('开始');
    var l5Imgs = [];
    /*for (var year = 1984; year <= 2011; year++) {
        var l5img = pie.ImageCollection("LT05/02/SR")
            .filterDate(year + "-01-01", year + "-12-31")
            .filterBounds(selecetyear)
            .filter(pie.Filter.lte('cloud_cover', 5))
            .select(["B4"]);
        var yearImg = l5img.mosaic();
        var image = yearImg.clip(hhk);
        var b4 = image.select("B4");
        b4 = b4.updateMask(b4.lte(43636).and(b4.gte(7273)))
        b4 = ((b4).multiply(0.0000275)).subtract(0.2);
        var ssc = (((b4.power(2)).multiply(614561.673)).add(b4.multiply(1349.630))).add(5.184);
        if (imgKey != null) {
            Map.removeLayer(imgKey);
        }
        Map.addLayer(ssc, vis, year, false);
        yearImg = yearImg.set("year", year.toString());
        l5Imgs.push(yearImg);
    }*/
    var l8Imgs = [];
    for (var year = 2013; year <= 2021; year++) {
        print("年份",year);
        var l8img = pie.ImageCollection("LC08/01/T1")
            .filterDate(year + "-01-01", year + "-12-31")
            .filterBounds(selectarea)
            .map(landsat8cloud)
            .mean()
            .clip(selectarea);
        var lst = LST30(l8img);
        Map.addLayer(lst, { min: 0, max: 30, palette: colors1 }, year, false);
        l8img = l8img.set("year", year.toString());
        l8Imgs.push(l8img);
    }

    //构建Landsat 5、Landsat 7、Landsat 8影像集合
    l5Imgs = pie.ImageCollection.fromImages(l5Imgs);
    l8Imgs = pie.ImageCollection.fromImages(l8Imgs);
    //合并Landsat 5、Landsat 7和Landsat 8影像集，得到imageCollection las
    var las = l8Imgs.merge(l5Imgs);
    print('总体',las);
    var dates = [];
    var result = las.reduceColumns(pie.Reducer.toList(2), ["year", "lst"])
    .getInfo(function(msgInfo) {
        dates = msgInfo["list"]["year"];
        
        Map.playLayersAnimation(dates, 1, 1, function(name, index) {
            label4 = label4.setValue(name);
        });
    });
    return;
};
var btn = ui.Button({
  label: "显示",
  type: "success",
  onClick: clickBtn1,
  style: { left: "70px", top: "0px" },
});

//清空按钮
var roilayerKey = null; // 矢量图层 key
function cancelclickBtn() {
  if (layerKey != null) {
    Map.removeLayer(layerKey);
  } //清空现有层
  if (roilayerKey != null) {
    Map.removeLayer(roilayerKey);
  }
  // DOM 操作：重启系统
  var restbtn = document.getElementsByClassName("toolButton")[3];
  restbtn.click();
  var runbtn = document.getElementsByClassName("toolButton")[2];
  runbtn.click();
}
var btn1 = ui.Button({
  label: "清空",
  style: { left: "115px" },
  onClick: cancelclickBtn,
});

var btnPanel = ui.Panel({
  widgets: [btn1],
  style: { left: "0px", top: "0px" ,backgroundColor: "#FFFFFF",},
  layout: ui.Layout.flow("horizontal"),location:"middle-cent"
});
//----------------------------------------以下为UI设计界面---------------------------------------------------
//题目
Map.addUI(ui.Label("\xa0\xa0城\xa0\xa0市\xa0\xa0热\xa0\xa0环\xa0\xa0境\xa0\xa0综\xa0\xa0合\xa0\xa0分\xa0\xa0析\xa0\xa0云\xa0\xa0平\xa0\xa0台\xa0", 
{ fontWeight: 'bold', fontSize: '40px', color: "white" ,height:'50px',width:'px',top:'-5px',location:"top-center"}));
//--尝试放入题目模块，调整不了location失败--
// var timuLabel = ui.Label("\xa0\xa0城\xa0\xa0市\xa0\xa0热\xa0\xa0岛\xa0\xa0云\xa0\xa0服\xa0\xa0务\xa0\xa0平\xa0\xa0台\xa0\xa0", 
//     {fontWeight: 'bold', fontSize: '40px', color: "white" ,height:'50px',width:'px',top:'-5px',location:"top-center"});

//题目模块集成
var module2panel = ui.Panel({
    widgets: [],
    layout:ui.Layout.flow("horizontal")
});
module2panel.setStyle({ width: "3000px", height: "60px", left: "px", top: "px",
    backgroundColor: "rgba(45, 140, 240,1)", color: '#FFFFFF'});
    
Map.addUI(module2panel);

//功能模块 
var module1label = ui.Label("功能模块", { fontWeight: 'bold', fontSize: '35px', color: "#12B6F9", left: '75px', height:'60px'});
//--日期选择panel
var datePanel = ui.Panel({ widgets: [dateselectlabel, dateselect],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//--地区选择panel
var areaPanel = ui.Panel({ widgets: [areacascaderlabel, areaselectcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//地表温度反演panel
var lstPanel = ui.Panel({ widgets: [LSTlabel, LSTcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//热岛足迹提取panel
var rdzjPanel = ui.Panel({ widgets: [RDlabel, RDcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//蓝绿空间分析panel
var lvkjPanel = ui.Panel({ widgets: [LVKJlabel, LVKJcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//热岛影响因素panel
var rdyxysPanel = ui.Panel({ widgets: [RDYXYZlabel, RDYXYZcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//生态质量评价panel
var stzlPanel = ui.Panel({ widgets: [STZLlabel, STZLcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })
//土地利用分类Panel
var rdyxjzPanel = ui.Panel({ widgets: [RDYXJZlabel, RDYXJZcascader],
    layout: ui.Layout.flow("horizontal"), style: { backgroundColor: "#FFFFFF", height: '48px' } })


//功能集合Panel
var module1panel = ui.Panel({
    widgets: [module1label, datePanel,areaPanel,lstPanel,rdzjPanel,lvkjPanel,rdyxysPanel,stzlPanel,rdyxjzPanel,btnPanel],
});
module1panel.setStyle({ width: "310px", height: "500px", left: "px", top: "60px", backgroundColor: "#FFFFFF", color: '#eb7958',border: "3px solid #13A1EF" });
Map.addUI(module1panel);
